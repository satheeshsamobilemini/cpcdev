<apex:page Controller="FullQuoteMainController_AC" id="pageId" action="{!FullQuoteMainController_AC_initialize}" >
    <apex:sectionHeader title="Quotation Entry: Full Quote" />
    <!-- <apex:includeScript value="{!$Resource.jQueryLib19Compress}"/> -->
    <apex:includeScript value="{!$Resource.Mobile_Mini_Resource}"/>
    <apex:includeScript value="/soap/ajax/10.0/connection.js"/>
    <apex:includeScript value="/soap/ajax/10.0/apex.js"/>
    <apex:includeScript value="/support/console/26.0/integration.js"/>
    <apex:includeScript value="{!$Resource.tablesorterJs}"/>
    <style type="text/css">      
        
                
        .analysiSetPopupBackgroundEmail {
           background-color:black;
                       opacity: 0.20;
                       filter: alpha(opacity = 20);
                       position: absolute;
                       width: 100%;
                       height: 100%;
                       top: 0;
                       left: 0;
                       z-index: 9998;
          } 
          
                .analysiSetPopupEmail {
                
                      background-color: #FCFAFC; 
                       border-width: 2px;
                       z-index: 9999;
                       left: 40%;
                       padding:10px;
                       position: absolute; 
                       border: 1px solid #DA9627;
                       width: 500px;
                       margin-left: -130px;
                       top:150px;
                       border-top-style:outset;
                       border-top-width:20px;
                       border-top-color: #DA9627;
                       -webkit-border-radius: 5px;
                       -moz-border-radius: 5px;
                       border-radius: 5px;
                       -moz-border-radius:10px;
                       -moz-box-shadow: -2px -2px 10px rgba(0,0,0,.25) inset, 2px 2px 10px white inset;
                       border-radius: 15px;
/*                     height:435px; */
          }
          
          .contactEmailPopupBackground {
           background-color:black;
                       opacity: 0.20;
                       filter: alpha(opacity = 20);
                       position: absolute;
                       width: 100%;
                       height: 100%;
                       top: 0;
                       left: 0;
                       z-index: 9998;
          }
          
         .contactEmailPopup {
           background-color: #FCFAFC;
                       border-width: 2px;
                       z-index: 9999;
                       left: 45%;
                       padding:10px;
                       position: absolute;
                       border: 1px solid #DA9627;
                       width: 750px;
                       margin-left: -130px;
                       top:200px;
                       border-top-style:outset;
                       border-top-width:20px;
                       border-top-color: #DA9627;
                       -webkit-border-radius: 5px;
                       -moz-border-radius: 5px;
                       border-radius: 5px;
                       -moz-border-radius:10px;
                       -moz-box-shadow: -2px -2px 10px rgba(0,0,0,.25) inset, 2px 2px 10px white inset;
                       border-radius: 15px;
          }
          
    /*  .activeTab    
         {
             
            background-color:#A2B5CD; 
             background-image:none;
             font-weight: bold; 
             padding-top:5px; 
             font-size:11px;
             height:25px;
             
         }
         .inactiveTab 
         { 
             background-color: #BCD2EE; //A2B5CD,BCD2EE,B4CDCD
             //color:Blue; 
             background-image:none;
             font-weight: bold;
             //size:20px;
             height:25px;
         } */
         
          .activeTab { 
                    background-color:#d9e1eb; 
                    border-color: black;
                    background-image:none;
                    font-weight:bold;
                    font-size:12px;
                    height:25px;
                    vertical-align:middle;
                    padding-top:10px;
                    border: none;
                }
                
              .inactiveTab { 
                    cursor:pointer;
                    background-color:#abc1fe;
                    background-image:none;
                    color:white; /*#3C3C3C;*/
                    font-weight:bold;
                    font-size:12px;
                    height:25px; 
                    vertical-align:middle;
                    padding-top:10px;
                    border: none;
                    
         } 
         
         
         .popupBackground1 {
               background-color:black;
               opacity: 0.20;
               filter: alpha(opacity = 20);
               position: absolute;
               width: 50%;
               height: 100%;
               top: 0;
               left: 0;
               z-index: 9998;
        }
        
        .custPopup12 {
            background-color: #FCFAFC;
            border-width: 2px;
            z-index: 9999;
            left: 50%;border: 1px solid #DA9627;
            padding:10px;
            position: absolute;
            width: 100px;
            margin-left: -50px;
            top:190px;
            border-top-style:outset;
            -webkit-border-radius: 5px;
            -moz-border-radius: 5px; 
            border-radius: 5px;
            -moz-border-radius:10px;
            -moz-box-shadow: -2px -2px 10px rgba(0,0,0,.25) inset, 2px 2px 10px white inset;
            border-radius: 15px;
         }
         
         .deliverySlotDiv {
            background-color: #FCFAFC;
            border-width: 2px;
            z-index: 9999;
            left: 82%;
            border: 1px solid #DA9627;
            padding:10px;
            position: absolute;
            width: 170px;
            margin-left: -50px;
            top:780px;
            border-top-style:outset;
            -webkit-border-radius: 5px;
            -moz-border-radius: 5px; 
            border-radius: 5px;
            -moz-border-radius:10px;
            -moz-box-shadow: -2px -2px 10px rgba(0,0,0,.25) inset, 2px 2px 10px white inset;
            border-radius: 15px;
         }
         
         .analysiSetPopup {
           background-color: #FCFAFC;
                       border-width: 2px;
                       z-index: 9999;
                       left: 45%;
                       padding:10px;
                       position: absolute;
                       border: 1px solid #DA9627;
                       width: 750px;
                       margin-left: -130px;
                       top:200px;
                       border-top-style:outset;
                       border-top-width:20px;
                       border-top-color: #DA9627;
                       -webkit-border-radius: 5px;
                       -moz-border-radius: 5px;
                       border-radius: 5px;
                       -moz-border-radius:10px;
                       -moz-box-shadow: -2px -2px 10px rgba(0,0,0,.25) inset, 2px 2px 10px white inset;
                       border-radius: 15px;
          }
          
          .addContactPopup {
           background-color: #FCFAFC;
                       border-width: 2px;
                       z-index: 9999;
                       left: 30%;
                       padding:10px;
                       position: absolute;
                       border: 1px solid #DA9627;
                       width: 750px;
                       margin-left: -130px;
                       top:200px;
                       border-top-style:outset;
                       border-top-width:20px;
                       border-top-color: #DA9627;
                       -webkit-border-radius: 5px;
                       -moz-border-radius: 5px;
                       border-radius: 5px;
                       -moz-border-radius:10px;
                       -moz-box-shadow: -2px -2px 10px rgba(0,0,0,.25) inset, 2px 2px 10px white inset;
                       border-radius: 15px;
          }
          
          .analysiSetPopupPgAcc{
                       background-color: #FCFAFC;
                       border-width: 2px;
                       z-index: 9999;
                       left: 25%;
                       padding:10px;
                       position: absolute;
                       border: 1px solid #DA9627;
                       width: 850px;
                       margin-left: -130px;
                       top:200px;
                       border-top-style:outset;
                       border-top-width:20px;
                       border-top-color: #DA9627;
                       -webkit-border-radius: 5px;
                       -moz-border-radius: 5px;
                       border-radius: 5px;
                       -moz-border-radius:10px;
                       -moz-box-shadow: -2px -2px 10px rgba(0,0,0,.25) inset, 2px 2px 10px white inset;
                       border-radius: 15px;
          }
          
          
          .analysiSetPopup1 {
           background-color: #FCFAFC;
                       border-width: 2px;
                       z-index: 99;
                       left: 45%;
                       padding:10px;
                       position: absolute;
                       border: 1px solid #DA9627;
                       width: 750px;
                       margin-left: -130px;
                       top:100px;
                       border-top-style:outset;
                       border-top-width:20px;
                       border-top-color: #DA9627;
                       -webkit-border-radius: 5px;
                       -moz-border-radius: 5px;
                       border-radius: 5px;
                       -moz-border-radius:10px;
                       -moz-box-shadow: -2px -2px 10px rgba(0,0,0,.25) inset, 2px 2px 10px white inset;
                       border-radius: 15px;
          }
          
          .ecodeSetPopup {
           background-color: #FCFAFC;
                       border-width: 2px;
                       z-index: 9999;
                       left: 45%;
                       padding:10px;
                       position: absolute;
                       border: 1px solid #DA9627;
                       width: 750px;
                       margin-left: -130px;
                       top:800px;
                       border-top-style:outset;
                       border-top-width:20px;
                       border-top-color: #DA9627;
                       -webkit-border-radius: 5px;
                       -moz-border-radius: 5px;
                       border-radius: 5px;
                       -moz-border-radius:10px;
                       -moz-box-shadow: -2px -2px 10px rgba(0,0,0,.25) inset, 2px 2px 10px white inset;
                       border-radius: 15px;
          }
        
        .analysiSetPopupBackground {
           background-color:black;
                       opacity: 0.20;
                       filter: alpha(opacity = 20);
                       position: absolute;
                       width: 100%;
                       height: 100%;
                       top: 0;
                       left: 0;
                       z-index: 9998;
          }
          .analysiSetPopupBackground1 {
           background-color:black;
                       opacity: 0.20;
                       filter: alpha(opacity = 20);
                       position: absolute;
                       width: 100%;
                       height: 100%;
                       top: 0;
                       left: 0;
                       z-index: 98;
          }
          
        .borderbox {            
            border: 1px solid black;
            border-color:#A4A4A4;
            width: 40%;
            height: 50%;
            -moz-border-radius: 0px;
            -webkit-border-radius: 0px;
            border-radius: 0px;
            
        }
        
        .stylePopup {
           background-color: #FCFAFC;
                       border-width: 2px;
                       z-index: 9999;
                       left: 45%;
                       padding:10px;
                       position: absolute;
                       border: 1px solid #DA9627;
                       width: 750px;
                       margin-left: -250px;
                       top:300px;
                       border-top-style:outset;
                       border-top-width:20px;
                       border-top-color: #DA9627;
                       -webkit-border-radius: 5px;
                       -moz-border-radius: 5px;
                       border-radius: 5px;
                       -moz-border-radius:10px;
                       -moz-box-shadow: -2px -2px 10px rgba(0,0,0,.25) inset, 2px 2px 10px white inset;
                       border-radius: 15px;
          }
        
        .stylePopupBackground {
            
            background-color:black;
                       opacity: 0.20;
                       filter: alpha(opacity = 20);
                       position: absolute;
                       width: 100%;
                       height: 100%;
                       top: 0;
                       left: 0;
                       z-index: 9998;
        }
        
    </style>
    <style>
        
        #wrapper {width:825px; margin:50px auto}
        .sortable {width:823px; border:1px solid #ccc; border-bottom:none}
        .sortable th {padding:4px 6px 6px; background:#dd9e36; color:#fff; text-align:left; color:#fff}
        .sortable td {padding:2px 4px 4px; border-bottom:1px solid #ccc}
        .sortable .head {background:#996510 url({!$Resource.tableSorterSort}) 6px center no-repeat; cursor:pointer; padding-left:18px}
        .sortable .desc {background:#996510 url({!$Resource.tableSorterDesc}) 6px center no-repeat; cursor:pointer; padding-left:18px}
        .sortable .asc {background:#996510 url({!$Resource.tableSorterAsc}) 6px  center no-repeat; cursor:pointer; padding-left:18px}
        .sortable .head:hover, .sortable .desc:hover, .sortable .asc:hover {color:#ccc}
        /*.sortable .even td {background:#f2f2f2}
        .sortable .odd td {background:#fff}*/
    </style>
    <script type="text/javascript">
         //jQuery.noConflict();
        //var dom = {};
        //dom.query = jQuery.noConflict(true);
         /*dom.query(document).ready(function() {
             
        });*/
        
        
        /*//alert(document.referrer);
        //alert(document.URL);
        var docReferer = document.referrer;
        //alert(docReferer);
        //alert(docReferer.indexOf("servlet.Integration?scontrolCaching"));
        if(docReferer != null && (docReferer.indexOf("servlet.Integration?scontrolCaching") > -1)){
            //alert('from console');
              window.onload=function(){callwstransactiontype();};
        }else{
            //alert('from page');
            $.noConflict();
            jQuery(document).ready(function() {
                // Code that uses jQuery's $ can follow here.
                callwstransactiontype();
            });
         }*/
         
         
          
         /* $.noConflict();
          jQuery(document).ready(function() {
            // Code that uses jQuery's $ can follow here.
            
            callwstransactiontype();
          });*/
          
          /*var newJquery = jQuery.noConflict( true );
          newJquery(document).ready(function() {
            // Code that uses jQuery's $ can follow here.
            callwstransactiontype();
          });*/
          
          //---------------------Working--------------JS-------------------------------------------------------------
          var previousOnload = window.onload;
		  window.onload = function() {
		   if (previousOnload) {
		    previousOnload(); 
		   } 
		   callwstransactiontype();
		   //alert('loading...');
		  }
		  //---------------------Working--------------JS-------------------------------------------------------------
          
          /*if (sforce.console.isInConsole()) {
            //alert('console');
            window.onload=function(){callwstransactiontype();};
          }else{
            //alert('page');
            window.onload=function(){callwstransactiontype();};
            $.noConflict();
            jQuery(document).ready(function() {
                // Code that uses jQuery's $ can follow here.
                alert('page');
                callwstransactiontype();
            });
          }*/
          
          function openRecord(recId){
                if(sforce.console.isInConsole()){
                    //alert('console');
                    openSfdcRec(recId);
                }else{
                    //alert('page');
                    window.open('/'+recId,'_blank');
                }
                    
          }
          
          function openSfdcRec(recordId){
                sforce.console.getFocusedPrimaryTabId(function showTabId(result) {
                    result.calledUrl = '/'+recordId;
                    var primaryTabId = result.id;
                    sforce.console.openSubtab(primaryTabId , result.calledUrl, true, 
                        '', null,openSuccess, 'salesforceSubtab');
                });
                var openSuccess = function openSuccess(result) {
                };
          }
     </script>
    <script type="text/javascript">
        
        function cancelFullQuote(){
            var r = confirm("Are you sure you want to close this Quote?");
            if (r==true){
                  cancelFullQuotemehtod();
            }else{
                return false;
            }
        }
        function SendingMailPopUp(){
            document.getElementById('EmailQuote').style.display = '';
            SendingMail();
        }
        function hideCancelEmailPopUp(){
            document.getElementById('EmailQuote').style.display = 'none';   
        }
        function showEmailListOfContact(add)
        {
            document.getElementById('contactIdPopUpForEmail').style.display = 'block';
            document.getElementById('EmailAddessIdfy').value = add;
            
         }
         function hideContactPopUp()
        {           
            document.getElementById('contactIdPopUpForEmail').style.display = 'none';
        }
        
        function hideCancelContactPopUpEmail()
        {
            document.getElementById('contactIdPopUpForEmail').style.display = 'none';  
            //document.getElementById('selectedContactBilling').value= '';
        }
        
        
        function ValidDate(val, Id, tday)
          {
                  var tdayArray = tday.split('/'); 
                  var datevalue = val.split('/');
                  var value = new Date();
                  var today= new Date();    
                  value.setFullYear(datevalue[2],datevalue[0] - 1,datevalue[1]); 
                  today.setFullYear(tdayArray[2],tdayArray[0] - 1,tdayArray[1]); 
                  if(value < today) 
                  {
                           document.getElementById(Id).value = tday;
                           alert('Past Date cannot be selected');
                  }
                  
          }
          
          
          
        function changeRowColor(x,inputId,Id){
            //alert(document.getElementById(Id).value);
            //alert(inputId);
            if(document.getElementById(Id).value == inputId){
                x.style.backgroundColor = "#F2F2F2";
                document.getElementById(Id).value = '';
                document.getElementById('newAccBtn').style.display = '';
                document.getElementById('existingAccBtn').style.display = 'none'; 
            }else{
                document.getElementById(Id).value = inputId;  
                document.getElementById('newAccBtn').style.display = 'none';
                document.getElementById('existingAccBtn').style.display = ''; 
                var tbl = document.getElementById("sorter");
                for (var i = 0; i < tbl.rows.length; i++) {                
                    tbl.rows[i].style.backgroundColor = "#F2F2F2";
                }
                colorChangeFun(x); 
                //alert(window.getComputedStyle(x,null).getPropertyValue("background-color"));
            }
            window.event.cancelBubble = true;
        }
        
        function DeselectAccount(){
            var tbl = document.getElementById("sorter");
            if(tbl != null){
                for (var i = 0; i < tbl.rows.length; i++) {                
                    tbl.rows[i].style.backgroundColor = "#F2F2F2";
                }
                document.getElementById('SelectedVAddressRadio').value = '';
                document.getElementById('newAccBtn').style.display = '';
                document.getElementById('existingAccBtn').style.display = 'none';
            } 
        }
        
        function changeRowColorDblClk(x,inputId,Id){
            document.getElementById(Id).value = inputId;  
            var tbl = document.getElementById("sorter");
            for (var i = 0; i < tbl.rows.length; i++) {                
                tbl.rows[i].style.backgroundColor = "#F2F2F2";
            }
            colorChangeFun(x);
            hideValidateAddressPopUp();
            newCustomerIdSelected();
            
        }  
         
        
        function changeRowColorInShipping(x,inputId,Id){
        
            document.getElementById(Id).value = inputId;  
        
            var tbl = document.getElementById("val_grid");
             
            for (var i = 0; i < tbl.rows.length; i++) {                
                   tbl.rows[i].style.backgroundColor = "#F2F2F2";
            }
            document.getElementById('AddressShippingDivDislable').style.display = 'none';
            document.getElementById('AddressShippingDivEnable').style.display = 'block';
            colorChangeFun(x);
            
        }
        
        function changeRowColorInShippingondblclick(x,inputId,Id){
            document.getElementById(Id).value = inputId;
              
            hideValidateAddressShippingPopUp();
            validateAddressShippingIdSelected();
            
            
        } 
        
        function MarkAsLostFunciton(){
            var r=confirm("Quote has been Lost, do you want to close this Opportunity?");
            if (r==true){
                document.getElementById('markAsLossOppconformation').value = 'yesChangeStage';  
            }else{
                document.getElementById('markAsLossOppconformation').value = 'NoChangeStage';
            }
        }
         function isValidTransactionType() {
        
         var t =document.getElementById('pageId:formId:blockId:billingAddressDetailsid:ttyepesection:ttyepe').value;
          if(t!="-None-"){
            return true;
          }else{
            return false;
          }

        }
         function isValidAddress() {
         var p =document.getElementById('pageId:formId:blockId:shippingSecId:shiipingAccountSectionId:addressShippingArea').value;
         addressRegex = /^[a-zA-z0-9\,\.\-\'\:\;\#\&\/\r\n\ ]+$/;
        return addressRegex.test(p);
        }
        
         function isValidState() {
        
         var t =document.getElementById('pageId:formId:blockId:shippingSecId:countrySatatePanel:States').value;
          if(t!="-None-" && t!=""){
            return true;
          }else{
            return false;
          }

        }
        
        function callShippingAnalysisSets()
        {
            var addressVlue  = document.getElementById('pageId:formId:blockId:billingAddressDetailsid:addressId:addressArea').value;
            var states = document.getElementById('pageId:formId:blockId:billingAddressDetailsid:StateId:States').value;
            var countries = document.getElementById('pageId:formId:blockId:billingAddressDetailsid:StateId:countries').value;
            var zipcode  = document.getElementById('pageId:formId:blockId:billingAddressDetailsid:zipCodeIdMain:zipCodeInputId').value;
            var pocontact  = document.getElementById('pageId:formId:blockId:billingAddressDetailsid:poContactIdMain:pocontactIdInput').value;
            var billingContact = document.getElementById('pageId:formId:blockId:billingAddressDetailsid:billingContactName:billingContactId').value;
            var billingContactLn = document.getElementById('pageId:formId:blockId:billingAddressDetailsid:billingContactLastName:billingContactLnId').value;
            var accountIdReq = document.getElementById('pageId:formId:blockId:billingAddressDetailsid:accountSearchId:accountId').value;
            var billingContactPhNo = document.getElementById('pageId:formId:blockId:billingAddressDetailsid:accountSearchTel:telephoneId').value;
            
            document.getElementById('billingAddrIdError').style.display = 'none';
            document.getElementById('reqiFielderrorMessage').style.display = 'none';
            var billAddrId = (document.getElementById('pageId:formId:blockId:billingAddressDetailsid:billingAddressId:addressid')).value;
            if(accountIdReq != ''){
                if(accountIdReq.indexOf(".") != -1 && (billAddrId == null || billAddrId == '')){
                    document.getElementById('billingAddrIdError').style.display = '';
                    document.getElementById('reqiFielderrorMessage').style.display = '';
                }
            }
            
            //analysisShippingWebservice();
            callShippingAnalysisSetsService();          
            if(isValidTransactionType()){
                if(isValidPostalCodeForBilling()){
                    document.getElementById('ZipError').style.display = 'none';
                document.getElementById('ttypeError').style.display = 'none';
                if(addressVlue == '' || states == '' || countries == '' || zipcode == '' || pocontact == ''|| billingContact == '' || billingContactPhNo == '' || billingContactLn == ''){
                    document.getElementById('reqiFielderrorMessage').style.display = '';
                    return false;
                }else{
                    if(accountIdReq == ''){
                    document.getElementById('reqiFielderrorMessage').style.display = 'none';
                        document.getElementById('AccountIdRequ').style.display = '';
                        return false;
                    }else{
                        document.getElementById('reqiFielderrorMessage').style.display = 'none';
                        document.getElementById('AccountIdRequ').style.display = 'none';
                    return true;
                }
                }
            }else{
                    document.getElementById('ZipError').style.display = 'block';
                }
                    
            }else{
                document.getElementById('ttypeError').style.display = 'block';
                
            }
        }
        
        function callproductTab(tabName) 
        {
            analysisSetValidation();
            if(tabName == 'product'){
                //getCustomerActivityHistory();
                callListSalesProducts(); // TFS 1380
            }
            var startdate = document.getElementById('pageId:formId:blockId:shiipingDatesPanel:startDateMainPanel:DueDate').value;
            var deliveryConat = document.getElementById('pageId:formId:blockId:shippingSecId:billingContactIdPanel:deliveryConatId').value;
            //var stateShiiping = document.getElementById('pageId:formId:blockId:shippingSecId:countrySatatePanel:States').value;
            //var countryShiiping = document.getElementById('pageId:formId:blockId:shippingSecId:countrySatatePanel:countryShippingId').value;
            var zipcodeShiiping = document.getElementById('pageId:formId:blockId:shippingSecId:zipCodeSectionId:shippingzipCodeId').value;
            var schduleddateShiiping = document.getElementById('pageId:formId:blockId:deliveryPlanSecId:mainPageBlockSecitonDeleve:ScheduledDeliveryMain:deliveryDateid').value;
                                                                
            var crossStreet =  document.getElementById('pageId:formId:blockId:shippingSecId:crossStreetMain:crocessStreetid').value;
            var deliveryInstructions = document.getElementById('pageId:formId:blockId:deliveryPlanSecId:deliveryInsetionId:delilveryInsetIdSection:deliveryInstId').value;                                                  
            
            var addressVlue  = document.getElementById('pageId:formId:blockId:billingAddressDetailsid:addressId:addressArea').value;
            var states = document.getElementById('pageId:formId:blockId:billingAddressDetailsid:StateId:States').value;
            var countries = document.getElementById('pageId:formId:blockId:billingAddressDetailsid:StateId:countries').value;
            var zipcode  = document.getElementById('pageId:formId:blockId:billingAddressDetailsid:zipCodeIdMain:zipCodeInputId').value;
            var pocontact  = document.getElementById('pageId:formId:blockId:billingAddressDetailsid:poContactIdMain:pocontactIdInput').value;
            var billingContact = document.getElementById('pageId:formId:blockId:billingAddressDetailsid:billingContactName:billingContactId').value;
            var billingContactLn = document.getElementById('pageId:formId:blockId:billingAddressDetailsid:billingContactLastName:billingContactLnId').value;
            var billingContactPhNo = document.getElementById('pageId:formId:blockId:billingAddressDetailsid:accountSearchTel:telephoneId').value;
            var accountIdReq = document.getElementById('pageId:formId:blockId:billingAddressDetailsid:accountSearchId:accountId').value;
            var noOfUnit = document.getElementById('pageId:formId:blockId:deliveryPlanSecId:noOfUnitPb:qtysec:qty').value;
            
            if(addressVlue == '' || states == '' || countries == '' || zipcode == '' || pocontact == ''|| billingContact == '' || billingContactPhNo == '' || billingContactLn == ''){
                document.getElementById('reqiFielderrorMessage').style.display = '';
                return false;
            }else if(startdate == '' || deliveryConat == '' || zipcodeShiiping == '' || schduleddateShiiping == ''|| crossStreet == '' || deliveryInstructions == '' || noOfUnit == '' || noOfUnit == '0'){
                document.getElementById('reqiFieldShipingTaberrorMessage').style.display = '';
                return false;
            }else{
                if(accountIdReq == ''){
                    document.getElementById('reqiFielderrorMessage').style.display = 'none';
                    document.getElementById('reqiFieldShipingTaberrorMessage').style.display = 'none';
                    document.getElementById('reqiFielderrorMessage').style.display = 'none';
                    document.getElementById('AccountIdRequ').style.display = '';
                    return false;
                }else{
                    document.getElementById('reqiFielderrorMessage').style.display = 'none';
                document.getElementById('reqiFieldShipingTaberrorMessage').style.display = 'none';
                document.getElementById('reqiFielderrorMessage').style.display = 'none';
                    document.getElementById('AccountIdRequ').style.display = 'none';
                return true;
            }
            
            }
            
            
        
        }
        function changeRowColorInTax(x,inputId,Id){
            
            document.getElementById(Id).value = inputId;
            
            var tbl = document.getElementById("tax_grid");
             
            for (var i = 0; i < tbl.rows.length; i++) {                
                   tbl.rows[i].style.backgroundColor = "#F2F2F2";
            }
                    
            colorChangeFun(x);
        } 
        
        function changeRowColorInTaxShip(x,inputId,Id)
        {
            document.getElementById(Id).value = inputId;
            
            var tbl = document.getElementById("taxShip_grid");
             
            for (var i = 0; i < tbl.rows.length; i++) {                
                   tbl.rows[i].style.backgroundColor = "#F2F2F2";
            }       
            
            document.getElementById('taxIdShippingDivDislable').style.display = 'none';
            document.getElementById('taxIdShippingDivEnable').style.display = 'block';
            colorChangeFun(x);
        } 
        
        function changeRowColorInTaxShipondblclick(x,inputId,Id)
        {
            document.getElementById(Id).value = inputId;
            taxIdShippingSelected();
            hideTaxIdShippingPopUp();
            
        } 
        
        function changeRowColorInAccBilling(x,inputId,Id)
        {
            document.getElementById(Id).value = inputId;
            
            var tbl = document.getElementById("accBilling_grid");
             
            for (var i = 0; i < tbl.rows.length; i++) {                
                   tbl.rows[i].style.backgroundColor = "#F2F2F2";
            }       
            document.getElementById('AccountSearchDislable').style.display = 'none';
            document.getElementById('AccountSearchEnable').style.display = 'block';
            colorChangeFun(x);
        }
        
        function changeRowColorInAllocation(x,inputId,Id)
        {
            document.getElementById(Id).value = inputId;
            
            var tbl = document.getElementById("allocation_grid");
             
            for (var i = 0; i < tbl.rows.length; i++) {                
                   tbl.rows[i].style.backgroundColor = "#F2F2F2";
            }       
            document.getElementById('AllocationDivEnable').style.display = '';
            document.getElementById('AllocationDivDisable').style.display = 'none';
            colorChangeFun(x);
        }
        
        function changeRowColorInAllocationDblClk(x,inputId,Id)
        {
            document.getElementById(Id).value = inputId;
            hideAllocationPopUp();
            okEcodePopUp();
        }
        
        function changeRowColorInAccBillingondblclick(x,inputId,Id)
        {
            document.getElementById(Id).value = inputId;
            accountIdSelected();
            hideAccountPopUp();
            document.getElementById('pageId:formId:blockId:billingAddressDetailsid:accountSearchId:AccountNameId').focus();
            
            
        }
        
        function changeRowColorInBillingAddr(x,inputId,Id)
        {   
            document.getElementById(Id).value = inputId;
            
            var tbl = document.getElementById("billingAddr_grid");
             
            for (var i = 0; i < tbl.rows.length; i++) {                
                   tbl.rows[i].style.backgroundColor = "#F2F2F2";
            }       
            document.getElementById('AddressBilingDivDislable').style.display = 'none';
            document.getElementById('AddressBillingDivEnable').style.display = 'block';
            
            colorChangeFun(x);
        }
        
        function changeRowColorInBillingAddrondblclick(x,inputId,Id)
        {   
            document.getElementById(Id).value = inputId;
            addressIdSelected();
            hideAddressPopUp();
            document.getElementById('pageId:formId:blockId:billingAddressDetailsid:addressId:addressArea').focus();
            
        }
        
        function changeRowColorInWriteUpRep(x,inputId,Id)
        {
            document.getElementById(Id).value = inputId;
            
            var tbl = document.getElementById("billingAddr_grid");
             
            for (var i = 0; i < tbl.rows.length; i++) {                
                   tbl.rows[i].style.backgroundColor = "#F2F2F2";
            }       
            document.getElementById('writerepUpDivDislable').style.display = 'none';
            document.getElementById('writerepUpDivEnable').style.display = 'block';
            colorChangeFun(x);
        }
        function changeRowColorInWriteUpRepondblclick(x,inputId,Id)
        {
            document.getElementById(Id).value = inputId;
            hidesalesPopUp();
            SalesRepSelected();
            document.getElementById('pageId:formId:blockId:billingAddressDetailsid:writeUpRepMainPanel:writeUpName').focus();
            
        }
        
        function changeRowColorInAssing(x,inputId,Id)
        {
            document.getElementById(Id).value = inputId;
            
            var tbl = document.getElementById("billingAddr_grid");
             
            for (var i = 0; i < tbl.rows.length; i++) {                
                   tbl.rows[i].style.backgroundColor = "#F2F2F2";
            }       
            document.getElementById('AssingDivDislable').style.display = 'none';
            document.getElementById('AssingDivEnable').style.display = 'block';
            colorChangeFun(x);
        }
        
        function changeRowColorInAssingondblclick(x,inputId,Id)
        {
            document.getElementById(Id).value = inputId;
            AssistingSalesRepSelected();
            hideCancelsalesPopUpAssing();
            document.getElementById('pageId:formId:blockId:billingAddressDetailsid:AssistingRepMainPanel:assistingRepNameId').focus();
        }
        
        function changeRowColorInContactBilling(x,inputId,Id)
        {
            document.getElementById(Id).value = inputId;
            
            var tbl = document.getElementById("ConBilling_grid");
             
            for (var i = 0; i < tbl.rows.length; i++) {                
                   tbl.rows[i].style.backgroundColor = "#F2F2F2";
            }       
            
            document.getElementById('billingcontactbuttonDivDisalbe').style.display = 'none';
            document.getElementById('billingcontactbuttonDivEnable').style.display = 'block';
            
            colorChangeFun(x);
        }
        
        function changeRowColorInContactBillingondblclick(x,inputId,Id)
        {
            document.getElementById(Id).value = inputId;
            contactIdSelected();
            hideContactPopUp();
            document.getElementById('pageId:formId:blockId:billingAddressDetailsid:billingContacId:billingCantdId').focus();
        }
        
        
        function changeRowColorInAnalysisSetProduct(x,inputId,Id)
        {
            document.getElementById(Id).value = inputId;
            
            var tbl = document.getElementById("analysisCodeBilling_grid");
             
            for (var i = 0; i < tbl.rows.length; i++) {                
                   tbl.rows[i].style.backgroundColor = "#F2F2F2";
            }       
            
            colorChangeFun(x);
        }  
        
        function changeRowColorInAnalysisSetBilling(x,inputId,Id)
        {
            document.getElementById(Id).value = inputId;
            
            var tbl = document.getElementById("analysisCodeBilling_grid");
             
            for (var i = 0; i < tbl.rows.length; i++) {                
                   tbl.rows[i].style.backgroundColor = "#F2F2F2";
            }       
            
            colorChangeFun(x);
        }
        
        function changeRowColorInMinimumTerm(x,inputId,Id)
        {
            document.getElementById(Id).value = inputId;
            
            var tbl = document.getElementById("minimumTerm_grid");
             
            for (var i = 0; i < tbl.rows.length; i++) {                
                   tbl.rows[i].style.backgroundColor = "#F2F2F2";
            }       
            
            colorChangeFun(x);
        }
        
        function changeRowColorInFBranchInBilling(x,inputId,Id)
        {
            document.getElementById(Id).value = inputId;
            
            var tbl = document.getElementById("branchBilling_grid");
             
            for (var i = 0; i < tbl.rows.length; i++) {                
                   tbl.rows[i].style.backgroundColor = "#F2F2F2";
            }       
            
            colorChangeFun(x);
        }
        
        function changeRowColorInContactShipping(x,inputId,Id)
        {
            document.getElementById(Id).value = inputId;
            
            var tbl = document.getElementById("ConShipping_grid");
             
            for (var i = 0; i < tbl.rows.length; i++) {                
                   tbl.rows[i].style.backgroundColor = "#F2F2F2";
            }       
            document.getElementById('shippingcontactListDivDislable').style.display = 'none';
            document.getElementById('shippingcontactListDivEnable').style.display = 'block';
            colorChangeFun(x);
        }
        
        function changeRowColorInContactShippingondblclick(x,inputId,Id)
        {
            document.getElementById(Id).value = inputId;
            shippingContactIdSelected();
            hideShippingContactPopUp();
            document.getElementById('pageId:formId:blockId:shippingSecId:billingContactIdPanel:deliveryConatId').focus();
        }
        
        function changeRowColorInShippingAddr(x,inputId,Id)
        {
            document.getElementById(Id).value = inputId;
            
            var tbl = document.getElementById("shippingAddr_grid");
             
            for (var i = 0; i < tbl.rows.length; i++) {                
                   tbl.rows[i].style.backgroundColor = "#F2F2F2";
            }       
            document.getElementById('ShippingAddressListDivDislable').style.display = 'none';
            document.getElementById('ShippingAddressListDivEnable').style.display = 'block';
            colorChangeFun(x);
        }
            
        function changeRowColorInShippingAddrondblclick(x,inputId,Id)
        {
            document.getElementById(Id).value = inputId;
            shippingAddressIdSelected();
            hideShippingAddressPopUp();
            document.getElementById('pageId:formId:blockId:shippingSecId:shiipingAccountSectionId:addressShippingArea').focus();
            
        }
        
        function changeRowColorInFBranchInShipping(x,inputId,Id)
        {
            document.getElementById(Id).value = inputId;
            
            var tbl = document.getElementById("branchShipping_grid");
             
            for (var i = 0; i < tbl.rows.length; i++) {                
                   tbl.rows[i].style.backgroundColor = "#F2F2F2";
            }       
            document.getElementById('fulFillingBranchListDivDislable').style.display = 'none';
            document.getElementById('fulFillingBranchListDivEnable').style.display = 'block';
            colorChangeFun(x);
        }  
        
        function changeRowColorInFBranchInShippingondblclick(x,inputId,Id)
        {
            document.getElementById(Id).value = inputId;
            
            fulFillingIdSelected();
            hideFulFillingPopUp();
        }  
        
        function changeRowColorInAnalysisSetShipping(x,inputId,Id)
        {
            document.getElementById(Id).value = inputId;
            
            var tbl = document.getElementById("analysisCodeShipping_grid");
             
            for (var i = 0; i < tbl.rows.length; i++) {                
                   tbl.rows[i].style.backgroundColor = "#F2F2F2";
            }       
            
            colorChangeFun(x);
        }
        
        function changeRowColorInProduct(x,inputId,Id)
        {
            document.getElementById(Id).value = inputId;
            //document.getElementById('pageId:formId:blockId:rentalSectionPBId:lockTypeSectionItem:lockQty').value = 1;
            
            var tbl = document.getElementById("product_grid");
             
            for (var i = 0; i < tbl.rows.length; i++) {                
                   tbl.rows[i].style.backgroundColor = "#F2F2F2";
            }       
            
            colorChangeFun(x);
            if(document.getElementById('pageId:formId:blockId:QuoteType').value == 'sales'){
                SaleFleetWS();
            }else{
                callEditProduct();
            }
        }
           
        
        function colorChangeFun(x)
        {
            //alert(x);
            var newColor = '#CEECF5';
            //alert(x.style);
            //if ( x.style ) {              
                x.style.backgroundColor = newColor;
            //}
        }
     
     
     function changeRowColorInProduct2(x,inputId,Id)
        {
            document.getElementById(Id).value = inputId;
            
            var tbl = document.getElementById("productSales_grid");
             
            for (var i = 0; i < tbl.rows.length; i++) {                
                   tbl.rows[i].style.backgroundColor = "#F2F2F2";
            }       
            
            colorChangeFun2(x);
            fillEcodes();
        }
           
        
        function colorChangeFun2(x)
        {
            var newColor = '#CEECF5';
            if ( x.style ) {                
                x.style.backgroundColor = newColor;
            }
        }
        
        
        /*window.onload = function() 
        {
            callwstransactiontype();
        }*/
         
        function showAnalysisSetPopUp()
        {           
            document.getElementById('analysisSetPopup').style.display = 'block';
        }
        
        function hideAnalysisSetPopUp()
        {           
            document.getElementById('analysisSetPopup').style.display = 'none';
            document.getElementById('analysisSetCodePopup').style.display = 'block';
        }
        
        function showAnalysisSetCodePopUp()
        {  
            document.getElementById('analysisSetCodePopup').style.display = 'block';
        }
        
        function hideAnalysisSetCodePopUp()
        {           
            document.getElementById('analysisSetCodePopup').style.display = 'none';
        } 
        
        function hideCancelAnalysisSetCodePopUp()
        {           
            document.getElementById('analysisSetCodePopup').style.display = 'none'; 
            document.getElementById('selectedAnalysisInBilling').value = '';
        }
        
        function showsalesPopUp()
        {  
            document.getElementById('salesRepPopUp').style.display = 'block';
        }
        
        function showsalesPopUpAssign()
        {  
            document.getElementById('salesRepPopUpforAssign').style.display = 'block';
        }
        
        
        function hidesalesPopUp()
        {           
            document.getElementById('salesRepPopUp').style.display = 'none';
        }
        
        function hideCancelsalesPopUp() 
        {
            document.getElementById('salesRepPopUp').style.display = 'none';
            document.getElementById('selectedWriteUpRep').value = '';
        }
        
        function hideCancelsalesPopUpAssing() 
        {
            document.getElementById('salesRepPopUpforAssign').style.display = 'none';
            document.getElementById('selectedWriteUpRep').value = '';
        }
        
        function analysissetSearchButtonClicked(inputId,Id)
        {           
            document.getElementById(Id).value = inputId;            
            return true;
        }        
                
        function showContactPopUp()
        {  
            document.getElementById('contactIdPopUp').style.display = 'block';
        }
        function hideContactPopUp()
        {           
            document.getElementById('contactIdPopUp').style.display = 'none';
        }
        
        function hideCancelContactPopUp()
        {
            document.getElementById('contactIdPopUp').style.display = 'none';  
            document.getElementById('selectedContactBilling').value= '';
        }
        
        function showAddContactPopUp()
        {  
            document.getElementById('addContactPopUp').style.display = 'block';
        }
        function hideAddContactPopUp()
        {           
            document.getElementById('addContactPopUp').style.display = 'none';
        }
        function hideAddCancelContactPopUp()
        {
            document.getElementById('addContactPopUp').style.display = 'none';  
            document.getElementById('selectedPrimaryContactBilling').value= '';
        }
        
        function showAddressPopUp()
        {
            document.getElementById('addressIdPopUp').style.display = 'block';
        }
        
        function hideAddressPopUp()
        {
            document.getElementById('addressIdPopUp').style.display = 'none';
        }
        
        function hideCancelAddressPopUp()
        {
            document.getElementById('addressIdPopUp').style.display = 'none'; 
            var accountId = document.getElementById('pageId:formId:blockId:billingAddressDetailsid:accountSearchId:accountId').value; 
            document.getElementById('selectedBillingAddr').value = accountId
            
        }
        
        function showAccountPopUp()
        {
            var nameValue = document.getElementById('pageId:formId:blockId:billingAddressDetailsid:accountSearchId:AccountNameId').value;
            document.getElementById('accountNameSearch').value = nameValue;
            
            if(nameValue != ''){
                document.getElementById('accountIdPopUp').style.display = 'block';
                accountPatternSearch();
            }else{
                alert('Please Enter Name');
                document.getElementById('pageId:formId:blockId:billingAddressDetailsid:accountSearchId:AccountNameId').focus();
                return null;
            }
            
        }
        
        function showAllocationPopUp(){
            var nameValue = document.getElementById('pageId:formId:blockId:salesSectionPBId:ecodePBSectionId:ecodeInputTextId').value;
            document.getElementById('ecodeSelactedValue').value = nameValue;
            
            //if(nameValue != ''){
                document.getElementById('ecodeIdPopUp').style.display = 'block';
                //accountPatternSearch();
            //}else{
                /*alert('Please Enter E-code');
                document.getElementById('pageId:formId:blockId:salesSectionPBId:ecodePBSectionId:ecodeInputTextId').focus();
                return null;
            }*/
        }
        
        function hideAllocationPopUp()
        {
            document.getElementById('ecodeIdPopUp').style.display = 'none';
        }
        
        function hideCancelAllocationPopUp()
        {
            document.getElementById('ecodeIdPopUp').style.display = 'none';
            document.getElementById('ecodeSelactedValue').value = '';
        }
        
        function showCapacityPopUp(){
            document.getElementById('capacityLookupPopupId').style.display = '';
        }
        
        function changeRowColorInCapacityDblClk(x,inputId,Id)
        {
            document.getElementById(Id).value = inputId;
            hideCapacityPopUp();
            okCapacityPopUp();
        }
        
        function changeRowColorInCapacity(x,inputId,Id)
        {
            document.getElementById(Id).value = inputId;
            
            var tbl = document.getElementById("capacityLookup_grid");
             
            for (var i = 0; i < tbl.rows.length; i++) {                
                   tbl.rows[i].style.backgroundColor = "#F2F2F2";
            }       
            document.getElementById('CapacityDivEnable').style.display = '';
            document.getElementById('CapacityDivDisable').style.display = 'none';
            colorChangeFun(x);
        }
        
        function hideCancelcapacityLookupPopUp()
        {
            document.getElementById('capacitySelactedValue').value = '';
            document.getElementById('capacityLookupPopupId').style.display = 'none';
        }
        
        function hideCapacityPopUp()
        {
            document.getElementById('capacityLookupPopupId').style.display = 'none';
        }
        
        function hideAccountPopUp()
        {
            document.getElementById('accountIdPopUp').style.display = 'none';
        }
        
        function hideCancelAccountPopUp()
        {
            document.getElementById('accountIdPopUp').style.display = 'none';
            document.getElementById('selectedAccBilling').value = '';
        }
        
        
        function showShippingContactPopUp()
        {  
            document.getElementById('shippingContactIdPopUp').style.display = 'block';
        }
        
        function hideShippingContactPopUp()
        {           
            document.getElementById('shippingContactIdPopUp').style.display = 'none';
        }
        
        function hideCancelShippingContactPopUp()
        {           
            document.getElementById('shippingContactIdPopUp').style.display = 'none';
            document.getElementById('selectedContactShipping').value = '';
        } 
        
        function showShippingAddressPopUp()
        {        
            document.getElementById('shippingAddressIdPopUp').style.display = 'block';
        }
        
        function hideShippingAddressPopUp()
        {        
            document.getElementById('shippingAddressIdPopUp').style.display = 'none';
        }
        
        function hideCancelShippingAddressPopUp()
        {        
            document.getElementById('shippingAddressIdPopUp').style.display = 'none';
            document.getElementById('selectedShippingAddr').value = '';
        }
                
        function showFulFillingPopUp()
        {
            document.getElementById('fulFillingIdPopUp').style.display = 'block';
        }
        
        function hideFulFillingPopUp()
        {
            document.getElementById('fulFillingIdPopUp').style.display = 'none';
        } 
        
        function hideCancelFulFillingPopUp()
        {
            document.getElementById('fulFillingIdPopUp').style.display = 'none';
            document.getElementById('SelectedShippingBranch').style.display = '';
        } 
        
        function showFulFillingBillingPopUp()
        {
            document.getElementById('fulFillingIdBillingPopUp').style.display = 'block';
        }
        
        function hideFulFillingBillingPopUp()
        {
            document.getElementById('fulFillingIdBillingPopUp').style.display = 'none';
        }  
        
        function hideCancelFulFillingBillingPopUp()
        {
            document.getElementById('fulFillingIdBillingPopUp').style.display = 'none'; 
            document.getElementById('SelectedBranch').value = '';
        } 
        
        function showValidateAddressPopUp()
        {
            var acctName = document.getElementById('pageId:formId:blockId:billingAddressDetailsid:accountSearchId:AccountNameId');
            var acctTel = document.getElementById('pageId:formId:blockId:billingAddressDetailsid:accountSearchTel:telephoneId');
            var billingContactLn = document.getElementById('pageId:formId:blockId:billingAddressDetailsid:billingContactLastName:billingContactLnId');
            var billingContactName = document.getElementById('pageId:formId:blockId:billingAddressDetailsid:billingContactName:billingContactId');
            var billingAddr = document.getElementById('pageId:formId:blockId:billingAddressDetailsid:addressId:addressArea');
            var billingCity = document.getElementById('pageId:formId:blockId:billingAddressDetailsid:billingCityPbs:cityId');
            var billingState = document.getElementById('pageId:formId:blockId:billingAddressDetailsid:StateId:States');
            var billingCountry = document.getElementById('pageId:formId:blockId:billingAddressDetailsid:StateId:countries');
            var billingZip = document.getElementById('pageId:formId:blockId:billingAddressDetailsid:zipCodeIdMain:zipCodeInputId');
            
            var errorMsg1 = '';
            var errorMsg2 = '';
            
            var errorMsg3 = '';
            var errorMsg4 = '';
            var errorMsg5 = '';
            var errorMsg6 = '';
            var errorMsg7 = '';
            var errorMsg8 = '';
            
            document.getElementById('ValAcctNameId').innerHTML = '';
            document.getElementById('ValAcctTelId').innerHTML = '';
            
            document.getElementById('ValBillNameId').innerHTML = '';
            document.getElementById('ValBillLastNameId').innerHTML = '';
            document.getElementById('ValBillAddress').innerHTML = '';
            document.getElementById('ValBillCity').innerHTML = '';
            document.getElementById('ValBillState').innerHTML = '';
            document.getElementById('ValBillCountry').innerHTML = '';
            document.getElementById('ValBillZip').innerHTML = '';
            
            if(acctName.value == '' || acctName.value == null){
                errorMsg1 = 'Please provide account name';
                document.getElementById('ValAcctNameId').innerHTML = errorMsg1;
                acctName.focus();
            }
            if(acctTel.value == '' || acctTel.value == null){
                errorMsg2 = 'Please provide telephone number';
                document.getElementById('ValAcctTelId').innerHTML = errorMsg2;
                acctTel.focus();
            }
            
            if(billingContactName.value == '' || billingContactName.value == null){
                errorMsg3 = 'Please provide contact first name';
                document.getElementById('ValBillNameId').innerHTML = errorMsg3;
                billingContactName.focus();
            }
            if(billingContactLn.value == '' || billingContactLn.value == null){
                errorMsg3 = 'Please provide contact last name';
                document.getElementById('ValBillLastNameId').innerHTML = errorMsg3;
                billingContactLn.focus();
            }
            
            if(billingAddr.value == '' || billingAddr.value == null){
                errorMsg4 = 'Please provide billing address';
                document.getElementById('ValBillAddress').innerHTML = errorMsg4;
                billingAddr.focus();
            }
            if(billingCity.value == '' || billingCity.value == null){
                errorMsg5 = 'Please provide city';
                document.getElementById('ValBillCity').innerHTML = errorMsg5;
                billingCity.focus();
            }
            if(billingState.value == '' || billingState.value == null){
                errorMsg6 = 'Please select state';
                document.getElementById('ValBillState').innerHTML = errorMsg6;
                billingState.focus();
            }
            if(billingCountry.value == '' || billingCountry.value == null){
                errorMsg7 = 'Please select country';
                document.getElementById('ValBillCountry').innerHTML = errorMsg7;
                billingCountry.focus();
            }
            if(billingZip.value == '' || billingZip.value == null){
                errorMsg8 = 'Please provide zip code';
                document.getElementById('ValBillZip').innerHTML = errorMsg8;
                billingZip.focus();
            }
            
            if(errorMsg1 == '' && errorMsg2 == '' && errorMsg3 == '' && errorMsg4 == '' && errorMsg5 == '' && errorMsg6 == '' && errorMsg7 == '' && errorMsg8 == ''){
                document.getElementById('validateAddressDiv').style.display = 'block';
                getNewCustomerAcc();
            }
            
        }
        function hideValidateAddressPopUp()
        {
            document.getElementById('validateAddressDiv').style.display = 'none';  
            //document.getElementById('taxIdBillingDiv').style.display = 'block';       
        }
        
        function hideCancelValidateAddressPopUp()
        {
           CancelValidateAddressIdSelected();
            document.getElementById('validateAddressDiv').style.display = 'none';   
            document.getElementById('SelectedVAddressRadio').value = '';        
        }
        
        function showValidateAddressShippingPopUp()
        {   if(isValidAddress()){
                if(isValidTransactionType()){
                    if(isValidPostalCode()){
                       if(isValidState()){
                            document.getElementById('ZipError').style.display = 'none';
                            document.getElementById('ttypeError').style.display = 'none';
                            document.getElementById('addError').style.display = 'none';
                            document.getElementById('stateError').style.display = 'none';
                            document.getElementById('validateAddressShippingDiv').style.display = 'block';
                            validateShippingAddress();
                        }else{
                            document.getElementById('stateError').style.display = 'block';
                            document.getElementById('ZipError').style.display = 'none';
                            document.getElementById('ttypeError').style.display = 'none';
                            document.getElementById('addError').style.display = 'none';
                        }
                    }else{
                        document.getElementById('ZipError').style.display = 'block';
                        document.getElementById('ttypeError').style.display = 'none';
                        document.getElementById('addError').style.display = 'none';
                        document.getElementById('stateError').style.display = 'none'
                    }
                }else{
                    document.getElementById('ttypeError').style.display = 'block';
                    document.getElementById('ZipError').style.display = 'none';
                    document.getElementById('addError').style.display = 'none';
                    document.getElementById('stateError').style.display = 'none'
                }
            }else{
                document.getElementById('addError').style.display = 'block';
                document.getElementById('ttypeError').style.display = 'none';
                document.getElementById('ZipError').style.display = 'none';
                document.getElementById('stateError').style.display = 'none'
            }
        }

        function hideValidateAddressShippingPopUp()
        {
            document.getElementById('validateAddressShippingDiv').style.display = 'none';
            document.getElementById('taxIdShippingDiv').style.display = 'block';
        }
        function hideCancelValidateAddressShippingPopUp()
        {
            document.getElementById('validateAddressShippingDiv').style.display = 'none';   
            document.getElementById('SelectedVaddressRadioShip').value = '';        
        }
        
        // Email sending
        
        
        function editProduct()
        {
            callEditProduct();
        }
        
        function hideEditProduct()
        {
        }
                        
        function ResetProductRentalLength()
        {
            var ProductSection = '';
            if(document.getElementById('pageId:formId:blockId:QuoteType').value == 'sales'){
                ProductSection = 'salesSectionPBId';
            }else{
                ProductSection = 'rentalSectionPBId';
            }
            document.getElementById('pageId:formId:blockId:'+ProductSection+':lockTypeSectionItem1:lockQty').value = 1;
            document.getElementById('pageId:formId:blockId:'+ProductSection+':lockTypeSectionItem2:lockQty').value = 1;
            document.getElementById('pageId:formId:blockId:'+ProductSection+':lockTypeSectionItem3:lockQty').value = 1;
            document.getElementById('pageId:formId:blockId:'+ProductSection+':lockTypeSectionItem4:lockQty').value = 1;         
        }
        
        function showMinimumTermPopUp()
        {
            document.getElementById('minimumTermDiv').style.display = 'block';
        }
        function hideMinimumTermPopUp()
        {
            document.getElementById('minimumTermDiv').style.display = 'none';
        }
        
        function hideCancelMinimumTermPopUp()
        {
            document.getElementById('minimumTermDiv').style.display = 'none';
            document.getElementById('SelectedMinimumTerm').value = '';
        }
        
        function showAnalysisSetCodePopUpInProduct()
        {
            document.getElementById('analysisSetCodeInProductPopup').style.display = 'block';
        }
        function hideAnalysisSetCodePopUpInProduct()
        {
            document.getElementById('analysisSetCodeInProductPopup').style.display = 'none';
        }
        
        function hideCancelAnalysisSetCodePopUpInProduct()
        {
            document.getElementById('analysisSetCodeInProductPopup').style.display = 'none';
            document.getElementById('selectedAnalysisInBilling').value = '';
        }
        
        function callRefreshLineFun()
        {
            callRefreshSelectedProduct();
        }
        function onchageBillingContactid(){
            contactIdEnterbyUser();
        }
        
        function callRefreshLineFun1()
        {
            callRefreshLine1();
        }
       
        function hideTaxIdShippingPopUp()
        {
            document.getElementById('taxIdShippingDiv').style.display = 'none';
        }
        
        function hideCancelTaxIdShippingPopUp()
        {
            document.getElementById('taxIdShippingDiv').style.display = 'none'; 
            document.getElementById('SelectedTaxIdRadioShip').value = '';
        } 
        
        function hideTaxIdBillingPopUp()
        {
            document.getElementById('taxIdBillingDiv').style.display = 'none';
        }
        function hideCancelTaxIdBillingPopUp()
        {
            document.getElementById('taxIdBillingDiv').style.display = 'none'; 
            document.getElementById('SelectedTaxIdRadio').value = '';
        }
        
        
        function btnInDeliveryPlanSec(Id,inputId)
        {
            document.getElementById(Id).value = inputId;    
            document.getElementById('analysisSetCodeShippingPopup').style.display = 'block';        
            return true;
        }
        
        function hideAnalysisSetCodeShippingPopUp()
        {
            document.getElementById('analysisSetCodeShippingPopup').style.display = 'none';
        }
        
        function hideCancelAnalysisSetCodeShippingPopUp()
        {
            document.getElementById('analysisSetCodeShippingPopup').style.display = 'none';
            document.getElementById('selectedAnalysisInShipping').value = '';
        }
        
        function removeSLine(inputId,Id)
        {
            var r = confirm('Are You Sure?');   
            if(r == true)
            {   
                document.getElementById(Id).value = inputId;
                removeSummaryLine();            
            }
            else
            {
                document.getElementById(Id).value = '';
                return false;
            }
        }
        
        function callAnalysis()
        {
            if(isValidTransactionType()){
                document.getElementById('ttypeError').style.display = 'none';
            }else{
                document.getElementById('ttypeError').style.display = 'block';
            }
            //callProductsSelection();
            //callClearProductSummarylines();
            //startSplash();
            onchangeTrnactype();
            
        }
        
        function SelectPrimaryOnly(){
            /*var ProductType = document.getElementById('pageId:formId:blockId:productTypeSelectOption');
            var ProductSize = document.getElementById('pageId:formId:blockId:productSizeSelectOption');
            var PrimaryOnly = document.getElementById('pageId:formId:blockId:PrimaryOnly');
            if(ProductType.value != '' && ProductType.value != null && ProductSize.value != '' && ProductSize.value != null){
                PrimaryOnly.checked = true;
                PrimaryOnly.disabled = true;
            }else{
                PrimaryOnly.disabled = false;
            }*/
        }
        
        function DisabledPrimary(ele){
            if(ele.value != null && ele.value != ''){
                document.getElementById('pageId:formId:blockId:prodSrchPbs:PrimaryOnly').checked = false;
            }else{
                document.getElementById('pageId:formId:blockId:prodSrchPbs:PrimaryOnly').checked = true;
            }
        }
        
        function UnchackPrimary(){
        var delsetup=document.getElementById('pageId:formId:blockId:prodSrchPbs:delSetUp');
        var retTear=document.getElementById('pageId:formId:blockId:prodSrchPbs:retTearD');
        
            if((delsetup.value != null && delsetup.value != '') || (retTear.value != null && retTear.value != '')){
                document.getElementById('pageId:formId:blockId:prodSrchPbs:PrimaryOnly').checked = false;
            }else{
                document.getElementById('pageId:formId:blockId:prodSrchPbs:PrimaryOnly').checked = true;
            }
            
            if(delsetup.value != null && delsetup.value != ''){
                retTear.disabled = true;
            }else{
                retTear.disabled = false;
            }
            if(retTear.value != null && retTear.value != ''){
                delsetup.disabled = true;
            }else{
                delsetup.disabled = false;
            }
            
        }
        
        function increse(SectionNo)
        {
            var ProductSection = '';
            if(document.getElementById('pageId:formId:blockId:QuoteType').value == 'sales'){
                ProductSection = 'salesSectionPBId';
            }else{
                ProductSection = 'rentalSectionPBId';
            }
            var v;
            if(SectionNo == '5'){
                v = document.getElementById('pageId:formId:blockId:'+ProductSection+':ItemCodeSecItem:accessQty').value;
            }else{
                if(SectionNo == 'noOfUnit'){
                    v = document.getElementById('pageId:formId:blockId:deliveryPlanSecId:noOfUnitPb:qtysec:qty').value;
                }else{
                    v = document.getElementById('pageId:formId:blockId:'+ProductSection+':lockTypeSectionItem'+SectionNo+':lockQty').value;
                }
            }
            if(v ==''){
                v ='1';
            }
            if(parseInt(v) < 99){
                if(SectionNo == '5'){
                    document.getElementById('pageId:formId:blockId:'+ProductSection+':ItemCodeSecItem:accessQty').value = parseInt(v) + 1;
                }else{
                    if(SectionNo == 'noOfUnit'){
                        document.getElementById('pageId:formId:blockId:deliveryPlanSecId:noOfUnitPb:qtysec:qty').value = parseInt(v) + 1;
                    }else{
                        document.getElementById('pageId:formId:blockId:'+ProductSection+':lockTypeSectionItem'+SectionNo+':lockQty').value = parseInt(v) + 1;
                    }
                }
            }
        }
        
        function decrese(SectionNo)
        {
            var ProductSection = '';
            if(document.getElementById('pageId:formId:blockId:QuoteType').value == 'sales'){
                ProductSection = 'salesSectionPBId';
            }else{
                ProductSection = 'rentalSectionPBId';
            }
            var v;
            if(SectionNo == '5'){
                v = document.getElementById('pageId:formId:blockId:'+ProductSection+':ItemCodeSecItem:accessQty').value;
            }else{
                if(SectionNo == 'noOfUnit'){
                    v = document.getElementById('pageId:formId:blockId:deliveryPlanSecId:noOfUnitPb:qtysec:qty').value;
                }else{
                    v = document.getElementById('pageId:formId:blockId:'+ProductSection+':lockTypeSectionItem'+SectionNo+':lockQty').value;
                }
            }
            if(v==''){
                v='1';
            }
            if(v >'1')
            {
                if(SectionNo == '5'){
                    document.getElementById('pageId:formId:blockId:'+ProductSection+':ItemCodeSecItem:accessQty').value = parseInt(v) - 1;
                }else{
                    if(SectionNo == 'noOfUnit'){
                        document.getElementById('pageId:formId:blockId:deliveryPlanSecId:noOfUnitPb:qtysec:qty').value = parseInt(v) - 1;
                    }else{
                        document.getElementById('pageId:formId:blockId:'+ProductSection+':lockTypeSectionItem'+SectionNo+':lockQty').value = parseInt(v) - 1;
                    }
                }
            }
        }
        
        function isValidPostalCode() {
         var p =document.getElementById('pageId:formId:blockId:shippingSecId:zipCodeSectionId:shippingzipCodeId').value;
         var v =document.getElementById('pageId:formId:blockId:shippingSecId:countrySatatePanel:countryShippingId').value;
            switch (v) {
            case "USA":
                postalCodeRegex = /^\d{5}((\-)?\d{4})?$/;
                break;
            case "CAN":
                postalCodeRegex = /^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJKLMNPRSTVWXYZ]( )?\d[ABCEGHJKLMNPRSTVWXYZ]\d$/;
                break;
            default:
                postalCodeRegex = /^(?:[A-Z0-9]+([- ]?[A-Z0-9]+)*)?$/;
            }
    
            return postalCodeRegex.test(p);
        }
        
        function isValidPostalCodeForBilling() {
            var p =document.getElementById('pageId:formId:blockId:billingAddressDetailsid:zipCodeIdMain:zipCodeInputId').value;
            var v =document.getElementById('pageId:formId:blockId:billingAddressDetailsid:StateId:countries').value;
                switch (v) {
                case "USA":
                    postalCodeRegex = /^\d{5}((\-)?\d{4})?$/;
                    break;
                case "CAN":
                    postalCodeRegex = /^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJKLMNPRSTVWXYZ]( )?\d[ABCEGHJKLMNPRSTVWXYZ]\d$/;
                    break;
                default:
                    postalCodeRegex = /^(?:[A-Z0-9]+([- ]?[A-Z0-9]+)*)?$/;
                }
            return postalCodeRegex.test(p);
        }
        
        function imposeMaxLength(ObjectId, MaxLen)
        {
        
        if(ObjectId.value.length >= MaxLen) {
            alert('You cannot enter more than '+MaxLen+' character');
        }
        if(ObjectId.value.length > MaxLen) {
             ObjectId.value = ObjectId.value.substring(0, MaxLen);
        }
          //alert(event.KeyCode);
          //return (Object.value.length <= MaxLen);
         // ObjectId.setAttribute('maxlength', MaxLen);
        }
    
      function hideorderPopUp()
        {
            //cancelOrderPopUp();
            document.getElementById('orderDivId').style.display = 'none';
            
        }
        
        function showorderPopUp()
        {
            ConvertToOrder();
            document.getElementById('orderDivId').style.display = 'block';
            
        }
    
        
        function hideResCapPopUp()
        {
            document.getElementById('reserveCapDiv').style.display = 'none';
            
        }
         function showResCapPopUp()
        {
            document.getElementById('reserveCapDiv').style.display = 'block';
            
        }
        
        function checkLockQty(CompObj, errorLocation){
            var errorMsg = '';
            if(isNaN(CompObj.value)){
                errorMsg = 'Please enter a number between 1 to 99.';
                document.getElementById('LockError'+errorLocation).innerHTML = errorMsg;
                CompObj.focus();
                return false;
            }else{
                if(CompObj.value < 1){
                    errorMsg = 'Please enter a number between 1 to 99.';
                    document.getElementById('LockError'+errorLocation).innerHTML = errorMsg;
                    CompObj.focus();
                    return false;
                }
            }
            document.getElementById('LockError'+errorLocation).innerHTML = errorMsg;
        }
        
        function checkRentalLength(CompObj, errorLocation){
            var errorMsg = '';
            if(isNaN(CompObj.value)){
                errorMsg = 'Please enter a number between 1 to 54.';
                document.getElementById('rentalLengthError'+errorLocation).innerHTML = errorMsg;
                CompObj.focus();
                return false;
            }else{
                var isMoboSeco = document.getElementById('HiddenMoboSeco').value;
                if(isMoboSeco == 'true' && (CompObj.value < 2 || CompObj.value > 54)){
                    errorMsg = 'Please enter a number between 2 to 54.';
                    document.getElementById('rentalLengthError'+errorLocation).innerHTML = errorMsg;
                    CompObj.focus();
                    return false;
                }
                if(isMoboSeco == 'false' && (CompObj.value < 1 || CompObj.value > 54)){
                    errorMsg = 'Please enter a number between 1 to 54.';
                    document.getElementById('rentalLengthError'+errorLocation).innerHTML = errorMsg;
                    CompObj.focus();
                    return false;
                }
            }
            document.getElementById('rentalLengthError'+errorLocation).innerHTML = errorMsg;
            if(errorLocation != '1'){
                ChangeRentalLengthStatus();
            }
        }
    
         function addProd()
        {
            addProductToSummaryLines();
            //ResetProductRentalLength();
        }
         function refreshQuotefun()
        {
            refreshQuote();
            
        }
        
        function savefun()
        {
            payLoadtoSaveQuote();
            
        }
        function convertOrderfun()
        {
            ConvertToOrder();
            
        }
        function markAsLostFun()
        {
            payLoadtoMarkAsLost();
            
        }
        function CapacityUnreservedFun(EleId)
        {
            EleId.value = 'Loading..';
            EleId.disabled = true;
            payLoadtoMarkAsLost();
            
        }
        
        function disabledValidateAccBtn(){
            var acctId = document.getElementById('pageId:formId:blockId:billingAddressDetailsid:accountSearchId:accountId');
            if(acctId != null){
                if(acctId.value != ''){
                    if(document.getElementById('btnValidateAcct') != null){
                        document.getElementById('btnValidateAcct').disabled = true;
                    }
                }else{
                    if(document.getElementById('btnValidateAcct') != null){
                        document.getElementById('btnValidateAcct').disabled = false;
                    }
                }
            }
        }
        
        function onlyNumbers(evt)
        {
            var e = evt
            if(window.event)
            { // IE 
                var charCode = e.keyCode;
            } 
            else if (e.which)
            { // Safari 4, Firefox 3.0.4
                var charCode = e.which
            }
            if (charCode > 31 && (charCode < 48 || charCode > 57))
                return false;
                return true;
        }
function DeliverySlotDivOpen(){
            document.getElementById('DeliverySlotDiv').style.display = 'block';
        }
        
        function DeliverySlotDivClose(){
            document.getElementById('DeliverySlotDiv').style.display = 'none';
        }
        
        function hideDecarteErrorPopUp(){
            document.getElementById('decarteErrorDivId').style.display = 'none';
            callCloseDecarteErrorPopup();
        }
        
        function hideMarkAsLostErrorPopUp(){
            document.getElementById('MarkAsLostErrorDivId').style.display = 'none';
            callCloseMarkAsLostPopUp();
        }
    
    function SelectedPTfunc(recNum){
   
          document.getElementById('SelectedPT').value = recNum;
          SelectPrimaryOnly();
         }
         
          function SelectedPSfunc(recNum){
          
          document.getElementById('SelectedPS').value = recNum;
          SelectPrimaryOnly();
         }
    
         
        /*  function SelectedImageSalesINVfunc(ImageURL){
          document.getElementById('SelectedImage').value = ImageURL;
         
          showImage();
         }*/
         
       function SelectedImageSalesINVfunc(imageId) { 
       document.getElementById('SelectedImage').value = imageId; 
       window.open('/apex/SalesInvImagePage?recId='+imageId,'_blank','height=570,width=520,scrollbars=yes,resizable=yes'); 
    }
    
    function attachmentPopUp() {
    		startActionPoller();
            var quoteIdforEmail = document.getElementById('pageId:formId:theHiddenInput').value;
            if(quoteIdforEmail != null ){
                //newwindow=window.open('/apex/FullQuoteEmailAttachment?parentId='+quoteIdforEmail,'name','height=300,width=600,scrollbars=yes,resizable=yes');
                
                var x = screen.width/2 - 700/2;
                var y = screen.height/2 - 450/2;
                newwindow = window.open('/apex/FullQuoteEmailAttachment?parentId='+quoteIdforEmail, 'name','height=485,width=700,left='+x+',top='+y);
            }
  
            if (window.focus) {newwindow.focus()}
            return false;
            
        }
            
            
        function ExpandProductList(){
            //twistSection(document.getElementById('{!$Component.blockId.productLstExpndClpse}').childNodes[0].childNodes[0]);
            //twistSection(document.getElementById('{!$Component.blockId.productLstExpndClpse}').childNodes[0].childNodes[1]);
             var expandImg = document.getElementById('img_pageId:formId:blockId:productLstExpndClpse');
                 //alert(expandImg);
                 //alert(expandImg.nodeName);
                 //alert(expandImg.parentNode);
                 var parentDiv = expandImg.parentNode;
                 //alert('--------parent div------'+parentDiv.nodeName);
                 var divs = document.getElementsByTagName("div");
                 for(var i = 0; i < divs.length;i++)
                {
                   if(divs[i] == parentDiv)
                   {
                     //var previousDiv = divs[i - 1];
                     var nextDiv = divs[i + 1];
                     nextDiv.style.display = "block";
                   }
                }
        }
        
    
    </script>
    <script language="javascript" type="text/javascript">
    function stopRKey(evt) {
       var evt = (evt) ? evt : ((event) ? event : null);
       var node = (evt.target) ? evt.target : ((evt.srcElement) ? evt.srcElement : null);
       if ((evt.keyCode == 13) && (node.type=="text")) {
        return false;
       }
    }
    
document.onkeypress = stopRKey; 
</script>

<script type="text/javascript">
        function validateContactForm(Operation){
            var conFn = document.getElementById("pageId:formId:addConPbId:addContForm:ContactFirstName:ContactFnId");
            var conLn = document.getElementById("pageId:formId:addConPbId:addContForm:ContactLastName:ContactLnId");
            var conEmail = document.getElementById("pageId:formId:addConPbId:addContForm:ContactEmail:ContactEmailId");
            var conPhone = document.getElementById("pageId:formId:addConPbId:addContForm:ContactPhone:ContactPhoneId");
            
            var conFnError = '';
            var conLnError = '';
            var conEmailError = '';
            var conPhoneError = '';
            
            document.getElementById('ValConFnId').innerHTML = '';
            document.getElementById('ValConLnId').innerHTML = '';
            document.getElementById('ValConEmailId').innerHTML = '';
            document.getElementById('ValConPhoneId').innerHTML = '';
            
            if(conFn.value == '' || conFn.value == null){
                conFnError = 'Please provide first name!';
                document.getElementById('ValConFnId').innerHTML = conFnError;
                conFn.focus();
            }
            if(conLn.value == '' || conLn.value == null){
                conLnError = 'Please provide last name!';
                document.getElementById('ValConLnId').innerHTML = conLnError;
                conLn.focus();
            }
            if(conEmail.value == '' || conEmail.value == null){
                conEmailError = 'Please provide email address!';
                document.getElementById('ValConEmailId').innerHTML = conEmailError;
                conEmail.focus();
            }
            if(conPhone.value == '' || conPhone.value == null){
                conPhoneError = 'Please provide phone number!';
                document.getElementById('ValConPhoneId').innerHTML = conPhoneError;
                conPhone.focus();
            }
            
            if(conFnError != '' || conLnError != '' || conEmailError != '' || conPhoneError != ''){
                return false;
            }
            
            if(Operation == 'add'){
                AddContactFunction();
            }
            if(Operation == 'update'){
                UpdateContactFunction();
            }
        }
        
        function validateCardForm(Operation,ele){
            //alert(ele);
            //ele.value = 'Loading...';
            //ele.disabled = true;
            //validation will go here--------------
            var cardFn = document.getElementById("pageId:formId:addCcardPbId:addCcardForm:CardFirstName:CardFnId");
            var cardLn = document.getElementById("pageId:formId:addCcardPbId:addCcardForm:CardLastName:CardLnId");
            var cardEmail = document.getElementById("pageId:formId:addCcardPbId:addCcardForm:CardEmail:CardEmailId");
            var cardStreet = document.getElementById("pageId:formId:addCcardPbId:addCcardForm:CardStreet:CardStreetId");
            var cardCity = document.getElementById("pageId:formId:addCcardPbId:addCcardForm:CardCity:CardCityId");
            var cardCountry = document.getElementById("pageId:formId:addCcardPbId:addCcardForm:CardCountry:CardCountryListId");
            var cardState = document.getElementById("pageId:formId:addCcardPbId:addCcardForm:CardState:CardStateListId");
            var cardZip = document.getElementById("pageId:formId:addCcardPbId:addCcardForm:CardZip:cardZipId");
            var cardType = document.getElementById("pageId:formId:addCcardPbId:addCcardForm:CardType:CardTypeList");
            var paymentType = document.getElementById("pageId:formId:addCcardPbId:addCcardForm:CardPaymentType:PaymentTypeList");
            var cardNo = document.getElementById("pageId:formId:addCcardPbId:addCcardForm:CardNumber:CardNumberId");
            var expMonth = document.getElementById("pageId:formId:addCcardPbId:addCcardForm:CardExpiryMonth:ExpiryMonthList");
            var expYear = document.getElementById("pageId:formId:addCcardPbId:addCcardForm:CardExpiryYear:ExpiryYearList");
            var defAddrCode = document.getElementById("pageId:formId:addCcardPbId:addCcardForm:CardDefaultAddressCode:DefAddrList");
            var userPass = document.getElementById("pageId:formId:addCcardPbId:addCcardForm:CardUserPassword:CardUserPasswordId");
            var aditionalData = document.getElementById("pageId:formId:addCcardPbId:addCcardForm:CardAdditionalSecurityData:CardAdditionalSecurityDataId");
            
            var cardFnError = '';
            var cardLnError = '';
            var cardEmailError = '';
            var cardStreetError = '';
            var cardCityError = '';
            var cardCountryError = '';
            var cardStateError = '';
            var cardZipError = '';
            var cardTypeError = '';
            var paymentTypeError = '';
            var cardNoError = '';
            var expMonthError = '';
            var expYearError = '';
            var defAddrCodeError = '';
            var userPassError = '';
            var aditionalDataError = '';
            
            document.getElementById('ValCardFnId').innerHTML = '';
            document.getElementById('ValCardTypeId').innerHTML = '';
            document.getElementById('ValCardLnId').innerHTML = '';
            document.getElementById('ValCardPaymentTypeId').innerHTML = '';
            document.getElementById('ValCardEmailId').innerHTML = '';
            document.getElementById('ValCardNumberId').innerHTML = '';
            document.getElementById('ValCardStreetId').innerHTML = '';
            document.getElementById('ValCardExpiryMonthId').innerHTML = '';
            document.getElementById('ValCardCityId').innerHTML = '';
            document.getElementById('ValCardExpiryYearId').innerHTML = '';
            document.getElementById('ValCardCountryId').innerHTML = '';
            document.getElementById('ValCardDefaultAddressCodeId').innerHTML = '';
            document.getElementById('ValCardStateId').innerHTML = '';
            document.getElementById('ValCardUserPasswordId').innerHTML = '';
            document.getElementById('ValCardZipId').innerHTML = '';
            document.getElementById('ValCardAdditionalSecurityDataId').innerHTML = '';
            
            if(cardFn.value == '' || cardFn.value == null){
                cardFnError = 'Please provide the first name!';
                document.getElementById('ValCardFnId').innerHTML = cardFnError;
                cardFn.focus();
            }
            if(cardLn.value == '' || cardLn.value == null){
                cardLnError = 'Please provide the last name!';
                document.getElementById('ValCardLnId').innerHTML = cardLnError;
                cardLn.focus();
            }
            if(cardEmail.value == '' || cardEmail.value == null){
                cardEmailError = 'Please provide the email address!';
                document.getElementById('ValCardEmailId').innerHTML = cardEmailError;
                cardEmail.focus();
            }
            if(cardStreet.value == '' || cardStreet.value == null){
                cardStreetError = 'Please provide the street address!';
                document.getElementById('ValCardStreetId').innerHTML = cardStreetError;
                cardStreet.focus();
            }
            if(cardCity.value == '' || cardCity.value == null){
                cardCityError = 'Please provide the city name!';
                document.getElementById('ValCardCityId').innerHTML = cardCityError;
                cardCity.focus();
            }
            if(cardCountry.value == '' || cardCountry.value == null){
                cardCountryError = 'Please select the country!';
                document.getElementById('ValCardCountryId').innerHTML = cardCountryError;
                cardCountry.focus();
            }
            if(cardState.value == '' || cardState.value == null){
                cardStateError = 'Please select the state!';
                document.getElementById('ValCardStateId').innerHTML = cardStateError;
                cardState.focus();
            }
            if(cardZip.value == '' || cardZip.value == null){
                cardZipError = 'Please provide the zip code!';
                document.getElementById('ValCardZipId').innerHTML = cardZipError;
                cardZip.focus();
            }
            if(cardType.value == '' || cardType.value == null){
                cardTypeError = 'Please select card type!';
                document.getElementById('ValCardTypeId').innerHTML = cardTypeError;
                cardType.focus();
            }
            if(paymentType.value == '' || paymentType.value == null){
                paymentTypeError = 'Please select payment type!';
                document.getElementById('ValCardPaymentTypeId').innerHTML = paymentTypeError;
                paymentType.focus();
            }
            if(cardNo.value == '' || cardNo.value == null){
                cardNoError = 'Please provide card number!';
                document.getElementById('ValCardNumberId').innerHTML = cardNoError;
                cardNo.focus();
            }
            if(expMonth.value == '' || expMonth.value == null){
                expMonthError = 'Please select card expiry month!';
                document.getElementById('ValCardExpiryMonthId').innerHTML = expMonthError;
                expMonth.focus();
            }
            if(expYear.value == '' || expYear.value == null){
                expYearError = 'Please select card expiry year!';
                document.getElementById('ValCardExpiryYearId').innerHTML = expYearError;
                expYear.focus();
            }
            if(defAddrCode.value == '' || defAddrCode.value == null){
                defAddrCodeError = 'Please select default address type!';
                document.getElementById('ValCardDefaultAddressCodeId').innerHTML = defAddrCodeError;
                defAddrCode.focus();
            }
            if(userPass.value == '' || userPass.value == null){
                userPassError = 'Please provide rental Result login password!';
                document.getElementById('ValCardUserPasswordId').innerHTML = userPassError;
                userPass.focus();
            }
            if(aditionalData.value == '' || aditionalData.value == null){
                aditionalDataError = 'Please provide additional security data!';
                document.getElementById('ValCardAdditionalSecurityDataId').innerHTML = aditionalDataError;
                aditionalData.focus();
            }
            
            if(cardFnError != '' || cardLnError != '' || cardEmailError != '' || cardStreetError != '' || cardCityError != '' || cardCountryError != '' || cardStateError != '' || cardZipError != '' || cardTypeError != '' || paymentTypeError != '' || cardNoError != '' || expMonthError != '' || expYearError != '' || defAddrCodeError != '' || userPassError != '' || aditionalDataError != '' ){
                if(Operation == 'add'){
                    //ele.value = 'Add Card';
                    //ele.disabled = false;
                }
                if(Operation == 'update'){
                    //ele.value = 'Update Card';
                    //ele.disabled = false;
                }
                
                return false;
            }
            
            if(Operation == 'add'){
                AddCardFunction();
            }
            if(Operation == 'update'){
                UpdateCardFunction();
            }
        
        }
        
        function validateAchForm(Operation,ele){
            var achFn = document.getElementById("pageId:formId:addAchPbId:addAchForm:AchFirstName:achFnId");
            var achLn = document.getElementById("pageId:formId:addAchPbId:addAchForm:AchLastName:achLastNameId");
            var achEmail = document.getElementById("pageId:formId:addAchPbId:addAchForm:AchEmail:achEmailId");
            var achPnone = document.getElementById("pageId:formId:addAchPbId:addAchForm:AchPhone:achPhoneId");
            var achStreet = document.getElementById("pageId:formId:addAchPbId:addAchForm:AchStreet:achStreetId");
            var achCity = document.getElementById("pageId:formId:addAchPbId:addAchForm:AchCity:achCityId");
            var achCountry = document.getElementById("pageId:formId:addAchPbId:addAchForm:AchCountry:achCountryId");
            var achState = document.getElementById("pageId:formId:addAchPbId:addAchForm:AchState:CardStateListId");
            var achZip = document.getElementById("pageId:formId:addAchPbId:addAchForm:AchZip:achZipId");
            var achBankName = document.getElementById("pageId:formId:addAchPbId:addAchForm:BankName:achBankNameId");
            var achBankAccNo = document.getElementById("pageId:formId:addAchPbId:addAchForm:AchBankAccNo:achBankAccNoId");
            var achBankSortCode = document.getElementById("pageId:formId:addAchPbId:addAchForm:AchBankSortCode:achBankSortCodeId");
            var achBankAccType = document.getElementById("pageId:formId:addAchPbId:addAchForm:AchBankAccType:achBankAccTypeId");
            var achCheckType = document.getElementById("pageId:formId:addAchPbId:addAchForm:AchCheckType:achCheckTypeId");
            var achBankCity = document.getElementById("pageId:formId:addAchPbId:addAchForm:AchBankCity:achBankCityId");
            var achBankState = document.getElementById("pageId:formId:addAchPbId:addAchForm:AchBankState:achBankStateId");
            var defAddressCode = document.getElementById("pageId:formId:addAchPbId:addAchForm:AchDefaultAddressCode:achDefaultAddressCodeId");
            var userPassword = document.getElementById("pageId:formId:addAchPbId:addAchForm:AchUserPassword:achUserPasswordId");
            
            var achFnError = '';
            var achLnError = '';
            var achEmailError = '';
            var achPnoneError = '';
            var achStreetError = '';
            var achCityError = '';
            var achCountryError = '';
            var achStateError = '';
            var achZipError = '';
            var achBankNameError = '';
            var achBankAccNoError = '';
            var achBankSortCodeError = '';
            var achBankAccTypeError = '';
            var achCheckTypeError = '';
            var achBankCityError = '';
            var achBankStateError = '';
            var defAddressCodeError = '';
            var userPasswordError = '';
            
            document.getElementById('ValAchFnId').innerHTML = '';
            document.getElementById('ValAchLastNameId').innerHTML = '';
            document.getElementById('ValAchEmailId').innerHTML = '';
            document.getElementById('ValAchPhoneId').innerHTML = '';
            document.getElementById('ValAchStreetId').innerHTML = '';
            document.getElementById('ValachCityId').innerHTML = '';
            document.getElementById('ValAchCountryId').innerHTML = '';
            document.getElementById('ValAchStateOptionId').innerHTML = '';
            document.getElementById('ValAchZipId').innerHTML = '';
            document.getElementById('ValAchBankNameId').innerHTML = '';
            document.getElementById('ValAchBankAccNoId').innerHTML = '';
            document.getElementById('ValAchBankSortCodeId').innerHTML = '';
            document.getElementById('ValAchBankAccTypeId').innerHTML = '';
            document.getElementById('ValAchCheckTypeId').innerHTML = '';
            document.getElementById('ValAchBankCityId').innerHTML = '';
            document.getElementById('ValAchBankStateOptionId').innerHTML = '';
            document.getElementById('ValAchDefaultAddressCodeId').innerHTML = '';
            document.getElementById('ValAchUserPasswordId').innerHTML = '';
            
            if(achFn.value == '' || achFn.value == null){
                achFnError = 'Please provide the first name!';
                document.getElementById('ValAchFnId').innerHTML = achFnError;
                achFn.focus();
            }
            if(achLn.value == '' || achLn.value == null){
                achLnError = 'Please provide the last name!';
                document.getElementById('ValAchLastNameId').innerHTML = achLnError;
                achLn.focus();
            }
            if(achEmail.value == '' || achEmail.value == null){
                achEmailError = 'Please provide the email address!';
                document.getElementById('ValAchEmailId').innerHTML = achEmailError;
                achEmail.focus();
            }
            if(achPnone.value == '' || achPnone.value == null){
                achPnoneError = 'Please provide the phone number!';
                document.getElementById('ValAchPhoneId').innerHTML = achPnoneError;
                achPnone.focus();
            }
            if(achStreet.value == '' || achStreet.value == null){
                achStreetError = 'Please provide the street address!';
                document.getElementById('ValAchStreetId').innerHTML = achStreetError;
                achStreet.focus();
            }
            if(achCity.value == '' || achCity.value == null){
                achCityError = 'Please provide the city name!';
                document.getElementById('ValachCityId').innerHTML = achCityError;
                achCity.focus();
            }
            if(achCountry.value == '' || achCountry.value == null){
                achCountryError = 'Please select the country!';
                document.getElementById('ValAchCountryId').innerHTML = achCountryError;
                achCountry.focus();
            }
            if(achState.value == '' || achState.value == null){
                achStateError = 'Please select the state!';
                document.getElementById('ValAchStateOptionId').innerHTML = achStateError;
                achState.focus();
            }
            if(achZip.value == '' || achZip.value == null){
                achZipError = 'Please provide zip code!';
                document.getElementById('ValAchZipId').innerHTML = achZipError;
                achZip.focus();
            }
            if(achBankName.value == '' || achBankName.value == null){
                achBankNameError = 'Please provide bank name!';
                document.getElementById('ValAchBankNameId').innerHTML = achBankNameError;
                achBankName.focus();
            }
            if(achBankAccNo.value == '' || achBankAccNo.value == null){
                achBankAccNoError = 'Please provide bank account number!';
                document.getElementById('ValAchBankAccNoId').innerHTML = achBankAccNoError;
                achBankAccNo.focus();
            }
            if(achBankSortCode.value == '' || achBankSortCode.value == null){
                achBankSortCodeError = 'Please provide Bank Routing No!';
                document.getElementById('ValAchBankSortCodeId').innerHTML = achBankSortCodeError;
                achBankSortCode.focus();
            }
            if(achBankAccType.value == '' || achBankAccType.value == null){
                achBankAccTypeError = 'Please select account type!';
                document.getElementById('ValAchBankAccTypeId').innerHTML = achBankAccTypeError;
                achBankAccType.focus();
            }
            if(achCheckType.value == '' || achCheckType.value == null){
                achCheckTypeError = 'Please select check type!';
                document.getElementById('ValAchCheckTypeId').innerHTML = achCheckTypeError;
                achCheckType.focus();
            }
            if(achBankCity.value == '' || achBankCity.value == null){
                achBankCityError = 'Please provide the city!';
                document.getElementById('ValAchBankCityId').innerHTML = achBankCityError;
                achBankCity.focus();
            }
            if(achBankState.value == '' || achBankState.value == null){
                achBankStateError = 'Please select state!';
                document.getElementById('ValAchBankStateOptionId').innerHTML = achBankStateError;
                achBankState.focus();
            }
            if(defAddressCode.value == '' || defAddressCode.value == null){
                defAddressCodeError = 'Please select default address code!';
                document.getElementById('ValAchDefaultAddressCodeId').innerHTML = defAddressCodeError;
                defAddressCode.focus();
            }
            if(userPassword.value == '' || userPassword.value == null){
                userPasswordError = 'Please provide user password!';
                document.getElementById('ValAchUserPasswordId').innerHTML = userPasswordError;
                userPassword.focus();
            }
            
            if(achFnError != '' || achLnError != '' || achEmailError != '' || achPnoneError != '' || achStreetError != '' || achCityError != '' || achCountryError != '' || achStateError != '' || achZipError != '' || achBankNameError != '' || achBankAccNoError != '' || achBankSortCodeError != '' || achBankAccTypeError != '' || achCheckTypeError != '' || achBankCityError != '' || achBankStateError != '' || defAddressCodeError != '' || userPasswordError != '' ){
                return false;
            }
            if(Operation == 'add'){
                AddAchFunction();
            }
            if(Operation == 'update'){
                UpdateAchFunction();
            }
        }
        
        function EnableRelatedFields(){
        	var achBankAccNo = document.getElementById("pageId:formId:addAchPbId:addAchForm:AchBankAccNo:achBankAccNoId");
            var achBankSortCode = document.getElementById("pageId:formId:addAchPbId:addAchForm:AchBankSortCode:achBankSortCodeId");
            var achBankAccType = document.getElementById("pageId:formId:addAchPbId:addAchForm:AchBankAccType:achBankAccTypeId");
            var achCheckType = document.getElementById("pageId:formId:addAchPbId:addAchForm:AchCheckType:achCheckTypeId");
            if((achBankAccNo.value).indexOf("X") == -1){
            	//alert((achBankAccNo.value).indexOf("X"));
            	achBankSortCode.disabled = false;
            	achBankAccType.disabled = false;
            	achCheckType.disabled = false;
            }
        }
        
        function DisableCardNoRelatedField(){
        	var cardType = document.getElementById("pageId:formId:addCcardPbId:addCcardForm:CardType:CardTypeList");
            var paymentType = document.getElementById("pageId:formId:addCcardPbId:addCcardForm:CardPaymentType:PaymentTypeList");
            var cardNo = document.getElementById("pageId:formId:addCcardPbId:addCcardForm:CardNumber:CardNumberId");
            if((cardNo.value).indexOf("X") == -1){
            	//alert((cardNo.value).indexOf("X"));
            	cardType.disabled = false;
            	paymentType.disabled = false;
            }
        }
        
        function getSelectedTempId(templateId){
			document.getElementById('hiddenSelectedEmailTemplate').value = '';
			document.getElementById('hiddenSelectedEmailTemplate').value = templateId;
		}
		
    </script>
    <apex:form id="formId">
        <apex:inputHidden value="{!quoteIdforEmail}" id="theHiddenInput"/>
        <apex:outputPanel id="errorMessageTop">
            <apex:messages id="mainErrorMsg" styleClass="errorMsg" style="font-family:georgia,garamond,serif;" />
        </apex:outputPanel>
        <apex:outputPanel id="errorMessageTopAnalysis">
            <apex:messages id="mainErrorMsg1" styleClass="errorMsg" style="font-family:georgia,garamond,serif;" />
        </apex:outputPanel>
        <input type="hidden" id="markAsLossOppconformation" name="markAsLossOppconformation" />
        <input type="hidden" id="EmailAddessIdfy" name="EmailAddessIdfy" />
        <input type="hidden" id="btnId" name="btnId" />
        <input type="hidden" id="shipbtnId" name="shipbtnId" />
        <input type="hidden" id="sLineId" name="sLineId" />
        <input type="hidden" id="SelectedVAddressRadio" name="SelectedVAddressRadio" />
        <input type="hidden" id="SelectedVaddressRadioShip" name="SelectedVaddressRadioShip" />
        <input type="hidden" id="SelectedTaxIdRadio" name="SelectedTaxIdRadio" />
        <input type="hidden" id="SelectedTaxIdRadioShip" name="SelectedTaxIdRadioShip" />
        <input type="hidden" id="selectedAccBilling" name="selectedAccBilling" />
        <input type="hidden" id="selectedBillingAddr" name="selectedBillingAddr" />
        <input type="hidden" id="selectedWriteUpRep" name="selectedWriteUpRep" />
        <input type="hidden" id="selectedContactBilling" name="selectedContactBilling" />
        <input type="hidden" id="selectedPrimaryContactBilling" name="selectedPrimaryContactBilling" />
        <input type="hidden" id="selectedContactShipping" name="selectedContactShipping" />
        <input type="hidden" id="selectedAnalysisInProduct" name="selectedAnalysisInProduct" />
        <input type="hidden" id="selectedAnalysisInBilling" name="selectedAnalysisInBilling" />
        <input type="hidden" id="SelectedMinimumTerm" name="SelectedMinimumTerm" />
        <input type="hidden" id="SelectedBranch" name="SelectedBranch" />
        <input type="hidden" id="selectedShippingAddr" name="selectedShippingAddr" />
        <input type="hidden" id="SelectedShippingBranch" name="SelectedShippingBranch" />
        <input type="hidden" id="selectedAnalysisInShipping" name="selectedAnalysisInShipping" />
        <input type="hidden" id="SelectedProduct" name="SelectedProduct" />
        <input type="hidden" id="SelectedEcode" name="SelectedEcode" />
        <input type="hidden" id="accountNameSearch" name="accountNameSearch" />
        <input type="hidden" id="ecodeSelactedValue" name="ecodeSelactedValue" />
        <input type="hidden" id="capacitySelactedValue" name="capacitySelactedValue" />
        <input type="hidden" id="SelectedPT" name="SelectedPT" />
        <input type="hidden" id="SelectedPS" name="SelectedPS" />
        <input type="hidden" id="SelectedImage" name="SelectedImage" />
        <!--    DOUBLE CLICK EVETN -->
        <apex:actionFunction name="SendingMail" action="{!SendingMail}" reRender="EmailQuotePanel,theHiddenInput,toAddressId,cc1Id,cc2Id,messageId,emailSubject"/>
        <apex:actionFunction name="showImage" action="{!showImage}" reRender=""/>
        <apex:actionFunction name="cancelFullQuotemehtod"  action="{!cancelFullQuote}" />
        <apex:actionFunction name="accountIdSelected"  status="onloadStatus" action="{!accountIdSelected}" reRender="formId,btnPanel,outoutOptionId,outoutOptionId,validatePanel1,fulFillingBranchPanelId,fulFillingBranchPanelId,productAddbutton,invoidingtsectionId,fulFillingBranchPanelId,shiipingAccountSectionId,cityShippingId,countyShippingId,countrySatatePanel,zipCodeSectionId,summaryPanel,extrasPanel,editProductPanel,productAddbutton,errorMessageTop"/>
        <apex:actionFunction name="addressIdSelected"  status="onloadStatus" action="{!addressIdSelected}" reRender="formId"/>
        <apex:actionFunction name="contactIdSelected"  status="onloadStatus" action="{!contactIdSelected}" reRender="formId"/>
        <apex:actionFunction name="shippingAddressIdSelected"  status="onloadStatus" action="{!shippingAddressIdSelected}" reRender="formId,btnPanel,outoutOptionId,validatePanel1,fulFillingBranchPanelId,errorMessageTop"/>
        <apex:actionFunction name="shippingContactIdSelected"  status="onloadStatus" action="{!shippingContactIdSelected}" reRender="deliveryContactId,deliveryConatId,delTelId, delFaxId, delEmailId"/>
        <apex:actionFunction name="validateAddressShippingIdSelected"   action="{!validateAddressShippingIdSelected}" reRender="validateAddressShippingPanel,fulFillingBranchPanelId,taxIdShippingPanel,deliveryPlanSecId,validatePanel1,fulFillingBranchPanelId,btnPanel,outoutOptionId,addressShippingArea,cityShippingId,countyShippingId,stateSelectIdshiiping,countryShippingId,shippingzipCodeId,noZoneBtn,noZoneBtnOP"/>
        <apex:actionFunction name="taxIdShippingSelected" status="validatebuttom" action="{!taxIdShippingSelected}" reRender="shippingSecId,taxIdShippingPanel,validatePanel1,fulFillingBranchPanelId,btnPanel,outoutOptionId,productAddbutton,zipCodeSectionId,SelectedShipingTaxId,taxIdShippingPanel,validatePanel1,fulFillingBranchPanelId,productsListSalesWrapper,btnPanel,outoutOptionId,productAddbutton,zipCodeSectionId,SelectedShipingTaxId,cityShippingId,countyShippingId,StateShippingId,countryShipingId,zipcodeShippingId"/>
        <apex:actionFunction name="fulFillingIdSelected" status="onloadStatus" action="{!fulFillingIdSelected}" reRender="fulFillingPanel,fulFillingBranchPanelId,btnPanel,outoutOptionId,fullfillilngBranchidErrror,ShippingdistFromBranch,ShippingdeliveryZoneInShipping,validatePanel1"/>
        <apex:actionFunction name="AssistingSalesRepSelected" status="AsssalesrepId" action="{!AssistingSalesRepSelected}" reRender="assistingRepId,assistingRepNameId,salesRepPanelAssing"/>
        <apex:actionFunction name="SalesRepSelected" status="salesrepId" action="{!SalesRepSelected}" reRender="salesRepPanel,WriteUpRepId,writeUpName"/>
        <apex:actionFunction status="stseditproduct" name="fillEcodes" action="{!fillEcodes}" reRender="editProductPanel,productAddbutton"/>
        <apex:actionFunction status="stseditproduct" name="callEditProduct" action="{!editProduct}" reRender="editProductPanel,productAddbutton"/>
        <apex:actionFunction name="callRefreshLine" status="ItemCodeStatus" action="{!callRefreshLineService}" reRender="editProductPanel,productAddbutton"/>
        <apex:actionFunction name="callRefreshSelectedProduct" status="ItemCodeStatus" action="{!callSpecificProductService}" oncomplete="ResetProductRentalLength()" reRender="editProductPanel,productAddbutton"/>
        <apex:actionFunction name="editSaleProduct" status="ItemCodeStatusSales" action="{!callEditSaleProduct}" reRender="editProductPanel,productAddbutton,errorMessageTop"/>
        <apex:actionFunction name="contactIdEnterbyUser" status="contactIdEntery" action="{!contactIdEnterbyUser}" rerender="billingMobileNo, telephoneId,billingEmailId,billingFaxId,billingContactId,billingContactLnId,billingCantdId,errorMessageTop" />
        <apex:actionFunction name="callRefreshLine1" status="minimumTermStatus" action="{!callRefreshLineService}" reRender="editProductPanel,productAddbutton"/>
        <apex:actionFunction name="callProductsSelection" status="TransactionTypeLoad" action="{!ProductsSelection}" reRender="productsList,editProductPanel,productAddbutton,errorMessageTop"/>
        <apex:actionFunction name="callClearProductSummarylines" status="TransactionTypeLoad" action="{!ClearProductSummarylines}" reRender="summaryPanel,productAddbutton,tranTypeErrorMessage"/>
        <apex:actionFunction name="callAnalysisWebservice"  status="TransactionTypeLoad" action="{!analysisWebservice}" oncomplete="callClearProductSummarylines();" reRender="analysisSetCodePanelInBilling,contractorField,addressId,btnPanel,outoutOptionId,validatePanel1,fulFillingBranchPanelId,fulFillingBranchPanelId,productsList,editProductPanel,productAddbutton,accountSearchId,tranTypeErrorMessage"/>
        <apex:actionFunction name="onchangeTrnactype"  status="TransactionTypeLoad" action="{!onchagneTansactiontype}"  reRender="formId,rentalSectionPBId,tranTypeErrorMessage,TransTmoboORseco1,TransTmoboORseco2,cartOfInsuranceId,cartOfInsuranceIdPanel,editProductPanel,ecodeParentWrapper,rentalLengthInProd,LoadedMoveInReadOnly,DueDate2"/>
        <!-- <apex:actionFunction name="callExtraWsCall" action="{!extraWsCall}" status="onloadStatus"  reRender="ttyepe,ttyepesection,shippingSecId,States,countryShippingId,btnPanel,outoutOptionId,validatePanel1,deliveryDateid,analysisSetCodePanelInBilling,productsListSalesWrapper,ecodeInputTextId,salesMinimumPrice,salesModificationCost,salesNetbookValueWrapper,salesSellingPrice,salesGradeDescription,salesAssetDescription,theImage,ApproverCommentsDescription,ModificationCommentsDescription,invoidingtsectionId,DueDate,productAddbutton,salesItemCode,extraAnalysisSetCallOnLoadOuterOP,QuoteExpiresDateId,QuoteExpireIsReadOnly,NoreservationCheckboxId"/> -->
        <apex:actionFunction name="callQqToFQConversion" action="{!callQqToFQConversion}" status="onloadStatus"  reRender="billingContactId,editProductPanel,ttyepe,ttyepesection,shippingSecId,States,countryShippingId,btnPanel,outoutOptionId,validatePanel1,deliveryDateid,analysisSetCodePanelInBilling,productsListSalesWrapper,ecodeInputTextId,salesMinimumPrice,salesModificationCost,salesNetbookValueWrapper,salesSellingPrice,salesGradeDescription,salesAssetDescription,theImage,ApproverCommentsDescription,ModificationCommentsDescription,invoidingtsectionId,DueDate,productAddbutton,salesItemCode,extraAnalysisSetCallOnLoadOuterOP,QuoteExpiresDateId,QuoteExpireIsReadOnly,NoReservationPanel,deliveryDatePanelId,disable,DueDate2,LoadedMoveInReadOnly" />
        <apex:actionFunction name="callListSalesProducts"  status="onloadStatus" action="{!listSalesProducts}" reRender="editProductPanel,theImage,customerActivityPanel,productsListSalesWrapper,errorMessageTop,ApproverCommentsDescription,ModificationCommentsDescription,productAddbutton"/>
        <apex:actionFunction name="getCustomerActivityHistory"  status="onloadStatus" action="{!getCustomerActivityHistory}" reRender="editProductPanel,theImage,customerActivityPanel,productsListSalesWrapper,errorMessageTop,ApproverCommentsDescription,ModificationCommentsDescription,productAddbutton"/>
        <apex:actionFunction name="callShippingAnalysisSetsService" status="onloadStatus" action="{!callShippingAnalysisSetsService}" reRender="validatePanel1,analysisPanelShipping,UserBillingAddressCopyId,statePanel,errorMessageTopAnalysis,rentalLengthDisab,shiipingDatesPanel,productAddbutton" />
        <!-- <apex:actionFunction name="callShippingAnalysisSetsServiceonload" status="onloadStatus" action="{!callShippingAnalysisSetsService}" reRender="analysisPanelShipping,UserBillingAddressCopyId,statePanel,errorMessageTop,rentalLengthDisab,shiipingDatesPanel,salesProductionSection,formId" oncomplete="callExtraWsCall();"/> -->
        <apex:actionFunction name="analysisSetValidation" status="onloadStatus" action="{!analysisSetValidation}" reRender="errorMessageTopAnalysis,editProductPanel" />
        <apex:actionFunction name="analysisShippingWebservice" action="{!analysisShippingWebservice}" reRender="analysisPanelShipping" />
        <apex:actionFunction name="validateShippingAddress" action="{!validateShippingAddress}" reRender="analysisPanelShipping" />
        <apex:actionFunction name="accountPatternSearch" action="{!accountPatternSearch}" reRender="accountPanel,errorMessageTop" />
        <apex:actionFunction name="buttonEnableDesable" action="{!buttonEnableDesable}" reRender="accountPanel" />
        <apex:actionFunction name="SaleFleetWS" status="SearchLoad1" action="{!callSalesFleetService}" reRender="ecodeParentWrapper,editProductPanel,productAddbutton,errorMessageTop" />
        <apex:actionFunction name="cancelOrderPopUp" action="{!cancelOrderPopUp}"  status="onloadStatus" reRender="orderPanel" />
        <apex:actionFunction name="okEcodePopUp" action="{!allocationIdSelected}"  status="onloadStatus"  reRender="ecodePanel,btnPanel,outoutOptionId,salesProductionSection,productAddbutton,errorMessageTop,salesItemCode,salesSuggestedPrice,ecodeInputTextId,salesMinimumPrice,salesNetbookValueWrapper,salesSellingPrice,salesAssetDescription"/>
        <apex:actionFunction name="okCapacityPopUp" action="{!CapacityIdSelected}" reRender="CapacityLookupPanel,deliveryDatePanelId,deliveryDateid,DueDate,delvDateAfterSave,errorMessageTop"/>
        <apex:actionFunction name="ChangeBtnStatus" action="{!ChangeButtonStatus}" status="periodStatusDel" reRender="btnPanel,outoutOptionId,errorMessageTop"/>
        <apex:actionFunction name="ChangeRentalLengthStatus" action="{!enablePeriod}" status="RentalperiodStatus" reRender="editProductPanel,rentalLengthDisab,errorMessageTop,DueDate2,LoadedMoveInReadOnly"/>
        <apex:actionFunction name="addProductToSummaryLines" status="sts" action="{!addProductToSummaryLines}" reRender="summaryPanel,stdModificationOuterPenal,productsList,ecodeParentWrapper,editProductPanel,extrasPanel,productAddbutton,invoiceTabMainContainer,btnPanel,outoutOptionId"/>
        <apex:actionFunction name="refreshQuote" status="NewContactStatus" action="{!refreshQuote}" reRender="editProductPanel,unitTypeListId,invoiceTabMainContainer,ContractValueSecIdInvoice,invoidingtsectionId,btnPanel,outoutOptionId,errorMessageTop,extrasPanel" />
        <apex:actionFunction name="payLoadtoSaveQuote" status="NewContactStatus" action="{!payLoadtoSaveQuote}" reRender="btnPanel,outoutOptionId,errorMessageTop,reserveCapPanel,SaveSuccess,DecarteErrorOp" />
        <apex:actionFunction name="ConvertToOrder" action="{!ConvertToOrder}" reRender="orderPanel,DocumentIdAfterOrderConversion,ConvertToOrderOp" />
        <apex:actionFunction name="callConvertToOrderFN" action="{!callConvertToOrder}" reRender="orderPanel,DocumentIdAfterOrderConversion,ConvertToOrderOp" />
        <apex:actionFunction name="payLoadtoMarkAsLost" action="{!payLoadtoMarkAsLost}" reRender="formId" />
        <apex:actionFunction status="stdMChange"  name="onChangeModification" action="{!onChangeModification}" reRender="stdMButtonOp,btnPanel" />
        <apex:actionFunction name="getNewCustomerAcc" action="{!getNewCustomerAcc}" reRender="validateAddressPanel" />
        <apex:actionFunction name="CancelValidateAddressIdSelected" status="onloadStatus" action="{!CancelValidateAddressIdSelected}" reRender="validateAddressPanel,pnlToDisabledValidAccBtn,telephoneId,TaxExemptcheckbox,billingAddrStatus,addressid,addressArea,cityId,countyId,stateid,countryId,zipcodeId,validatePanel,btnPanel,outoutOptionId,errorMessageTop,billingAddresId,accountId,AddContactOP,AccountNameId" />
        <apex:actionFunction name="callFinalAccCreate" status="onloadStatus" action="{!createProspectAccount}" reRender="errorOnAcctCreationOuterOP,validateAddressPanel,pnlToDisabledValidAccBtn,telephoneId,TaxExemptcheckbox,billingAddrStatus,addressid,addressArea,cityId,countyId,stateid,countryId,zipcodeId,validatePanel,btnPanel,outoutOptionId,errorMessageTop,billingAddresId,accountId,AddContactOP,AccountNameId" />
        <apex:actionFunction name="newCustomerIdSelected" action="{!newCustomerAccountIdSelected}"  status="onloadStatus" reRender="errorOnAcctCreationOuterOP,validateAddressPanel,pnlToDisabledValidAccBtn,telephoneId,TaxExemptcheckbox,billingAddrStatus,addressid,addressArea,cityId,countyId,stateid,countryId,zipcodeId,validatePanel,btnPanel,outoutOptionId,errorMessageTop,billingAddresId,accountId,AddContactOP,AccountNameId"/>
        <apex:actionFunction name="removeSummaryLine"  status="sts" action="{!removeLineItemSummaryLine}" rerender="summaryPanel,extrasPanel,editProductPanel,btnPanel,outoutOptionId,invoiceTabMainContainer,productAddbutton,errorMessageTop,stdMButtonOp" />
        <apex:actionFunction name="callCloseDecarteErrorPopup"  status="onloadStatus" action="{!closeDecarteErrorPopup}" rerender="decarteErrorPanel" />
        <apex:actionFunction name="callCloseMarkAsLostPopUp"  status="onloadStatus" action="{!closeMarkAsLostPopUp}" rerender="MarkAsLostErrorPanel" />
        <apex:actionFunction name="AddContactFunction" action="{!AddContact}" reRender="addConOuterPannel"  status="addContactFormStatus" />
        <apex:actionFunction name="UpdateContactFunction" action="{!UpdateContact}" reRender="addConOuterPannel"  status="addContactFormStatus" />
        <apex:actionFunction name="AddCardFunction" action="{!AddCard}" reRender="addConOuterPannel"  status="addCardFormStatus" />
        <apex:actionFunction name="UpdateCardFunction" action="{!UpdateCard}" reRender="addConOuterPannel"  status="addCardFormStatus" />
        
        <apex:actionFunction name="AddAchFunction" action="{!AddAch}" reRender="addConOuterPannel"  status="addAchFormStatus" />
        <apex:actionFunction name="UpdateAchFunction" action="{!UpdateAch}" reRender="addConOuterPannel"  status="addAchFormStatus" />
        <apex:actionFunction name="startActionPoller" action="{!startActionPoller}" reRender="attachListDiv,ActionPollerStartEnd,pollerOP"  />
        
        <apex:actionFunction name="callGenerateEmailBody" action="{!generateEmailBody}" reRender="emailTemplateListOuterOp,emailSubject,messageId" status="GenerateBody" />
        
        <apex:outputPanel id="extraAnalysisSetCallOnLoadOuterOP">
            <apex:outputPanel id="extraAnalysisSetCallOnLoadInnerOp" rendered="{!isCallingExtraAnalysisNeeded}">
                <script>
                    callShippingAnalysisSetsService();
                </script>
            </apex:outputPanel>
            <apex:outputPanel id="CallQqToFQConversionNeededOp" rendered="{!isCallQqToFQConversionNeeded}">
                <script>
                    callQqToFQConversion();
                </script>
            </apex:outputPanel>
        </apex:outputPanel>
        <apex:actionStatus id="onloadStatus" >
            <apex:facet name="start">
                <apex:outputPanel styleClass="popupBackground1" layout="block" />
                <apex:outputPanel style="-moz-border-radius: 15px;-webkit-border-radius: 15px;border-radius: 10px;" styleClass="custPopup12" layout="block">
                    <br/>
                    <div align="center">
                        <img src="{!$Resource.Loading}" />
                        <br/>
                        <br/>
                        <font color="Red">
                            <b>Loading....</b>
                        </font>
                    </div>
                </apex:outputPanel>
            </apex:facet>
            <apex:facet name="stop"></apex:facet>
        </apex:actionStatus>
        <apex:actionFunction name="callwstransactiontype" action="{!LoadWBs}" status="onloadStatus"  reRender="billingContactId,btnPanel,outoutOptionId,validatePanel1,quotetypeId, formId" />
        <div  align="left" id="ttypeError" style="display:none; ">
            <span  style="float:left; padding-left:40%; ">
                <font color="red">Please Select Transaction Type from Customer and Billing Tab</font>
            </span>
        </div>
        <div  align="left" id="reqiFielderrorMessage" style="display:none; ">
            <span  style="float:left; padding-left:40%; ">
                <font color="red">Please Enter Required Fields from Customer and Billing Tab</font>
            </span>
        </div>
        <div  align="left" id="AccountIdRequ" style="display:none; ">
            <span  style="float:left; padding-left:40%; ">
                <font color="red">Please Enter Account id or validate account.</font>
            </span>
        </div>
        <div  align="left" id="reqiFieldShipingTaberrorMessage" style="display:none; ">
            <span  style="float:left; padding-left:40%; ">
                <font color="red">Please Enter Required Fields from Shipping Tab</font>
            </span>
        </div>
        <div  align="left" id="ZipError" style="display:none; ">
            <span  style="float:left; padding-left:40%; ">
                <font color="red">Missing or Invalid Zip Code</font>
            </span>
        </div>
        <div  align="left" id="addError" style="display:none; ">
            <span  style="float:left; padding-left:40%; ">
                <font color="red">Missing or Invalid Shipping Address</font>
            </span>
        </div>
        <div  align="left" id="stateError" style="display:none; ">
            <span  style="float:left; padding-left:40%; ">
                <font color="red">Missing or Invalid State</font>
            </span>
        </div>
        <apex:pageBlock mode="maindetail" id="blockId">
            <apex:panelGrid columns="2">
                <apex:outputLabel value="Quote Type"/>
                <apex:outputPanel >
                    <apex:selectList id="QuoteType" value="{!fullQWrapper.selectedFullQUote}" size="1">
                        <apex:selectOptions value="{!SaveFullQuoteOptions}" id="quotetypeId"></apex:selectOptions>
                        <apex:actionsupport event="onchange"  action="{!transactionWebservice}" rerender="formId" id="QuoteTypeDesabled" status="periodStatus"/>
                    </apex:selectList>
                    <script>document.getElementById('{!$Component.QuoteType}').disabled = {!isEditTranType};</script>
                    <apex:actionStatus id="periodStatus" >
                        <apex:facet name="start">
                            <apex:image value="{!$Resource.Loading}" width="20" height="20"/>
                        </apex:facet>
                        <apex:facet name="stop"></apex:facet>
                    </apex:actionStatus>
                </apex:outputPanel>
            </apex:panelGrid>
            <apex:pageBlockSection title="Lead Information" rendered="{!if(LeadRefForHeader.Name = null,false,true)}" collapsible="true">
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Lead Name :" style="font-weight: bold; font-size:12px; color:black;" />
                    <!-- <apex:outputLink value="/{!LeadRefForHeader.id}" target="_blank">{!LeadRefForHeader.Name}</apex:outputLink> -->
                    <apex:outputLabel value="{!LeadRefForHeader.Name}" style="text-decoration: underline;cursor:pointer;" onclick="openRecord('{!LeadRefForHeader.id}');" />
                </apex:pageBlockSectionItem>
            </apex:pageBlockSection>
            <apex:pageBlockSection title="Opportunity Information" collapsible="true" rendered="{!if(OppRefForHeader.Name = null,false,true)}">
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Opportunity Name :" style="font-weight: bold; font-size:12px; color:black;" />
                    <!-- <apex:outputLink value="/{!OppRefForHeader.id}" target="_blank">{!OppRefForHeader.Name}</apex:outputLink> -->
                    <apex:outputLabel value="{!OppRefForHeader.Name}" style="text-decoration: underline;cursor:pointer;" onclick="openRecord('{!OppRefForHeader.id}');" />
                </apex:pageBlockSectionItem>
            </apex:pageBlockSection>
            <apex:pageBlockSection title="Account Information" rendered="{!if(AccountRefForHeader.Name = null,false,true)}" collapsible="true">
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Account Name :" style="font-weight: bold; font-size:12px; color:black;" />
                    <!-- <apex:outputLink value="/{!AccountRefForHeader.id}" target="_blank">{!AccountRefForHeader.Name}</apex:outputLink> -->
                    <apex:outputLabel value="{!AccountRefForHeader.Name}" style="text-decoration: underline;cursor:pointer;" onclick="openRecord('{!AccountRefForHeader.id}');" />
                </apex:pageBlockSectionItem>
            </apex:pageBlockSection>
            <apex:pageBlockSection title="Quick Quote Information" rendered="{!if(QQRefForHeader.Name = null,false,true)}" collapsible="true">
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Quick Quote Name :" style="font-weight: bold; font-size:12px; color:black;" />
                    <!-- <apex:outputLink value="/{!QQRefForHeader.id}" target="_blank">{!QQRefForHeader.Name}</apex:outputLink> -->
                    <apex:outputLabel value="{!QQRefForHeader.Name}" style="text-decoration: underline;cursor:pointer;" onclick="openRecord('{!QQRefForHeader.id}');" />
                </apex:pageBlockSectionItem>
            </apex:pageBlockSection>
            <apex:pageBlockSection >
                <apex:pageBlockSectionItem >
                </apex:pageblockSectionItem>
            </apex:pageBlockSection>
            <apex:tabPanel switchType="client" headerSpacing="0"  inactiveTabClass="inactiveTab" value="{!selectedTabName}" tabClass="activeTab" style="width:100%;align:left;">
                <apex:tab style="font-family:Verdana; background-color:#F2F2F2;" name="Customer & Billing" label="Customer & Billing" >
                    <!-- Contract Details & Billing section  -->
                    <apex:outputPanel id="tranTypeErrorMessage">
                        <apex:outputPanel rendered="{!tranTypeErrorMessage}">
                            <div  align="left" id="splashDiv2" style="width:50%;">
                                <span  style="float:left; padding-left:5%; ">
                                    <font color="red">Transaction Type has been changed. Please Re- Enter Quote Details</font>
                                </span>
                            </div>
                        </apex:outputPanel>
                    </apex:outputPanel>
                    <apex:pageBlockSection title="Billing Address Details" collapsible="false" id="billingAddressDetailsid">
                        <apex:pageBlockSectionItem id="ttyepesection">
                            <apex:outputLabel value="Transaction Type" />
                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                <apex:selectList onChange="callAnalysis()" value="{!fullQWrapper.TransactionType}" size="1" id="ttyepe" tabindex="1">
                                    <apex:selectOptions value="{!TransactionOptionsList}"/>
                                </apex:selectList>
                                <script>document.getElementById('{!$Component.ttyepe}').disabled = {!isEditTranType};</script>
                                <apex:actionStatus id="TransactionTypeLoad" >
                                    <apex:facet name="start">
                                        <apex:image value="{!$Resource.Loading}" width="20" height="20"/>
                                    </apex:facet>
                                    <apex:facet name="stop"></apex:facet>
                                </apex:actionStatus>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem id="writeUpRepMainPanel">
                            <apex:outputLabel value="Write Up Rep"/>
                            <apex:outputPanel >
                                <apex:inputText style="width:50px;" value="{!fullQWrapper.WriteUpRep}" id="WriteUpRepId" tabindex="2"> &nbsp;
                                    
                                    <apex:actionsupport status="salesrepId" event="onchange"  action="{!salesRepIdEnter}" rerender="WriteUpRepId,writeUpName,errorMessageTop" />
                                    <!--                                    <apex:actionsupport status="salesrepId" event="onchange"  action="{!salesRep}" rerender="WriteUpRepId,writeUpName,errorMessageTop" /> -->
                                </apex:inputText>&nbsp;
                                
                                <apex:inputText style="width:100px;" value="{!fullQWrapper.WriteUpRepName}" id="writeUpName" tabindex="3"/> &nbsp;

                                <!--                                 <apex:commandButton value="Search" action="{!salesRep}" onclick="showsalesPopUp();" reRender="salesRepPanel"/> -->
                                <apex:actionStatus id="salesrepId" >
                                    <apex:facet name="stop">
                                        <apex:commandButton value="Search" action="{!salesRep}" onclick="showsalesPopUp();" reRender="salesRepPanel" tabindex="4"/>
                                    </apex:facet>
                                    <apex:facet name="start">
                                        <apex:commandButton value="Searching..." styleclass="readmore" disabled="true" status="salesrepId" />
                                    </apex:facet>
                                </apex:actionStatus>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem ></apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem id="AssistingRepMainPanel" >
                            <apex:outputLabel value="Assisting Rep" />
                            <apex:outputPanel >
                                <apex:inputText style="width:50px;" value="{!fullQWrapper.AssistingRep}" id="assistingRepId" tabindex="5"> &nbsp;
                                    
                                    <apex:actionsupport status="AsssalesrepId" event="onchange"  action="{!assigSalesRepId}" rerender="assistingRepNameId,assistingRepId,errorMessageTop" />
                                </apex:inputText>&nbsp;
                                
                                <apex:inputText style="width:100px;" value="{!fullQWrapper.AssistingRepName}" id="assistingRepNameId" tabindex="6"/> &nbsp;
                                
                                
                                <apex:actionStatus id="AsssalesrepId" >
                                    <apex:facet name="stop">
                                        <apex:commandButton value="Search" action="{!assistingSalesRep}" onclick="showsalesPopUpAssign();" reRender="salesRepPanelAssing" tabindex="7"/>
                                    </apex:facet>
                                    <apex:facet name="start">
                                        <apex:commandButton value="Searching..." styleclass="readmore" disabled="true" status="AsssalesrepId" />
                                    </apex:facet>
                                </apex:actionStatus>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem id="accountSearchId">
                            <apex:outputLabel value="Account ID" />
                            <apex:outputPanel >
                                <script>
                                        disabledValidateAccBtn();
                                    </script>
                                <apex:inputText style="width:60px;" value="{!fullQWrapper.AccountId}" onkeyup="disabledValidateAccBtn();" id="accountId" tabindex="8" disabled="{!isAccountNameAndIdReadOnly}">
                                    <apex:actionsupport status="AccountIdSearchLoad" event="onchange"  action="{!accountIDInBilling}" rerender="btnPanel,outoutOptionId,validatePanel1,fulFillingBranchPanelId,productAddbutton,billingAddressDetailsid,shippingSecId,deliveryContactId,deliveryConatId,invoidingtsectionId,accountSearchId,accountInvalid,errorMessageTop,cartOfInsuranceId,cartOfInsuranceIdPanel,ShippingdistFromBranch,ShippingdeliveryZoneInShipping,summaryPanel,extrasPanel,editProductPanel,productAddbutton" />
                                </apex:inputText>   &nbsp;
                                
                                
                                <apex:outputLabel value="Name" style="font-weight: bold; color : #4A4A50"/> &nbsp;
                                
                                <apex:inputText style="width:180px;" value="{!fullQWrapper.AccountName}" maxlength="40" id="AccountNameId" tabindex="9" disabled="{!isAccountNameAndIdReadOnly}"/> &nbsp;
                                
                                
                                <apex:actionStatus id="AccountIdSearchLoad" >
                                    <apex:facet name="stop">
                                        <apex:commandButton value="Search"  onclick="showAccountPopUp();" reRender="accountPanel" tabindex="10"/>
                                    </apex:facet>
                                    <apex:facet name="start">
                                        <apex:commandButton value="Searching..." styleclass="readmore" disabled="true" status="AccountIdSearchLoad" />
                                    </apex:facet>
                                </apex:actionStatus>
                                <br/>
                                <div id="ValAcctNameId" style="color:#F00; padding-left:105px;" ></div>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem id="billingContacId">
                            <apex:outputLabel value="Billing Contact ID" />
                            <apex:outputPanel id="AddContactOP">
                                <!--                                 <apex:inputText style="width:50px;" value="{!fullQWrapper.BillingContactID}" id="billingCantdId">  -->
                                <!--                                    <apex:actionsupport status="contactIdEntery" event="onchange"  action="{!contactIdEnterbyUser}" rerender="billingContactId,billingCantdId" /> -->
                                <!--                                </apex:inputText>   &nbsp; -->
                                <apex:inputText disabled="{!isContactIs}" onchange="onchageBillingContactid()" style="width:50px;" value="{!fullQWrapper.BillingContactID}" id="billingCantdId" tabindex="20"></apex:inputText>   &nbsp;
                                
                                
                                <apex:actionStatus id="contactIdEntery" >
                                    <apex:facet name="stop">
                                        <apex:commandButton disabled="{!isContactIs}" value="Search" action="{!showContactPopUp}" onclick="showContactPopUp();" reRender="contactPanel" tabindex="21"/>
                                    </apex:facet>
                                    <apex:facet name="start">
                                        <apex:commandButton value="Searching..." styleclass="readmore" disabled="true" status="contactIdEntery" />
                                    </apex:facet>
                                </apex:actionStatus>
                                <apex:actionStatus id="addContactStatus" >
                                    <apex:facet name="stop">
                                        <apex:commandButton value="Add Contact" rendered="{!IF(isCustomerAndBillingFunctionalityAllowed = false || contains(fullQWrapper.AccountId,'P') || contains(fullQWrapper.AccountId,'G') || fullQWrapper.AccountId = '',false,true)}" action="{!showAddContactPopUpFromBilling}" status="addContactStatus"  onclick="showAddContactPopUp();" reRender="addContactPanel"/>
                                    </apex:facet>
                                    <apex:facet name="start">
                                        <apex:commandButton value="Loading..." styleclass="readmore" disabled="true" status="addContactStatus" />
                                    </apex:facet>
                                </apex:actionStatus>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem >
                            <apex:outputPanel >
                                <apex:outputLabel value="Tax Exempt" /> &nbsp;
                                
                            
                            </apex:outputPanel>
                            <apex:outputPanel >
                                <apex:inputCheckBox value="{!fullQWrapper.TaxExempt}" disabled="true" id="TaxExemptcheckbox"/>&nbsp;&nbsp;
                                
                                <apex:outputLabel value="Status" style="font-weight: bold; color : #4A4A50"/>&nbsp;&nbsp;
                                
                                <apex:inputText style="width:90px;" id="billingAddrStatus" value="{!fullQWrapper.Status}" disabled="true"/> &nbsp;
                            
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem id="billingContactName">
                            <apex:outputLabel value="First Name" />
                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                <apex:inputText value="{!fullQWrapper.Name}"  maxlength="30" id="billingContactId"  tabindex="22"/>
                                <br/>
                                <div id="ValBillNameId" style="color:#F00;" ></div>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="Certificate Of Insurance" />
                            <apex:inputText value="{!fullQWrapper.CertofInsurance}"  disabled="true"/>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem id="billingContactLastName">
                            <apex:outputLabel value="Last Name" />
                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                <apex:inputText value="{!fullQWrapper.LastName}"  maxlength="30" id="billingContactLnId"  tabindex="22"/>
                                <br/>
                                <div id="ValBillLastNameId" style="color:#F00;" ></div>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem id="billingAddressId">
                            <apex:outputLabel value="ID" />
                            <apex:outputPanel id="billingAddresId">
                                <script>
                                        disabledValidateAccBtn();
                                    </script>
                                <apex:inputText disabled="{!isAddressId}" style="width:30px;" value="{!fullQWrapper.ID}" id="addressid" tabindex="11">
                                    <apex:actionsupport event="onchange" status="addressidsearchloading" action="{!onChangeAddressIdInBillingTab}" rerender="summaryPanel,TaxExemptcheckbox,addressid,addressArea,cityId,countyId,stateid,countryId,zipcodeId,validatePanel,btnPanel,outoutOptionId,errorMessageTop,billingAddresId" />
                                </apex:inputText> &nbsp;
                                
                                
                                <apex:actionStatus id="addressidsearchloading" >
                                    <apex:facet name="stop">
                                        <apex:commandButton disabled="{!isAddressId}" value="Search" action="{!showAddressPopUp}"  onclick="showAddressPopUp();" reRender="addressPanel" tabindex="12"/>
                                    </apex:facet>
                                    <apex:facet name="start">
                                        <apex:commandButton value="Searching..." styleclass="readmore" disabled="true" status="addressidsearchloading" />
                                    </apex:facet>
                                </apex:actionStatus>
                                <br/>
                                <label id="billingAddrIdError" style="color:#F00;display:none;">Please provide billing address Id!</label>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem id="accountSearchTel">
                            <apex:outputLabel value="Tel"/>
                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                <apex:inputText id="telephoneId"  maxlength="20" value="{!fullQWrapper.telePhone}" tabindex="23"/>
                                <br/>
                                <div id="ValAcctTelId" style="color:#F00;" ></div>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem ></apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="Mobile" />
                            <apex:inputText value="{!fullQWrapper.conMob}" id="billingMobileNo" maxlength="20" tabindex="24"/>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem ></apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="Email" />
                            <apex:inputText value="{!fullQWrapper.Email}" id="billingEmailId"  maxlength="60" tabindex="25" />
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem id="addressId">
                            <apex:outputLabel value="Address" ></apex:outputLabel>
                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                <apex:inputTextArea onkeypress="imposeMaxLength(this, 60);"  onkeyup="imposeMaxLength(this, 60);" value="{!fullQWrapper.Address}"  id="addressArea" tabindex="13" disabled="{!isBillingAddressDisabled}">
                                    <apex:actionsupport event="onchange"  action="{!enableVAddressBtnWhenChange}" rerender="validatePanel,btnPanel,outoutOptionId,productAddbutton,UserBillingAddressCopyId" />
                                </apex:inputTextArea>
                                <br/>
                                <div id="ValBillAddress" style="color:#F00;" ></div>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="Fax" />
                            <apex:inputText value="{!fullQWrapper.Fax}" id="billingFaxId"  maxlength="20" />
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem id="billingCityPbs">
                            <apex:outputLabel value="City" />
                            <apex:outputPanel >
                                <apex:inputText value="{!fullQWrapper.City}"  disabled="{!isBillingCityDisabled}" maxlength="30" id="cityId" tabindex="14">
                                    <apex:actionsupport event="onchange" action="{!enableVAddressBtnWhenChange}" rerender="validatePanel,btnPanel,outoutOptionId,productAddbutton,UserBillingAddressCopyId" />
                                </apex:inputText>
                                <br/>
                                <div id="ValBillCity" style="color:#F00;" ></div>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem >
                            <!-- <apex:outputLabel value="Email" /><apex:inputText value="{!fullQWrapper.Email}"  maxlength="60" tabindex="25" /> -->
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="County" />
                            <apex:inputText value="{!fullQWrapper.County}"   disabled="{!isBillingCountyDisabled}"  maxlength="30" id="countyId" tabindex="15">
                                <!--                                <apex:actionsupport event="onchange"  action="{!enableVAddressBtnWhenChange}" rerender="validatePanel,btnPanel,outoutOptionId,productAddbutton" /> -->
                            </apex:inputText>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem id="poContactIdMain">
                            <apex:outputLabel value="PO# Contact " />
                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                <apex:inputText value="{!fullQWrapper.POContact}"  maxlength="20" id="pocontactIdInput" tabindex="26"/>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem id="StateId">
                            <apex:outputLabel value="Country" ></apex:outputLabel>
                            <apex:outputPanel >
                                <apex:panelGrid columns="3" >
                                    <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;" id="countryId">
                                        <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                        <apex:selectList value="{!fullQWrapper.Country}" style="width:70px;"  disabled="{!isBillingContryDisabled}"  multiselect="false" size="1"  id="countries" tabindex="17">
                                            <apex:selectOptions value="{!CountryOptions}"/>
                                            <apex:actionsupport status="countryStatus" event="onchange"  action="{!StatesList}" rerender="States,countryId" />
                                        </apex:selectList>
                                        <br/>
                                        <div id="ValBillCountry" style="color:#F00;" ></div>
                                    </apex:outputPanel>
                                    <apex:outputLabel value="State" style="font-weight: bold; color : #4A4A50" >&nbsp;&nbsp;</apex:outputLabel>
                                    <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;" id="stateid">
                                        <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                        <apex:selectList style="width:60px;" value="{!fullQWrapper.State}" disabled="{!isBillingStateDisabled}"  multiselect="false" size="1" id="States" tabindex="16">
                                            <apex:selectOptions value="{!StateOptions}"/>
                                            <!--                                            <apex:actionsupport event="onchange"  action="{!enableVAddressBtnWhenChange}" rerender="validatePanel,btnPanel,outoutOptionId,productAddbutton" /> -->
                                        </apex:selectList>
                                        <br/>
                                        <div id="ValBillState" style="color:#F00;" ></div>
                                    </apex:outputPanel>
                                </apex:panelGrid>
                                <apex:actionStatus id="countryStatus" >
                                    <apex:facet name="start">
                                        <apex:image value="{!$Resource.Loading}" width="20" height="20"/>
                                    </apex:facet>
                                    <apex:facet name="stop"></apex:facet>
                                </apex:actionStatus>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="PO# Expires" />
                            <apex:inputField value="{!fullQuote.PO_Expires__c}" taborderhint="27" />
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem id="zipCodeIdMain">
                            <apex:outputLabel value="Zip Code" ></apex:outputLabel>
                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;" id="zipcodeId">
                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                <apex:inputText value="{!fullQWrapper.ZipCode}"  disabled="{!isBillingZipDisabled}"  id="zipCodeInputId" maxlength="10" tabindex="18">
                                    <apex:actionsupport event="onchange"  action="{!enableVAddressBtnWhenChange}" rerender="validatePanel,productAddbutton,btnPanel,outoutOptionId" />
                                </apex:inputText>
                                <apex:actionStatus id="zipCodeFinderMain" >
                                    <apex:facet name="stop">
                                        <apex:commandButton value="Address Fill" id="ZipCodeFinder" action="{!ZipCodeFinder}" reRender="countryId,zipCodeIdMain,cityId,States,countries" status="zipCodeFinderMain"/>
                                    </apex:facet>
                                    <apex:facet name="start">
                                        <apex:commandButton value="Loading..." styleclass="readmore" disabled="true" status="zipCodeFinderMain" />
                                    </apex:facet>
                                </apex:actionStatus>
                                <br/>
                                <div id="ValBillZip" style="color:#F00;" ></div>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="Credit Approval" />
                            <apex:inputText value="{!fullQWrapper.CreditApproval}" disabled="true" tabindex="28"/>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel ></apex:outputLabel>
                            <apex:outputPanel id="validatePanel">
                                <!-- 
                            <apex:commandButton value="Validate Acct in Result" action="{!validateAddress}" onClick="showValidateAddressPopUp();" Disabled="true" reRender="validateAddressPanel"/>
                             -->
                                <input type="Button" id="btnValidateAcct" value="Validate Acct in Result"  onclick="showValidateAddressPopUp();" tabindex="18"/>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="Tax Exempt Authorization" />
                            <apex:inputText value="{!fullQWrapper.TaxExemptAuthorization}" tabindex="29" Disabled="true"/>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem >
                            <!--                             <apex:outputLabel value="Job or Location" /> -->
                            <!--                              <apex:inputText value="{!fullQWrapper.JoborLocation}"  maxlength="80"/> -->
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem rendered="{!IF(fullQWrapper.selectedFullQUote = 'sales',false,true)}" >
                            <apex:outputLabel value="Quote Total" />
                            <apex:outputPanel >
                                <apex:selectList value="{!fullQWrapper.QuoteTotal}" size="1" tabindex="30">
                                    <apex:selectOption itemValue="FI" itemLabel="First Invoice"/>
                                    <apex:selectOption itemValue="CT" itemLabel="Contract Term"/>
                                    <apex:actionsupport status="QuoteTotalLoadingId" event="onchange"  action="{!disableSaveQuoteBtn}" rerender="btnPanel,outoutOptionId" />
                                </apex:selectList>
                                <apex:actionStatus id="QuoteTotalLoadingId" >
                                    <apex:facet name="start">
                                        <apex:image value="{!$Resource.Loading}" width="20" height="20"/>
                                    </apex:facet>
                                    <apex:facet name="stop"></apex:facet>
                                </apex:actionStatus>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="COD Instructions" />
                            <apex:inputTextArea value="{!fullQWrapper.CODInstructions}" onkeypress="imposeMaxLength(this, 100);" onkeyup="imposeMaxLength(this, 100);" tabindex="19"/>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="Quote Comments" />
                            <apex:inputTextArea value="{!fullQWrapper.fqComments}" rows="4" cols="25" />
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="AR Notes" />
                            <apex:inputTextArea value="{!fullQWrapper.hireNotes}" rows="4" cols="25" disabled="true" />
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem ></apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="Document Id" rendered="{!IF(docId != '' && cloneIsTrue == '',true,false)}"/>
                            <apex:outputPanel id="DocumentIdAfterOrderConversion">
                                <apex:inputText value="{!fullQWrapper.orderContractId}" disabled="true" rendered="{!IF(docId != '' && cloneIsTrue == '' ,true,false)}"/>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                    </apex:pageBlockSection>
                    <apex:outputPanel id="analysisSetCodePanelInBilling">
                        <apex:repeat value="{!AnalysisSetHeaderResponseList}" var="l">
                            <apex:pageBlockSection collapsible="false" rendered="{!IF((l.description = 'Write Off A/c' || l.description = 'Cost Center' && fullQWrapper.selectedFullQUote == 'sales'),false,true)}">
                                <apex:pageBlockSectionItem ></apex:pageBlockSectionItem>
                                <apex:pageBlockSectionItem >
                                    <apex:outputText value="{!l.description}" />
                                    <!--    
                                                <apex:inputText style="width:50px;" value="{!l.selectedId}" disabled="true" /> &nbsp;
                                                
                                                <apex:commandButton value="Search" onclick="showAnalysisSetCodePopUp();analysissetSearchButtonClicked('{!l.description}','btnId')" action="{!analysisSetSearch}" reRender="analysisSetCodePanel"/> &nbsp;
                                                <apex:inputText style="width:80px;" value="{!l.selectedDescription}" disabled="true" />
                                            -->
                                    <apex:outputPanel >
                                        <apex:outputPanel rendered="{!IF((l.description = 'Deferred Bill' || l.description = 'Outside TSM' ),false,true)}">
                                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                                <apex:selectList value="{!l.selectedId}" multiselect="false" size="1" tabindex="31">
                                                    <apex:selectOptions value="{!l.selectOptionList}" />
                                                    <apex:actionsupport status="analysisSetHeadLoading" event="onchange"  action="{!analysisSetbtnEnable}" rerender="btnPanel,outoutOptionId,errorMessageTop" />
                                                </apex:selectList>
                                                <apex:actionStatus id="analysisSetHeadLoading" >
                                                    <apex:facet name="start">
                                                        <apex:image value="{!$Resource.Loading}" width="20" height="20"/>
                                                    </apex:facet>
                                                    <apex:facet name="stop"></apex:facet>
                                                </apex:actionStatus>
                                            </apex:outputPanel>
                                        </apex:outputPanel>
                                        <apex:outputPanel rendered="{!IF((l.description = 'Deferred Bill' || l.description = 'Outside TSM' ),true,false)}">
                                            <apex:selectList value="{!l.selectedId}" multiselect="false" size="1" tabindex="31" disabled="{!IF((l.description = 'Deferred Bill'),true,false)}">
                                                <apex:selectOptions value="{!l.selectOptionList}" />
                                                <apex:actionsupport status="analysisSetHeadLoading1" event="onchange"  action="{!analysisSetbtnEnable}" rerender="btnPanel,outoutOptionId,errorMessageTop" />
                                            </apex:selectList>
                                            <apex:actionStatus id="analysisSetHeadLoading1" >
                                                <apex:facet name="start">
                                                    <apex:image value="{!$Resource.Loading}" width="20" height="20"/>
                                                </apex:facet>
                                                <apex:facet name="stop"></apex:facet>
                                            </apex:actionStatus>
                                        </apex:outputPanel>
                                    </apex:outputPanel>
                                </apex:pageBlockSectionItem>
                            </apex:pageBlockSection>
                        </apex:repeat>
                    </apex:outputPanel>
                    <apex:pageBlockSection id="cartOfInsuranceIdPanel" collapsible="false"  rendered="{!IF(fullQWrapper.selectedFullQUote = 'Rental' || fullQWrapper.selectedFullQUote = 'rental',true,false)}" >
                        <apex:pageBlockSectionItem ></apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="Cert of Insurance?" />
                            <apex:inputText value="{!fullQWrapper.CertofInsurance}" tabindex="32" id="cartOfInsuranceId" Disabled="true" />
                        </apex:pageBlockSectionItem>
                    </apex:pageBlockSection>
                </apex:tab>
                <!-- Shipping tab  -->
                <apex:tab style="font-family:Verdana; background-color:#F2F2F2;" name="Shipping" label="Shipping" ontabenter="callShippingAnalysisSets()" >
                    <apex:pageBlockSection title="Dates" collapsible="false" id="shiipingDatesPanel">
                        <apex:pageBlockSectionItem id="startDateMainPanel">
                            <apex:outputLabel value="Start Date" />
                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                <apex:inputField value="{!fullQuote.Start_Date__c}"  id="DueDate" onchange="Javascript: ValidDate(this.value,'{!$Component.DueDate}','{!TODAY()}');" >
                                    <apex:actionsupport status="startDateOnChage" event="onchange"  action="{!onchangeNoReservation}" rerender="deliveryDatePanelId,validatePanel1,btnPanel,outoutOptionId,deliveryDateid,disable,LoadedMoveInReadOnly,DueDate2,QuoteExpiresDateId,QuoteExpireIsReadOnly" />
                                </apex:inputField>
                                <apex:actionStatus id="startDateOnChage" >
                                    <apex:facet name="start">
                                        <apex:image value="{!$Resource.Loading}" width="20" height="20"/>
                                    </apex:facet>
                                    <apex:facet name="stop"></apex:facet>
                                </apex:actionStatus>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="Quote expires" />
                            <apex:outputPanel id="QuoteExpireIsReadOnly">
                                <apex:inputField value="{!fullQuote.Quote_expires__c}" id="QuoteExpiresDateId"/>
                                <script>document.getElementById('{!$Component.QuoteExpiresDateId}').disabled = {!isQuoteExpireIsReadOnly};</script>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem rendered="{!IF(fullQWrapper.selectedFullQUote = 'sales',false,true)}" >
                            <apex:outputLabel value="Rental Length" />
                            <apex:outputPanel >
                                <apex:InputText value="{!fullQWrapper.rentalLength}"  style="width:85px;" disabled="{!isRentalLength}" id="rentalLengthDisab"  onchange="checkRentalLength(this,'1');" tabindex="1"/> &nbsp;&nbsp; period(s)
                                    &nbsp;&nbsp;
                                <div id="rentalLengthError1" style="color:#F00;" ></div>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem ></apex:pageBlockSectionItem>
                    </apex:pageBlockSection>
                    <apex:pageBlockSection title="Shipping details" collapsible="false" id="shippingSecId">
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="Use Billing Address" />
                            <apex:outputPanel id="UserBillingAddressCopyId">
                                <apex:inputCheckbox value="{!fullQWrapper.isUseBillingAddress}" tabindex="23">
                                    <apex:actionSupport status="UseBillingAddressStatus" event="onclick" action="{!copyBillingAddressToShipping}" reRender="shippingSecId,validateAddressShippingPanel,btnPanel,outoutOptionId,fulFillingBranchPanelId,addressValidateError,fulFillingBranchPanelId" />
                                </apex:inputCheckbox> &nbsp;&nbsp; 
                                                      
                                    
                                <apex:actionStatus id="UseBillingAddressStatus" >
                                    <apex:facet name="start">
                                        <apex:image value="{!$Resource.Loading}" width="20" height="20"/>
                                    </apex:facet>
                                    <apex:facet name="stop"></apex:facet>
                                </apex:actionStatus>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem >
                            <apex:outputPanel />
                            <apex:outputPanel >
                                <apex:actionStatus id="addShipContactStatus" >
                                    <apex:facet name="stop">
                                        <apex:commandButton value="Add Contact"  rendered="{!IF(isCustomerAndBillingFunctionalityAllowed = false || contains(fullQWrapper.AccountId,'P') || contains(fullQWrapper.AccountId,'G') || fullQWrapper.AccountId = '',false,true)}" action="{!showAddContactPopUpFromShipping}" status="addShipContactStatus" onclick="showAddContactPopUp();" reRender="addContactPanel"/>
                                    </apex:facet>
                                    <apex:facet name="start">
                                        <apex:commandButton value="Loading..." styleclass="readmore" disabled="true" status="addShipContactStatus" />
                                    </apex:facet>
                                </apex:actionStatus>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="Shipping Id" />
                            <apex:outputPanel >
                                <apex:inputText disabled="{!isAddressId}" style="width:80px;" value="{!fullQWrapper.shippingId}" id="shiipingAddressid"  tabindex="2">
                                    <apex:actionsupport event="onchange"  status="shippingAddressIdLoad" action="{!onChangeAddressIdInShippingTab}" rerender="shiipingAddressid,addressShippingArea,cityShippingId,countyShippingId,StateShippingId,countryShipingId,zipcodeShippingId,validatePanel1,fulFillingBranchPanelId,btnPanel,outoutOptionId,productAddbutton,errorMessageTop,UserBillingAddressCopyId,addressValidateError,SelectedShipingTaxId" />
                                </apex:inputText>
                                         &nbsp;
                                        
                                             
                                <apex:actionStatus id="shippingAddressIdLoad" >
                                    <apex:facet name="stop">
                                        <apex:commandButton disabled="{!isAddressId}" value="Search" action="{!showShippingAddressPopUp}"  onclick="showShippingAddressPopUp();" reRender="shippingAddressPanel" tabindex="3"/>
                                    </apex:facet>
                                    <apex:facet name="start">
                                        <apex:commandButton value="Searching..." styleclass="readmore" disabled="true" status="shippingAddressIdLoad" />
                                    </apex:facet>
                                </apex:actionStatus>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="Delivery Contact Id" />
                            <apex:outputPanel >
                                <apex:inputText disabled="{!isContactIs}" style="width:80px;" value="{!fullQWrapper.deliveryContactId}" id="deliveryContactId" tabindex="16">
                                    <apex:actionsupport status="delivertyContactId" event="onchange"  action="{!deliveryContactIdEnterbyUser}" rerender="delTelId, delFaxId, delEmailId, deliveryContactId,deliveryConatId,errorMessageTop" />
                                </apex:inputText>   &nbsp;
                                
                                        
                                <apex:actionStatus id="delivertyContactId" >
                                    <apex:facet name="stop">
                                        <apex:commandButton disabled="{!isContactIs}" value="Search" action="{!showShippingContactPopUp}" onclick="showShippingContactPopUp();" reRender="shippingContactPanel" tabindex="17"/>
                                    </apex:facet>
                                    <apex:facet name="start">
                                        <apex:commandButton value="Searching..." styleclass="readmore" disabled="true" status="delivertyContactId" />
                                    </apex:facet>
                                </apex:actionStatus>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem id="shiipingAccountSectionId">
                            <apex:outputLabel value="Address" ></apex:outputLabel>
                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;" id="shippingAddressId">
                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                <apex:inputTextArea onkeypress="imposeMaxLength(this, 60);" onkeyup="imposeMaxLength(this, 60);" value="{!fullQWrapper.AddressInShippingDates}"  id="addressShippingArea" tabindex="4">
                                    <!--                                         <apex:actionsupport event="onchange"  action="{!enableVAddressBtnWhenChangeInShipping}" rerender="validatePanel1,fulFillingBranchPanelId,btnPanel,outoutOptionId,productAddbutton,UserBillingAddressCopyId,fulFillingBranchPanelId,addressValidateError,ShippingdeliveryZoneInShipping,ShippingdistFromBranch" />  -->
                                </apex:inputTextArea>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem id="billingContactIdPanel">
                            <apex:outputLabel value="Name" />
                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                <apex:inputText value="{!fullQWrapper.NameInShippingDates1}" maxlength="30"  id="deliveryConatId" tabindex="18"/>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="City" />
                            <apex:inputText value="{!fullQWrapper.cityInShippingDates}" maxlength="30" id="cityShippingId" tabindex="5">
                                <!--                                      <apex:actionsupport event="onchange"  action="{!enableVAddressBtnWhenChangeInShipping}" rerender="validatePanel1,fulFillingBranchPanelId,btnPanel,outoutOptionId,productAddbutton,UserBillingAddressCopyId" /> -->
                            </apex:inputText>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="Tel" />
                            <apex:inputText value="{!fullQWrapper.telInShippingDates}" maxlength="20" id="delTelId" tabindex="19"/>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem id="TaxIdSectionId">
                            <apex:outputLabel value="County" ></apex:outputLabel>
                            <apex:outputPanel id="County1">
                                <apex:panelGrid columns="3" >
                                    <apex:inputText value="{!fullQWrapper.countyInShippingDates}" id="countyShippingId" maxlength="30" tabindex="6" />
                                    <apex:outputLabel style="font-weight: bold; color : #4A4A50; " value="Tax Id" ></apex:outputLabel>
                                    <apex:inputText style="width:80px;" value="{!fullQWrapper.SelectedShipingTaxId}" id="SelectedShipingTaxId" maxlength="30" tabindex="6" disabled="true"/>
                                </apex:panelGrid>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="Fax" />
                            <apex:inputText value="{!fullQWrapper.faxInShippingDates}" maxlength="20" id="delFaxId" tabindex="20"/>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem id="countrySatatePanel">
                            <apex:outputLabel value="Country" ></apex:outputLabel>
                            <apex:outputPanel id="statePanel">
                                <apex:panelGrid columns="3" >
                                    <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;" id="countryShipingId">
                                        <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                        <apex:selectList value="{!fullQWrapper.countryInShippingDates}" style="width:70px;"   multiselect="false" size="1" id="countryShippingId" tabindex="8">
                                            <apex:selectOptions value="{!CountryOptions}"  />
                                            <apex:actionsupport status="countryShippingStatus" event="onchange"  action="{!shippingStatesList}" rerender="statePanel,validatePanel1,fulFillingBranchPanelId,productAddbutton,btnPanel,outoutOptionId,UserBillingAddressCopyId,addressValidateError" />
                                        </apex:selectList>
                                    </apex:outputPanel>
                                    <apex:outputLabel value="State"  style="font-weight: bold; color : #4A4A50" >&nbsp;&nbsp;</apex:outputLabel>
                                    <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;" id="StateShippingId">
                                        <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                        <apex:selectList style="width:60px;" value="{!fullQWrapper.stateInShippingDates}" multiselect="false" size="1" id="States" tabindex="7">
                                            <apex:selectOptions value="{!shippingStateOptions}" id="stateSelectIdshiiping"/>
                                            <apex:actionsupport event="onchange"  action="{!enableVAddressBtnWhenChangeInShipping}" rerender="validatePanel1,fulFillingBranchPanelId,btnPanel,outoutOptionId,productAddbutton,UserBillingAddressCopyId,addressValidateError,ShippingdeliveryZoneInShipping,ShippingdistFromBranch" />
                                        </apex:selectList>
                                    </apex:outputPanel>
                                </apex:panelGrid>
                                <apex:actionStatus id="countryShippingStatus" >
                                    <apex:facet name="start">
                                        <apex:image value="{!$Resource.Loading}" width="20" height="20"/>
                                    </apex:facet>
                                    <apex:facet name="stop"></apex:facet>
                                </apex:actionStatus>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="Email" />
                            <apex:inputText value="{!fullQWrapper.emailInShippingDates}" maxlength="60" id="delEmailId" tabindex="21"/>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem id="zipCodeSectionId" >
                            <apex:outputLabel value="Zip Code" ></apex:outputLabel>
                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;" id="zipcodeShippingId">
                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                <apex:inputText value="{!fullQWrapper.ZipCodeInShipping}" id="shippingzipCodeId" maxlength="10" tabindex="9">
                                    <apex:actionsupport status="validatebuttom" event="onchange" action="{!enableVAddressBtnWhenChangeInShipping}" rerender="validatePanel1,fulFillingBranchPanelId,addressValidateError,btnPanel,outoutOptionId,UserBillingAddressCopyId,ShippingdeliveryZoneInShipping,ShippingdistFromBranch" />
                                </apex:inputText>
                                <apex:actionStatus id="zipCodeFinderMainship" >
                                    <apex:facet name="stop">
                                        <apex:commandButton value="Address Fill" id="ZipCodeFinder" action="{!ZipCodeFinderShipping}" reRender="countryShipingId,countryShippingId,States,StateShippingId,cityShippingId" status="zipCodeFinderMainship"/>
                                    </apex:facet>
                                    <apex:facet name="start">
                                        <apex:commandButton value="Loading..." styleclass="readmore" disabled="true" status="zipCodeFinderMainship" />
                                    </apex:facet>
                                </apex:actionStatus>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="Job # or Location" />
                            <apex:inputText value="{!fullQWrapper.JoborLocation}"  maxlength="80" tabindex="22"/>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem id="crossStreetMain">
                            <apex:outputLabel value="Cross Street" />
                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                <apex:inputText value="{!fullQWrapper.crossStreetInShippingDates}" maxlength="40" tabindex="14" id="crocessStreetid">
                                    <apex:actionsupport status="validatebuttom" event="onchange" action="{!enableVAddressBtnWhenChangeInShipping}" rerender="validatePanel1,fulFillingBranchPanelId,addressValidateError,btnPanel,outoutOptionId,UserBillingAddressCopyId,ShippingdeliveryZoneInShipping,ShippingdistFromBranch" />
                                </apex:inputText>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem ></apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="Cross Street 2" />
                            <apex:inputText value="{!fullQWrapper.crossStreet2InShippingDates}" maxlength="80" tabindex="15"/>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem ></apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel ></apex:outputLabel>
                            <apex:outputPanel id="validatePanel1">
                                <apex:actionStatus id="validatebuttom" >
                                    <apex:facet name="stop">
                                        <apex:commandButton status="validatebuttom" value="Validate Shipping Address"  action="{!validateShippingAddress}" onClick="showValidateAddressShippingPopUp();" Disabled="{!!fullQWrapper.enableVAddresBtnInShipping}" reRender="btnPanel,outoutOptionId,validateAddressShippingPanel,taxIdShippingPanel,addressValidateError" tabindex="10"/>
                                    </apex:facet>
                                    <apex:facet name="start">
                                        <apex:commandButton value="Loading..." styleclass="readmore" disabled="true" status="contactIdEntery" />
                                    </apex:facet>
                                </apex:actionStatus>
                                <br/>
                                <label style="color:#F00;">NOTE : Please provide a "Cross Street" before Validating the Shipping Address</label>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem ></apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="Fulfilling Branch" />
                            <apex:outputPanel id="fulFillingBranchPanelId">
                                <!--                                        <apex:inputText style="width:50px;" value="{!fullQWrapper.fulFillingBranchInShippingDates}" onchange="document.getElementById('pageId:formId:FulFillingBranchId').value = this.value;" /> &nbsp; -->
                                <apex:inputText disabled="{!isFullfillingBranchid}" style="width:50px;" value="{!fullQWrapper.fulFillingBranchInShippingDates}"   tabindex="11">
                                    <apex:actionSupport status="fullfullbranchidsearch" event="onchange" action="{!fullfillingBranchIdUserEnter}" reRender="validatePanel1,fulFillingBranchPanelId,fulFillingPanel,fullfillilngBranchidErrror,errorMessageTop,btnPanel,outoutOptionId,addressValidateError,ShippingdistFromBranch,ShippingdeliveryZoneInShipping,summaryPanel,editProductPanel,extrasPanel,productAddbutton,invoiceTabMainContainer" />
                                </apex:inputText>&nbsp;&nbsp;
                                        
                                <apex:inputText disabled="{!isFullfillingBranchid}" style="width:100px;" value="{!fullQWrapper.fulFillingBranchNameInShippingDates}" tabindex="12"/> &nbsp;
                                        
                                        
                                <apex:actionStatus id="fullfullbranchidsearch" >
                                    <apex:facet name="stop">
                                        <apex:commandButton value="Search" action="{!showFulFillingIdSelected}" onclick="showFulFillingPopUp();" reRender="fulFillingBranchPanelId,fulFillingPanel" Disabled="{!isFullfillingBranchid}" tabindex="13"/>
                                    </apex:facet>
                                    <apex:facet name="start">
                                        <apex:commandButton value="Searching..." styleclass="readmore" disabled="true" status="fullfullbranchidsearch" />
                                    </apex:facet>
                                </apex:actionStatus>
                                <div >
                                    <apex:outputText value="{!addressErrorMessage}" id="addressValidateError" />
                                </div>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem ></apex:pageBlockSectionItem>
                    </apex:pageBlockSection>
                    <apex:pageBlockSection title="Delivery Planning" columns="1" collapsible="false" id="deliveryPlanSecId">
                        <apex:outputPanel style="width:100%;" id="analysisPanelShipping">
                            <apex:outputPanel style="float:left;width:45%;" >
                                <apex:repeat value="{!analysisSetHeaderResponseShippingList}" var="l">
                                    <apex:pageBlockSection columns="1"  collapsible="false">
                                        <apex:pageBlockSectionItem >
                                            <apex:outputText value="{!l.description}" />
                                            <apex:outputPanel >
                                                <!--  
                                                    <apex:inputText style="width:50px;" value="{!l.selectedId}" disabled="true" /> &nbsp;
                                                    <apex:commandButton value="Search" onclick="btnInDeliveryPlanSec('shipbtnId','{!l.Id}')" action="{!selectDeliveryPlanSecFields}" reRender="analysisSetCodeShippingPanel"/> &nbsp;
                                                    <apex:inputText style="width:80px;" value="{!l.selectedDescription}" disabled="true" />
                                                 -->
                                                <apex:selectList value="{!l.selectedId}" multiselect="false" size="1"  tabindex="24">
                                                    <apex:selectOptions value="{!l.selectOptionList}"/>
                                                    <!--  <apex:actionsupport event="onchange"  action="{!analysisSetSelectedInShipping}" rerender="analysisPanelShipping" /> -->
                                                </apex:selectList>
                                            </apex:outputPanel>
                                        </apex:pageBlockSectionItem>
                                    </apex:pageBlockSection>
                                </apex:repeat>
                                <apex:pageBlockSection columns="1" id="noOfUnitPb" collapsible="false">
                                    <apex:pageBlockSectionItem id="qtysec">
                                        <apex:outputLabel value="# of Units on Opp" style="position:relative;font-weight:bold;" ></apex:outputLabel>
                                        <apex:outputPanel styleClass="requiredInput" layout="block">
                                            <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                            <apex:outputpanel >
                                                <apex:inputText value="{!fullQWrapper.noOfUnit}" onkeypress="return onlyNumbers(event)" Style="width:20px;position:relative;top:0px;" id="qty" maxlength="2"></apex:inputText>
                                                <apex:image url="{!$Resource.SortArrowDown}" onclick="increse('noOfUnit');" width="10" height="10" style=" text-decoration: none; position:relative;left:7px;top:-5px; transform:rotate(180deg); -moz-transform:rotate(180deg); -webkit-transform:rotate(180deg); -o-transform:rotate(180deg); -ms-transform:rotate(180deg);" /> 
                        						<apex:image url="{!$Resource.SortArrowDown}" onclick="decrese('noOfUnit');" width="10" height="10" style=" text-decoration: none; position:relative;top:5px;left:-3px;" />
                                                <!-- <apex:outputlabel value="?" onclick="increse('noOfUnit');" style=" text-decoration: none; position:relative;top:-7px;" > </apex:outputlabel>
                                       			<apex:outputlabel value="?" onclick="decrese('noOfUnit'); "  style=" text-decoration: none; position:relative;top:3px;right:12px;" ></apex:outputlabel> -->
                                           </apex:outputpanel>
                                        </apex:outputPanel>
                                    </apex:pageBlockSectionItem>
                                </apex:pageBlockSection>
                                <apex:pageBlockSection columns="1"  collapsible="false" id="SpecialInstructionsId">
                                    <apex:pageBlockSectionItem id="SpecialInstructionsPbs">
                                        <apex:outputLabel value="" />
                                        <apex:outputPanel >
                                            <apex:inputCheckBox value="{!fullQWrapper.SpecialInstructions}" id="SpecialInstructionsCheckboxId" />
                                            <apex:outputLabel value="Send Special Instructions to Dispatch - Order Conversion" />
                                        </apex:outputPanel>
                                    </apex:pageBlockSectionItem>
                                </apex:pageBlockSection>
                                <apex:pageBlockSection columns="1"  collapsible="false" id="deliveryInsetionId">
                                    <apex:pageBlockSectionItem id="delilveryInsetIdSection">
                                        <apex:outputLabel value="Delivery Instructions" />
                                        <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                            <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                            <apex:inputTextArea onkeypress="imposeMaxLength(this, 180);" onkeyup="imposeMaxLength(this, 180);" value="{!fullQWrapper.deliveryInstructions}" style="width:75%; height:100px;" tabindex="25" id="deliveryInstId"/>
                                        </apex:outputPanel>
                                    </apex:pageBlockSectionItem>
                                </apex:pageBlockSection>
                            </apex:outputPanel>
                            <apex:outputPanel style="float:right;width:45%;">
                                <apex:pageBlockSection columns="1"  collapsible="false" id="mainPageBlockSecitonDeleve">
                                    <apex:pageBlockSectionItem id="NoreservationMainPanel">
                                        <apex:outputLabel />
                                        <apex:outputPanel id="NoReservationPanelOuter">
                                            <apex:outputPanel id="NoReservationPanel"  rendered="{!(!isCapacityAlreadyReserved)}">
                                                <apex:inputCheckBox value="{!fullQWrapper.noReservation}" id="NoreservationCheckboxId" tabindex="26">
                                                    <apex:actionsupport status="NoReservationCheckboxLoading" event="onclick"  action="{!onchangeNoReservation}" rerender="NoReservationPanel,deliveryDateid,deliveryDatePanelId,disable,btnPanel,outoutOptionId" />
                                                </apex:inputCheckBox>&nbsp;
                                                    
                                                <apex:outputLabel value="No Reservation" /> &nbsp;
                                                    
                                                    
                                                <apex:actionStatus id="NoReservationCheckboxLoading" >
                                                    <apex:facet name="start">
                                                        <apex:image value="{!$Resource.Loading}" width="20" height="20"/>
                                                    </apex:facet>
                                                    <apex:facet name="stop"></apex:facet>
                                                </apex:actionStatus>
                                                <!-- <apex:commandLink action="{!reserveCapacity}"  rendered="{!ShowReserveCapacityLink}" value="Reserve capacity" reRender="formId" tabindex="27" style = "font-weight:bold;"/> -->
                                                <apex:actionStatus id="SearchLoadCapReserve">
                                                    <apex:facet name="stop">
                                                        <apex:commandButton action="{!reserveCapacity}"  status="SearchLoadCapReserve" rendered="{!ShowReserveCapacityLink}" value="Reserve capacity"  reRender="reserveCapacityOP,reserveCapacityOPJs,reserveCapPanel,errorMessageTop" tabindex="27" style="font-weight:bold;"/>
                                                    </apex:facet>
                                                    <apex:facet name="start">
                                                        <apex:commandButton value="Loading..." styleclass="readmore" disabled="true" status="SearchLoadCapReserve" />
                                                    </apex:facet>
                                                </apex:actionStatus>
                                                <br/>
                                                <apex:actionStatus id="SearchLoad">
                                                    <apex:facet name="stop">
                                                        <apex:commandbutton value="Capacity Lookup" action="{!callCapacityLookupWebservice}" status="SearchLoad" onclick="showCapacityPopUp();" rerender="CapacityLookupPanel,errorMessageTop" tabindex="26"/>
                                                    </apex:facet>
                                                    <apex:facet name="start">
                                                        <apex:commandButton value="Loading..." styleclass="readmore" disabled="true" status="SearchLoad" />
                                                    </apex:facet>
                                                </apex:actionStatus>
                                            </apex:outputPanel>
                                            <apex:outputPanel id="AlreadyReservationPanel" rendered="{!isCapacityAlreadyReserved}">
                                                <apex:outputLabel value="Quote is reserved" />
                                            </apex:outputPanel>
                                        </apex:outputPanel>
                                    </apex:pageBlockSectionItem>
                                    <apex:pageBlockSectionItem id="ScheduledDeliveryMain">
                                        <apex:outputLabel value="Scheduled Delivery" />
                                        <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                            <apex:outputPanel styleClass="requiredBlock" layout="block" id="deliveryDatePanelId"/>
                                            <apex:inputField value="{!fullQuote.Scheduled_Delivery__c}" id="deliveryDateid"></apex:inputField>
                                            <apex:outputPanel id="disable">
                                                <script>document.getElementById('{!$Component.deliveryDateid}').disabled = {!isScheduledDeliveryDateIsReadOnly};</script>
                                            </apex:outputPanel>
                                            <!--                                                disabled="{!isScheduDeliver}" -->
                                        </apex:outputPanel>
                                    </apex:pageBlockSectionItem>
                                    <apex:pageBlockSectionItem >
                                        <apex:outputPanel >
                                            <apex:outputLabel value="Loaded Move In" />
                                        </apex:outputPanel>
                                        <apex:outputPanel >
                                            <apex:inputField value="{!fullQuote.Loaded_Move_In__c}" id="DueDate2" onchange="Javascript: ValidDate(this.value,'{!$Component.DueDate2}','{!TODAY()}');" />
                                            <apex:outputPanel id="LoadedMoveInReadOnly">
                                                <script>document.getElementById('{!$Component.DueDate2}').disabled = {!isLodedMoveInIsReadOnly};</script>
                                            </apex:outputPanel>
                                        </apex:outputPanel>
                                    </apex:pageBlockSectionItem>
                                    <apex:pageBlockSectionItem >
                                        <apex:outputLabel value="Delivery Slot"/>
                                        <apex:selectList value="{!fullQWrapper.deliverySlot}" multiselect="false" size="1" tabindex="29">
                                            <apex:selectOption itemValue="AM" itemLabel="AM"/>
                                            <apex:selectOption itemValue="PM" itemLabel="PM"/>
                                        </apex:selectList>
                                    </apex:pageBlockSectionItem>
                                    <apex:pageBlockSectionItem ></apex:pageBlockSectionItem>
                                    <apex:pageBlockSectionItem >
                                        <apex:outputLabel value="Delivery Zone" />
                                        <apex:inputText style="color :#808080" value="{!fullQWrapper.deliveryZoneInShipping}" disabled="true" tabindex="30" id="ShippingdeliveryZoneInShipping"></apex:inputText>
                                    </apex:pageBlockSectionItem>
                                    <apex:pageBlockSectionItem >
                                        <apex:outputPanel onmouseover="DeliverySlotDivOpen();" onmouseout="DeliverySlotDivClose();"  >
                                            <apex:outputLabel value="Distance from Branch" />
                                        </apex:outputPanel>
                                        <apex:outputPanel onmouseover="DeliverySlotDivOpen();" onmouseout="DeliverySlotDivClose();">
                                            <apex:inputText style="color :#808080" value="{!fullQWrapper.distFromBranch}" disabled="true" tabindex="31" id="ShippingdistFromBranch"/>
                                        </apex:outputPanel>
                                    </apex:pageBlockSectionItem>
                                    <apex:pageBlockSectionItem ></apex:pageBlockSectionItem>
                                    <apex:pageBlockSectionItem >
                                        <apex:outputLabel value="" />
                                        <apex:outputPanel id="noZoneBtnOP">
                                            <apex:actionStatus id="noZoneEmail">
                                                <apex:facet name="stop">
                                                    <apex:commandbutton id="noZoneBtn" value="No Zone - Get Delivery Rates" disabled="{!isknowZoneRatesBtnDisabled}" action="{!NoDelZoneRates}" status="noZoneEmail" rerender="noZoneBtnOP,errorMessageTop" />
                                                </apex:facet>
                                                <apex:facet name="start">
                                                    <apex:commandButton value="Loading..." styleclass="readmore" disabled="true" status="noZoneEmail" />
                                                </apex:facet>
                                            </apex:actionStatus>
                                        </apex:outputPanel>
                                    </apex:pageBlockSectionItem>
                                </apex:pageBlockSection>
                            </apex:outputPanel>
                        </apex:outputPanel>
                    </apex:pageBlockSection>
                    <apex:outputPanel id="extrasPanel">
                        <apex:pageBlockSection title="Extras" columns="1" collapsible="false">
                            <apex:pageBlockTable value="{!ProductExtrasList}" var="l">
                                <apex:column headerValue="Description">
                                    <apex:outputText value="{!l.description}" />
                                </apex:column>
                                <apex:column headerValue="Include">
                                    <apex:inputCheckBox value="{!l.include}" disabled="true" >
                                        <apex:actionSupport event="onchange" action="{!setContractValue}" reRender="invoiceTabMainContainer,btnPanel,outoutOptionId" />
                                    </apex:inputCheckBox>
                                </apex:column>
                                <apex:column headerValue="Quantity">
                                    <apex:inputText value="{!l.quantity}" disabled="{!(!l.quantityEditable)}">
                                        <apex:actionSupport event="onchange" action="{!changeExtrasInShippingTab}" reRender="invoiceTabMainContainer,btnPanel,outoutOptionId,extrasPanel" status="NewContactStatus"/>
                                    </apex:inputText>
                                </apex:column>
                                <apex:column headerValue="Price">
                                    <apex:inputText value="{!l.price}" disabled="{!(!l.priceEditable)}">
                                        <apex:actionSupport event="onchange" action="{!changeExtrasInShippingTab}" reRender="invoiceTabMainContainer,btnPanel,outoutOptionId,extrasPanel" status="NewContactStatus"/>
                                    </apex:inputText>&nbsp;{!l.dollarOrPercent}
                                    
                                </apex:column>
                                <apex:column headerValue="Total">
                                    <!-- <apex:outputText value="{0, number,###,###,##0.00}" ><apex:param value="{!l.total}" /></apex:outputText> -->
                                        {!l.total}&nbsp;$
                                    
                                </apex:column>
                            </apex:pageBlockTable>
                        </apex:pageBlockSection>
                    </apex:outputPanel>
                </apex:tab>
                <!-- Product Tab -->
                <apex:tab style="font-family:Verdana; background-color:#F2F2F2;" name="Product" id="productTabId" label="Product" ontabenter="callproductTab('product')">
                    <br/>
                    <apex:pageBlockSection title="Customer Activity History"  collapsible="false"/>
                    <apex:pageBlockSection title="Expand/Collapse" columns="1" collapsible="true">
                        <apex:actionStatus id="loadProdAH">
                            <apex:facet name="stop">
                                <apex:commandButton value="Show Activity History"  action="{!getCustomerActivityHistory}" status="loadProdAH" reRender="editProductPanel,theImage,customerActivityPanel,productsListSalesWrapper,errorMessageTop,ApproverCommentsDescription,ModificationCommentsDescription,productAddbutton"/>
                            </apex:facet>
                            <apex:facet name="start">
                                <apex:commandButton value="Loading..." styleclass="readmore" disabled="true" status="loadProdAH" />
                            </apex:facet>
                        </apex:actionStatus>
                        <apex:outputPanel id="customerActivityPanel">
                            <apex:outputPanel id="customerActivityPanelInner" rendered="{!isShowProdHistory}">
                                <table  width="100%">
                                    <tr bgcolor="#F8F8F8">
                                        <td  align="center" width="15%">
                                            <b>Quote Id</b>
                                        </td>
                                        <td  align="center" width="15%">
                                            <b>Date of Order Activation </b>
                                        </td>
                                        <td  align="center" width="15%">
                                            <b>Item Code</b>
                                        </td>
                                        <td  align="center" width="15%">
                                            <b>E-Code</b>
                                        </td>
                                        <td  align="center" width="15%">
                                            <b>Price</b>
                                        </td>
                                        <td  align="center" width="15%">
                                            <b>Delivery Rate</b>
                                        </td>
                                        <td  align="center" width="10%">
                                            <b>Pickup Rate</b>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="12" >
                                            <div style="overflow:scroll; width:100%; height:110px;">
                                                <table width="100%" id="activity_grid">
                                                    <apex:repeat value="{!customerActivityList}" var="l">
                                                        <tr  bgcolor="#F2F2F2">
                                                            <td align="center" width="15%">
                                                                <apex:outputText value="{!l.quoteNumber}" />
                                                            </td>
                                                            <td  align="center" width="15%"></td>
                                                            <td align="center" width="15%">
                                                                <apex:outputText value="{!l.productId}" />
                                                            </td>
                                                            <td align="center" width="15%">
                                                                <apex:outputText value="{!l.ecode}" />
                                                            </td>
                                                            <td align="center" width="15%">
                                                                <apex:outputText value="{!l.price}" />
                                                            </td>
                                                            <td align="center" width="15%">
                                                                <apex:outputText value="{!l.deliveryRate}" />
                                                            </td>
                                                            <td align="center" width="10%">
                                                                <apex:outputText value="{!l.pickupRate}" />
                                                            </td>
                                                        </tr>
                                                    </apex:repeat>
                                                </table>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                            </apex:outputPanel>
                        </apex:outputPanel>
                    </apex:pageBlockSection>
                    <br/>
                    <apex:pageBlockSection title="Product List"  collapsible="false"/>
                    <apex:pageBlockSection id="productLstExpndClpse" title="Expand/Collapse" columns="1" collapsible="true" rendered="{!IF(fullQWrapper.selectedFullQUote = 'sales',false,true)}" >
                        <apex:actionStatus id="loadProd">
                            <apex:facet name="stop">
                                <apex:commandButton value="Show Product List"  rendered="{!IF(fullQWrapper.selectedFullQUote = 'sales',false,true)}" action="{!ProductsSelection}" status="loadProd" reRender="productsList,errorMessageTop"/>
                            </apex:facet>
                            <apex:facet name="start">
                                <apex:commandButton value="Loading..." styleclass="readmore" disabled="true" status="loadProd" />
                            </apex:facet>
                        </apex:actionStatus>
                        <apex:outputPanel id="productsList">
                            <apex:outputPanel id="productsListInner" rendered="{!IF((fullQWrapper.selectedFullQUote = 'rental' || fullQWrapper.selectedFullQUote = 'Rental') && isShowProductList = true,true,false)}">
                                <table  width="100%">
                                    <tr bgcolor="#F8F8F8">
                                        <td>
                                            <apex:outputPanel rendered="{!isTransTmoboORseco}" >
                                                <table width="100%;">
                                                    <tr>
                                                        <td  align="center" width="8%">
                                                            <b>Main Features</b>
                                                        </td>
                                                        <td  align="center" width="8%">
                                                            <b>Item Code</b>
                                                        </td>
                                                        <td  align="center" width="16%">
                                                            <b>Description</b>
                                                        </td>
                                                        <td  align="center" width="7%">
                                                            <b>Qty Avail</b>
                                                        </td>
                                                        <td  align="center" width="7%">
                                                            <b>Reserved</b>
                                                        </td>
                                                        <td  align="center" width="12%">
                                                            <b>Hold&amp;Inspect+Light RM</b>
                                                        </td>
                                                        <td  align="center" width="5%">
                                                            <b>ORNPU</b>
                                                        </td>
                                                        <td  align="center" width="5%">
                                                            <b>Util%</b>
                                                        </td>
                                                        <!-- <td  align="center" width="7%"><b>2-6 Periods</b></td><td  align="center" width="6%"><b>7-12 Periods</b></td><td  align="center" width="8%"><b>13-24 Periods</b></td><td  align="center" width="6%"><b>25+ Periods</b></td><td  align="center" width="6%"><b>Contractor</b></td> -->
                                                        <td  align="center" width="11%">
                                                            <b>Standard Rate</b>
                                                        </td>
                                                        <td  align="center" width="11%">
                                                            <b>Base Rate</b>
                                                        </td>
                                                        <td  align="center" width="11%">
                                                            <b>Composite Rate</b>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </apex:outputPanel>
                                            <apex:outputPanel rendered="{!!isTransTmoboORseco}">
                                                <table width="100%;">
                                                    <tr>
                                                        <td  align="center" width="8%">
                                                            <b>Main Features</b>
                                                        </td>
                                                        <td  align="center" width="8%">
                                                            <b>Item Code</b>
                                                        </td>
                                                        <td  align="center" width="16%">
                                                            <b>Description</b>
                                                        </td>
                                                        <td  align="center" width="7%">
                                                            <b>Qty Avail</b>
                                                        </td>
                                                        <td  align="center" width="7%">
                                                            <b>Reserved</b>
                                                        </td>
                                                        <td  align="center" width="12%">
                                                            <b>Hold&amp;Inspect+Light RM</b>
                                                        </td>
                                                        <td  align="center" width="5%">
                                                            <b>ORNPU</b>
                                                        </td>
                                                        <td  align="center" width="5%">
                                                            <b>Util%</b>
                                                        </td>
                                                        <!-- <td  align="center" width="6%"><b>1 Period</b></td><td  align="center" width="6%"><b>2-6 Periods</b></td><td  align="center" width="8%"><b>7-12 Periods</b></td><td  align="center" width="6%"><b>13+ Periods</b></td><td  align="center" width="6%"><b>Contractor</b></td> -->
                                                        <td  align="center" width="10%">
                                                            <b>Standard Rate</b>
                                                        </td>
                                                        <td  align="center" width="11%">
                                                            <b>Base Rate</b>
                                                        </td>
                                                        <td  align="center" width="11%">
                                                            <b>Composite Rate</b>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </apex:outputPanel>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="13" >
                                            <div style="overflow:scroll; width:100%; height:220px;">
                                                <table width="100%" id="product_grid">
                                                    <apex:repeat value="{!ProductList}" var="l">
                                                        <tr id="{!l.Id}" bgcolor="#F2F2F2">
                                                            <td align="center" width="8%" onclick="changeRowColorInProduct(document.getElementById('{!l.Id}'),'{!l.Id}','SelectedProduct')" >
                                                                <apex:outputText value="{!l.mainFeature}" />
                                                            </td>
                                                            <td  align="center" width="8%" onclick="changeRowColorInProduct(document.getElementById('{!l.Id}'),'{!l.Id}','SelectedProduct')" >
                                                                <apex:outputText value="{!l.Id}" />
                                                            </td>
                                                            <td align="center"  width="16%" onclick="changeRowColorInProduct(document.getElementById('{!l.Id}'),'{!l.Id}','SelectedProduct')" >
                                                                <apex:outputText value="{!l.Description}" />
                                                            </td>
                                                            <td align="center"  width="7%" style="padding-left: 6px;" onclick="changeRowColorInProduct(document.getElementById('{!l.Id}'),'{!l.Id}','SelectedProduct')" >
                                                                <apex:outputText style="color:{!if(l.qtyAvail = '0' || CONTAINS(l.qtyAvail, '-'),'red','')}" value="{!l.qtyAvail}" />
                                                            </td>
                                                            <td align="center"  width="7%" style="padding-left: 6px;" onclick="changeRowColorInProduct(document.getElementById('{!l.Id}'),'{!l.Id}','SelectedProduct')" >
                                                                <apex:outputText style="color:{!if(l.qtyReserved = '0' || CONTAINS(l.qtyReserved, '-'),'red','')}" value="{!l.qtyReserved}" />
                                                            </td>
                                                            <td  align="center" width="12%" onclick="changeRowColorInProduct(document.getElementById('{!l.Id}'),'{!l.Id}','SelectedProduct')" >
                                                                <apex:outputText style="color:{!if(l.HILRM = '0' || CONTAINS(l.HILRM, '-'),'red','')}" value="{!l.HILRM}" />
                                                            </td>
                                                            <td align="center" width="5%" onclick="changeRowColorInProduct(document.getElementById('{!l.Id}'),'{!l.Id}','SelectedProduct')" >
                                                                <apex:outputText style="color:{!if(l.qtyWip6 = '0' || CONTAINS(l.qtyWip6, '-'),'red','')}" value="{!l.qtyWip6}" />
                                                            </td>
                                                            <td align="center" width="5%" onclick="changeRowColorInProduct(document.getElementById('{!l.Id}'),'{!l.Id}','SelectedProduct')" >
                                                                <apex:outputText style="color:{!if(l.UtilPercent = '0' || CONTAINS(l.UtilPercent, '-'),'red','')}" value="{!l.UtilPercent}" />
                                                            </td>
                                                            <!-- <td align="center" width="6%" style="padding-left: 5px;" onclick="changeRowColorInProduct(document.getElementById('{!l.Id}'),'{!l.Id}','SelectedProduct')" ><apex:outputText value="{!l.rate1.rate}" /></td><td align="center" width="6%" style="padding-left: 5px;" onclick="changeRowColorInProduct(document.getElementById('{!l.Id}'),'{!l.Id}','SelectedProduct')" ><apex:outputText value="{!l.rate2.rate}" /></td><td align="center" width="8%" style="padding-left: 5px;" onclick="changeRowColorInProduct(document.getElementById('{!l.Id}'),'{!l.Id}','SelectedProduct')" ><apex:outputText value="{!l.rate3.rate}" /></td><td align="center" width="6%" style="padding-left: 10px;" onclick="changeRowColorInProduct(document.getElementById('{!l.Id}'),'{!l.Id}','SelectedProduct')" ><apex:outputText value="{!l.rate4.rate}" /></td><td align="center" width="6%" style="padding-left: 10px;" onclick="changeRowColorInProduct(document.getElementById('{!l.Id}'),'{!l.Id}','SelectedProduct')" ><apex:outputText value="{!l.rate5.rate}" /></td> -->
                                                            <td align="center" width="10%" style="padding-left: 5px;" onclick="changeRowColorInProduct(document.getElementById('{!l.Id}'),'{!l.Id}','SelectedProduct')" >
                                                                <apex:outputText value="{!l.rate1.rate}" />
                                                            </td>
                                                            <td align="center" width="11%" style="padding-left: 5px;" onclick="changeRowColorInProduct(document.getElementById('{!l.Id}'),'{!l.Id}','SelectedProduct')" >
                                                                <apex:outputText value="{!l.rate5.rate}" />
                                                            </td>
                                                            <td align="center" width="11%" style="padding-left: 5px;" onclick="changeRowColorInProduct(document.getElementById('{!l.Id}'),'{!l.Id}','SelectedProduct')" >
                                                                <apex:outputText value="{!l.rate7.rate}" />
                                                            </td>
                                                        </tr>
                                                    </apex:repeat>
                                                </table>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                            </apex:outputPanel>
                        </apex:outputPanel>
                    </apex:pageBlockSection>
                    <apex:outputPanel id="productsListSalesWrapper">
                        <apex:outputPanel id="productsListSales" rendered="{!IF(fullQWrapper.selectedFullQUote = 'sales',true,false)}">
                            <table  width="100%">
                                <tr bgcolor="#F8F8F8">
                                    <td>
                                        <table width="100%;">
                                            <tr>
                                                <td  align="center" width="8%">
                                                    <b>Branch Number</b>
                                                </td>
                                                <td  align="center" width="8%">
                                                    <b>Item Code</b>
                                                </td>
                                                <td  align="center" width="8%">
                                                    <b>E-Code</b>
                                                </td>
                                                <td  align="center" width="8%">
                                                    <b>Item Ref(Serial No.)</b>
                                                </td>
                                                <td  align="center" width="8%">
                                                    <b>Grade</b>
                                                </td>
                                                <td  align="center" width="8%">
                                                    <b>Sugg Price</b>
                                                </td>
                                                <td  align="center" width="8%">
                                                    <b>Min Price</b>
                                                </td>
                                                <td  align="center" width="8%">
                                                    <b>Area</b>
                                                </td>
                                                <td  align="center" width="8%">
                                                    <b>Reason Code</b>
                                                </td>
                                                <td  align="center" width="8%">
                                                    <b>Blowout</b>
                                                </td>
                                                <td  align="center" width="20%">
                                                    <b>Note</b>
                                                </td>
                                            </tr>
                                        </table>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="13" >
                                        <div style="overflow:scroll; width:100%; height:220px;">
                                            <table width="100%" id="productSales_grid">
                                                <apex:repeat value="{!salesInventories}" var="l">
                                                    <tr id="{!l.recId}" bgcolor="#F2F2F2">
                                                        <td align="center" width="8%"  onclick="changeRowColorInProduct2(document.getElementById('{!l.recId}'),'{!l.recId}','SelectedEcode')" >
                                                            <apex:outputText value="{!l.fulfillingBranchCode}" />
                                                        </td>
                                                        <td align="center" width="8%"  onclick="changeRowColorInProduct2(document.getElementById('{!l.recId}'),'{!l.recId}','SelectedEcode')" >
                                                            <apex:outputText value="{!l.lineItemID}" />
                                                        </td>
                                                        <td align="center" width="8%"  onclick="changeRowColorInProduct2(document.getElementById('{!l.recId}'),'{!l.recId}','SelectedEcode')" >
                                                            <apex:outputText value="{!l.eCode}" />
                                                        </td>
                                                        <td align="center" width="8%"  onclick="changeRowColorInProduct2(document.getElementById('{!l.recId}'),'{!l.recId}','SelectedEcode')" >
                                                            <apex:outputText value="{!l.itemRef}" />
                                                        </td>
                                                        <td align="center" width="8%"  onclick="changeRowColorInProduct2(document.getElementById('{!l.recId}'),'{!l.recId}','SelectedEcode')" >
                                                            <apex:outputText value="{!l.gradeCode}" />
                                                        </td>
                                                        <td align="center" width="8%"  onclick="changeRowColorInProduct2(document.getElementById('{!l.recId}'),'{!l.recId}','SelectedEcode')" >
                                                            <apex:outputText value="{!l.suggestedPrice}" />
                                                        </td>
                                                        <td align="center" width="8%"  onclick="changeRowColorInProduct2(document.getElementById('{!l.recId}'),'{!l.recId}','SelectedEcode')" >
                                                            <apex:outputText value="{!l.minimumPrice}" />
                                                        </td>
                                                        <td align="center" width="8%"  onclick="changeRowColorInProduct2(document.getElementById('{!l.recId}'),'{!l.recId}','SelectedEcode')" >
                                                            <apex:outputText value="{!l.area}" />
                                                        </td>
                                                        <td align="center" width="8%"  onclick="changeRowColorInProduct2(document.getElementById('{!l.recId}'),'{!l.recId}','SelectedEcode')" >
                                                            <apex:outputText value="{!l.reasonCode}" />
                                                        </td>
                                                        <td align="center" width="8%"  onclick="changeRowColorInProduct2(document.getElementById('{!l.recId}'),'{!l.recId}','SelectedEcode')" >
                                                            <apex:outputText value="{!l.blowout}" />
                                                        </td>
                                                        <td align="center" width="20%"  onclick="changeRowColorInProduct2(document.getElementById('{!l.recId}'),'{!l.recId}','SelectedEcode')" >
                                                            <apex:outputText value="{!l.notes}" />
                                                        </td>
                                                    </tr>
                                                </apex:repeat>
                                            </table>
                                        </div>
                                    </td>
                                </tr>
                            </table>
                        </apex:outputPanel>
                    </apex:outputPanel>
                    <br/>
                    <apex:outputPanel id="editProductPanel" >
                        <!--
                                <apex:outputPanel rendered="{!!fullQWrapper.showEditProduct}"><div align="center"><img src="{!$Resource.Loading}" /><br/><br/><font color="Red"><b>Loading....</b></font></div></apex:outputPanel>
                              -->
                        <apex:actionStatus id="stseditproduct" >
                            <apex:facet name="start">
                                <center>
                                    <font color="Red">
                                        <b>Loading....</b>
                                    </font>
                                </center>
                                <br/>
                            </apex:facet>
                        </apex:actionStatus>
                        <apex:messages styleClass="errorMsg" style="font-family:georgia,garamond,serif;" />
                        <apex:pageBlockSection id="rentalSectionPBId" title="Edit Product Details"  collapsible="false"  rendered="{!IF(fullQWrapper.selectedFullQUote = 'sales',false,true)}" >
                            <apex:pageBlockSectionItem id="ItemCodeSecItem">
                                <apex:outputLabel value="Item Code" />
                                <apex:outputPanel >
                                    <apex:inputText onchange="callRefreshLineFun()" style="width:85px;" value="{!EditProduct.Id}" /> &nbsp;&nbsp;
                                            
                                    <apex:actionStatus id="ItemCodeStatus" >
                                        <apex:facet name="start">
                                            <apex:image value="{!$Resource.Loading}" width="20" height="20"/>
                                        </apex:facet>
                                        <apex:facet name="stop"></apex:facet>
                                    </apex:actionStatus>
                                    <apex:outputPanel id="accessQtyPnl" rendered="{!isAccessorySelected}">
                                        <apex:outputLabel value="Qty" ></apex:outputLabel>&nbsp;&nbsp;
                                                 
                                        <apex:inputText value="{!accessoriesQuantity}" Style="width:20px;position:relative;"  onkeypress="return onlyNumbers(event)" onchange="checkLockQty(this,'5');"  id="accessQty" maxlength="2"/>
                                        <apex:image url="{!$Resource.SortArrowDown}" onclick="increse('5');" width="10" height="10" style=" text-decoration: none; position:relative;left:7px;top:-5px; transform:rotate(180deg); -moz-transform:rotate(180deg); -webkit-transform:rotate(180deg); -o-transform:rotate(180deg); -ms-transform:rotate(180deg);" /> 
                        				<apex:image url="{!$Resource.SortArrowDown}" onclick="decrese('5');" width="10" height="10" style=" text-decoration: none; position:relative;top:5px;left:-3px;" />
                                        <!-- <apex:outputlabel value="?" onclick="increse('5')" style=" text-decoration: none; position:relative;top:-7px;" ></apex:outputlabel>
                                        <apex:outputlabel value="?" onclick="decrese('5')"  style=" text-decoration: none; position:relative;top:3px;right:12px;" ></apex:outputlabel> -->
                                                 &nbsp;&nbsp;
                                        <div id="LockError5" style="color:#F00;" ></div>
                                    </apex:outputPanel>
                                </apex:outputPanel>
                            </apex:pageBlockSectionItem>
                            <apex:pageBlockSectionItem >
                                <apex:outputLabel value="{!IF(isTransTmoboORseco, '2-6 Periods','1 Period')}" />
                                <apex:outputPanel id="standardRateOp">
                                    <apex:inputText style="width:85px;background-color:{!if(fullQWrapper.enable1Period,'#2EFEC8','')}" value="{!EditProduct.rate1.rate}" Disabled="{!!fullQWrapper.enable1Period}" />
                                            &nbsp;&nbsp;
                                    <apex:outputLabel style="font-weight:bold;text-align: right;font-size: 91%;" value="Standard Rate" />
                                            &nbsp;&nbsp;&nbsp;&nbsp;
                                    <apex:inputText style="width:85px;" value="{!standardRate}" Disabled="true" /><br/>
                        			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<apex:outputLabel style="font-weight:bold; color: #F00;" value="Do not use Standard Rate" />
                                </apex:outputPanel>
                            </apex:pageBlockSectionItem>
                            <apex:pageBlockSectionItem id="rentalSectionId" >
                                <apex:outputLabel value="Length of Rental" />
                                <apex:outputPanel id="rentalPeriodPanel">
                                    <input type="hidden" id="HiddenMoboSeco" value="{!isTransTmoboORseco}"/>
                                    <apex:InputText value="{!fullQWrapper.rentalLengthInProduct}"  style="width:85px;"  onchange="checkRentalLength(this,'2');" id="rentalLengthInProd" Disabled="{!isRentalLength}" ></apex:InputText>&nbsp;&nbsp; period(s)
                                            
                                    <apex:actionStatus id="RentalperiodStatus" >
                                        <apex:facet name="start">
                                            <apex:image value="{!$Resource.Loading}" width="20" height="20"/>
                                        </apex:facet>
                                        <apex:facet name="stop"></apex:facet>
                                    </apex:actionStatus>
                                             &nbsp;&nbsp;
                                    <div id="rentalLengthError2" style="color:#F00;" ></div>
                                </apex:outputPanel>
                            </apex:pageBlockSectionItem>
                            <apex:pageBlockSectionItem >
                                <apex:outputLabel value="{!IF(isTransTmoboORseco, '7-12 Periods','2-6 Periods')}" />
                                <apex:outputPanel id="BaseRateOp">
                                    <apex:inputText style="width:85px;background-color:{!if(fullQWrapper.enable2To6Period,'#2EFEC8','')}" value="{!EditProduct.rate2.rate}" Disabled="{!!fullQWrapper.enable2To6Period}" />
                                            &nbsp;&nbsp;
                                    <apex:outputLabel style="font-weight:bold;text-align: right;font-size: 91%;" value="Base Rate" />
                                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                    <apex:inputText style="width:85px;border: 5px solid #F00;" value="{!baseRate}" Disabled="true" />
                                </apex:outputPanel>
                            </apex:pageBlockSectionItem>
                            <apex:pageBlockSectionItem id="lockTypeSectionItem1">
                                <apex:outputLabel value="Lock Type" rendered="{!(!lockHideAcc)}" />
                                <apex:outputPanel id="lockPanel" rendered="{!(!lockHideAcc)}">
                                    <apex:inputCheckbox value="{!lockTypeList[0].isLockselected}"/>
                                    <apex:outputLabel value="{!lockTypeList[0].LockName}" />&nbsp;&nbsp;
                                             
                                    <apex:outputLabel value="Qty" ></apex:outputLabel>&nbsp;&nbsp;
                                             
                                    <apex:inputText value="{!lockTypeList[0].lockQuantity}" Style="width:20px;position:relative;" onkeypress="return onlyNumbers(event)" onchange="checkLockQty(this,'1');" id="lockQty" maxlength="2"/>
                                    <apex:image url="{!$Resource.SortArrowDown}" onclick="increse('1');" width="10" height="10" style=" text-decoration: none; position:relative;left:7px;top:-5px; transform:rotate(180deg); -moz-transform:rotate(180deg); -webkit-transform:rotate(180deg); -o-transform:rotate(180deg); -ms-transform:rotate(180deg);" /> 
                        			<apex:image url="{!$Resource.SortArrowDown}" onclick="decrese('1');" width="10" height="10" style=" text-decoration: none; position:relative;top:5px;left:-3px;" />
                                    <!-- <apex:outputlabel value="?" onclick="increse('1')" style=" text-decoration: none; position:relative;top:-7px;" ></apex:outputlabel>
                                    <apex:outputlabel value="?" onclick="decrese('1')"  style=" text-decoration: none; position:relative;top:3px;right:12px;" ></apex:outputlabel> -->
                                             &nbsp;&nbsp;
                                    <apex:outputLabel value="Price" />
                                             &nbsp;&nbsp;
                                    <apex:inputText value="{!lockTypeList[0].LockPrice}"  style="width:50px;"/>
                                             &nbsp;&nbsp;
                                    <div id="LockError1" style="color:#F00;" ></div>
                                </apex:outputPanel>
                            </apex:pageBlockSectionItem>
                            <apex:pageBlockSectionItem >
                                <apex:outputLabel value="{!IF(isTransTmoboORseco, '13-24 Periods','7-12 Periods')}" />
                                <apex:outputPanel id="CompositeRateOp">
                                    <apex:inputText style="width:85px;background-color:{!if(fullQWrapper.enable7To12Period,'#2EFEC8','')}" value="{!EditProduct.rate3.rate}" Disabled="{!!fullQWrapper.enable7To12Period}" />
                                            &nbsp;&nbsp;
                                    <apex:outputLabel style="font-weight:bold;text-align: right;font-size: 91%;" value="Composite Rate" />
                                            &nbsp;&nbsp;
                                    <apex:inputText style="width:85px;" value="{!EditProduct.rate7.rate}" Disabled="true" />
                                </apex:outputPanel>
                            </apex:pageBlockSectionItem>
                            <apex:pageBlockSectionItem id="lockTypeSectionItem2" >
                                <apex:outputLabel value="" />
                                <apex:outputPanel id="lockPanel" rendered="{!(!lockHideAcc)}">
                                    <apex:inputCheckbox value="{!lockTypeList[1].isLockselected}"/>
                                    <apex:outputLabel value="{!lockTypeList[1].LockName}" />&nbsp;&nbsp;
                                             
                                    <apex:outputLabel value="Qty" ></apex:outputLabel>&nbsp;&nbsp;
                                             
                                    <apex:inputText value="{!lockTypeList[1].lockQuantity}" Style="width:20px;position:relative;" onkeypress="return onlyNumbers(event)" onchange="checkLockQty(this,'2');"  id="lockQty" maxlength="2"/>
                                    <apex:image url="{!$Resource.SortArrowDown}" onclick="increse('2');" width="10" height="10" style=" text-decoration: none; position:relative;left:7px;top:-5px; transform:rotate(180deg); -moz-transform:rotate(180deg); -webkit-transform:rotate(180deg); -o-transform:rotate(180deg); -ms-transform:rotate(180deg);" /> 
                        			<apex:image url="{!$Resource.SortArrowDown}" onclick="decrese('2');" width="10" height="10" style=" text-decoration: none; position:relative;top:5px;left:-3px;" />
                                    <!-- <apex:outputlabel value="?" onclick="increse('2')" style=" text-decoration: none; position:relative;top:-7px;" ></apex:outputlabel>
                                    <apex:outputlabel value="?" onclick="decrese('2')"  style=" text-decoration: none; position:relative;top:3px;right:12px;" ></apex:outputlabel> -->
                                             &nbsp;&nbsp;
                                    <apex:outputLabel value="Price" />
                                             &nbsp;&nbsp;
                                    <apex:inputText value="{!lockTypeList[1].LockPrice}"  style="width:50px;"/>
                                             &nbsp;&nbsp;
                                    <div id="LockError2" style="color:#F00;" ></div>
                                </apex:outputPanel>
                            </apex:pageBlockSectionItem>
                            <apex:pageBlockSectionItem >
                                <apex:outputLabel value="{!IF(isTransTmoboORseco, '25+ Periods','13+ Periods')}" />
                                <apex:inputText style="width:85px;background-color:{!if(fullQWrapper.enable13Period,'#2EFEC8','')}" value="{!EditProduct.rate4.rate}" Disabled="{!!fullQWrapper.enable13Period}" />
                            </apex:pageBlockSectionItem>
                            <apex:pageBlockSectionItem id="lockTypeSectionItem3">
                                <apex:outputLabel value="" />
                                <apex:outputPanel id="lockPanel" rendered="{!(!lockHideAcc)}">
                                    <apex:inputCheckbox value="{!lockTypeList[2].isLockselected}"/>
                                    <apex:outputLabel value="{!lockTypeList[2].LockName}" />&nbsp;&nbsp;
                                             
                                    <apex:outputLabel value="Qty" ></apex:outputLabel>&nbsp;&nbsp;
                                             
                                    <apex:inputText value="{!lockTypeList[2].lockQuantity}" Style="width:20px;position:relative;" onkeypress="return onlyNumbers(event)" onchange="checkLockQty(this,'3');"  id="lockQty" maxlength="2"/>
                                    <apex:image url="{!$Resource.SortArrowDown}" onclick="increse('3');" width="10" height="10" style=" text-decoration: none; position:relative;left:7px;top:-5px; transform:rotate(180deg); -moz-transform:rotate(180deg); -webkit-transform:rotate(180deg); -o-transform:rotate(180deg); -ms-transform:rotate(180deg);" /> 
                        			<apex:image url="{!$Resource.SortArrowDown}" onclick="decrese('3');" width="10" height="10" style=" text-decoration: none; position:relative;top:5px;left:-3px;" />
                                    <!-- <apex:outputlabel value="?" onclick="increse('3')" style=" text-decoration: none; position:relative;top:-7px;" ></apex:outputlabel>
                                    <apex:outputlabel value="?" onclick="decrese('3')"  style=" text-decoration: none; position:relative;top:3px;right:12px;" ></apex:outputlabel> -->
                                             &nbsp;&nbsp;
                                    <apex:outputLabel value="Price" />
                                             &nbsp;&nbsp;
                                    <apex:inputText value="{!lockTypeList[2].LockPrice}"  style="width:50px;"/>
                                             &nbsp;&nbsp;
                                    <div id="LockError3" style="color:#F00;" ></div>
                                </apex:outputPanel>
                            </apex:pageBlockSectionItem>
                            <apex:pageBlockSectionItem >
                                <apex:outputLabel value="Contractor" />
                                <apex:outputPanel id="contractorField">
                                    <apex:inputText style="width:85px;" value="{!EditProduct.rate5.rate}" Disabled="{!enableContractorField}"/>
                                </apex:outputPanel>
                            </apex:pageBlockSectionItem>
                            <apex:pageBlockSectionItem id="lockTypeSectionItem4">
                                <apex:outputLabel value="" />
                                <apex:outputPanel id="lockPanel" rendered="{!(!lockHideAcc)}">
                                    <apex:inputCheckbox value="{!lockTypeList[3].isLockselected}"/>
                                    <apex:outputLabel value="{!lockTypeList[3].LockName}" />&nbsp;&nbsp;
                                             
                                    <apex:outputLabel value="Qty" ></apex:outputLabel>&nbsp;&nbsp;
                                             
                                    <apex:inputText value="{!lockTypeList[3].lockQuantity}" Style="width:20px;position:relative;" onkeypress="return onlyNumbers(event)" onchange="checkLockQty(this,'4');"  id="lockQty" maxlength="2"/>
                                    <apex:image url="{!$Resource.SortArrowDown}" onclick="increse('4');" width="10" height="10" style=" text-decoration: none; position:relative;left:7px;top:-5px; transform:rotate(180deg); -moz-transform:rotate(180deg); -webkit-transform:rotate(180deg); -o-transform:rotate(180deg); -ms-transform:rotate(180deg);" /> 
                        			<apex:image url="{!$Resource.SortArrowDown}" onclick="decrese('4');" width="10" height="10" style=" text-decoration: none; position:relative;top:5px;left:-3px;" />
                                    <!-- <apex:outputlabel value="?" onclick="increse('4')" style=" text-decoration: none; position:relative;top:-7px;" ></apex:outputlabel>
                                    <apex:outputlabel value="?" onclick="decrese('4')"  style=" text-decoration: none; position:relative;top:3px;right:12px;" ></apex:outputlabel> -->
                                             &nbsp;&nbsp;
                                    <apex:outputLabel value="Price" />
                                             &nbsp;&nbsp;
                                    <apex:inputText value="{!lockTypeList[3].LockPrice}"  style="width:50px;"/>
                                             &nbsp;&nbsp;
                                    <div id="LockError4" style="color:#F00;" ></div>
                                </apex:outputPanel>
                            </apex:pageBlockSectionItem>
                            <apex:pageBlockSectionItem >
                                <apex:outputLabel value="National" />
                                <apex:outputPanel >
                                    <apex:inputText style="width:85px;" value="{!EditProduct.rate6.rate}" rendered="{!!isTransTmoboORseco}" disabled="true" />
                                    <apex:inputText style="width:85px;" value="{!EditProduct.rate8.rate}" rendered="{!isTransTmoboORseco}" disabled="true" />
                                </apex:outputPanel>
                            </apex:pageBlockSectionItem>
                            <apex:pageBlockSectionItem id="StorageUsePbs">
                                <apex:outputLabel value="Storage Use" />
                                <apex:outputPanel >
                                    <apex:outputPanel styleClass="requiredInput" layout="block">
                                        <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                        <apex:selectList value="{!fullQWrapper.storageUse}" size="1" >
                                            <apex:selectOptions value="{!storageUseOptionsList}" id="StorageUseOption"/>
                                        </apex:selectList>
                                    </apex:outputPanel>
                                </apex:outputPanel>
                            </apex:pageBlockSectionItem>
                            <!-- <apex:pageBlockSectionItem ><apex:outputLabel value="Asset Image" /><apex:outputPanel id="AssetImagePanel"><apex:image id="theImage" value="{!fullQWrapper.ImageUrl}" width="170" height="120"/></apex:outputPanel></apex:pageBlockSectionItem><apex:pageBlockSectionItem /> -->
                        </apex:pageBlockSection>
                        <apex:outputPanel id="salesProductionSection" >
                            <apex:pageBlockSection id="salesSectionPBId" title="Edit Product Details"  collapsible="false"  rendered="{!IF(fullQWrapper.selectedFullQUote = 'sales',true,false)}" >
                                <apex:pageBlockSectionItem id="ItemCodeSecItem">
                                    <apex:outputLabel value="Item Code" />
                                    <apex:outputPanel >
                                        <apex:inputText id="salesItemCode"  onchange="editSaleProduct();" style="width:85px;" value="{!fullQWrapper.ItemCode}" /> &nbsp;&nbsp;
                                                
                                                
                                        <apex:actionStatus id="ItemCodeStatusSales" >
                                            <apex:facet name="start">
                                                <apex:image value="{!$Resource.Loading}" width="20" height="20"/>
                                            </apex:facet>
                                            <apex:facet name="stop"></apex:facet>
                                        </apex:actionStatus>
                                        <apex:outputPanel id="accessQtyPnl" rendered="{!lockHideAcc}">
                                            <apex:outputLabel value="Qty" ></apex:outputLabel>&nbsp;&nbsp;
                                                     
                                            <apex:inputText value="{!accessoriesQuantity}" Style="width:20px;position:relative;" onkeypress="return onlyNumbers(event)"  onchange="checkLockQty(this,'5');"  id="accessQty" maxlength="2"/>
                                            <apex:image url="{!$Resource.SortArrowDown}" onclick="increse('5');" width="10" height="10" style=" text-decoration: none; position:relative;left:7px;top:-5px; transform:rotate(180deg); -moz-transform:rotate(180deg); -webkit-transform:rotate(180deg); -o-transform:rotate(180deg); -ms-transform:rotate(180deg);" /> 
                        					<apex:image url="{!$Resource.SortArrowDown}" onclick="decrese('5');" width="10" height="10" style=" text-decoration: none; position:relative;top:5px;left:-3px;" />
                                            <!-- <apex:outputlabel value="?" onclick="increse('5')" style=" text-decoration: none; position:relative;top:-7px;" ></apex:outputlabel>
                                            <apex:outputlabel value="?" onclick="decrese('5')"  style=" text-decoration: none; position:relative;top:3px;right:12px;" ></apex:outputlabel> -->
                                                     &nbsp;&nbsp;
                                            <div id="LockError5" style="color:#F00;" ></div>
                                        </apex:outputPanel>
                                    </apex:outputPanel>
                                </apex:pageBlockSectionItem>
                                <apex:pageBlockSectionItem >
                                    <apex:outputLabel value="Suggested Price" />
                                    <apex:inputText id="salesSuggestedPrice" value="{!fullQWrapper.SuggestedPrice}"  disabled="true"/>
                                </apex:pageBlockSectionItem>
                                <apex:pageBlockSectionItem id="ecodePBSectionId">
                                    <apex:outputLabel value="E-Code" />
                                    <apex:outputPanel >
                                        <apex:inputText id="ecodeInputTextId"  value="{!fullQWrapper.ECode}" />
                                        <apex:actionStatus id="AccountIdSearchLoad" >
                                            <apex:facet name="stop">
                                                <apex:commandButton disabled="{!isEcodeAllocationBtnDesabled}" value="Allocate E-code" status="AccountIdSearchLoad" onclick="showAllocationPopUp();" action="{!callEcodeAllocationWs}" reRender="ecodePanel,errorMessageTop"/>
                                            </apex:facet>
                                            <apex:facet name="start">
                                                <apex:commandButton value="Allocating..." styleclass="readmore" disabled="true" status="AccountIdSearchLoad" />
                                            </apex:facet>
                                        </apex:actionStatus>
                                    </apex:outputPanel>
                                </apex:pageBlockSectionItem>
                                <apex:pageBlockSectionItem >
                                    <apex:outputLabel value="Minimum Price" />
                                    <apex:inputText id="salesMinimumPrice" value="{!fullQWrapper.MinPrice}"  disabled="true" />
                                </apex:pageBlockSectionItem>
                                <apex:pageBlockSectionItem >
                                    <apex:outputLabel value="MMI#" />
                                    <apex:inputText id="MMINo" value="{!fullQWrapper.Reference}" disabled="true" />
                                </apex:pageBlockSectionItem>
                                <apex:pageBlockSectionItem >
                                    <apex:outputLabel value="Modification Cost" />
                                    <apex:inputText id="salesModificationCost" value="{!fullQWrapper.ModificationCost}"  />
                                </apex:pageBlockSectionItem>
                                <apex:pageBlockSectionItem >
                                    <apex:outputLabel value="Netbook Value" rendered="{!IF(($UserRole.Name != 'Business Development Specialist (OB) T1' && $UserRole.Name != 'Inbound Sales Specialist T1'  && $UserRole.Name != 'Inbound Sales Specialist T2' &&  $UserRole.Name != 'Major Accounts Manager'),true,false)}"/>
                                    <apex:outputPanel id="salesNetbookValueWrapper">
                                        <apex:inputText id="salesNetbookValue" value="{!fullQWrapper.NetBookValue}"  rendered="{!IF(($UserRole.Name != 'Business Development Specialist (OB) T1' && $UserRole.Name != 'Inbound Sales Specialist T1'  && $UserRole.Name != 'Inbound Sales Specialist T2' &&  $UserRole.Name != 'Major Accounts Manager'),true,false)}" />
                                    </apex:outputPanel>
                                </apex:pageBlockSectionItem>
                                <apex:pageBlockSectionItem >
                                    <apex:outputLabel value="Selling Price" />
                                    <apex:inputText id="salesSellingPrice" value="{!fullQWrapper.SellingPrice}"  />
                                </apex:pageBlockSectionItem>
                                <apex:pageBlockSectionItem id="unitType">
                                    <apex:outputLabel value="Unit Type" />
                                    <apex:outputPanel >
                                        <apex:selectList value="{!fullQWrapper.unitType}" size="1" >
                                            <apex:selectOptions value="{!unitTypeOptionsList}" id="unitTypeListId"/>
                                        </apex:selectList>
                                    </apex:outputPanel>
                                </apex:pageBlockSectionItem>
                                <apex:pageBlockSectionItem >
                                    <apex:outputLabel value="Asset Description" />
                                    <apex:inputTextarea id="salesAssetDescription" rows="5" cols="26" value="{!fullQWrapper.assetDescription}" disabled="true" />
                                </apex:pageBlockSectionItem>
                                <apex:pageBlockSectionItem >
                                    <apex:outputLabel value="Asset Image" />
                                    <apex:outputPanel id="AssetImagePanel">
                                        <!--    <apex:image id="theImage" value="data:image;base64,{!fullQWrapper.ImageUrl}" width="170" height="120"/> -->
                                        <table>
                                            <tr>
                                                <td>
                                                    <apex:variable value="{!1}" var="StepCount"/>
                                                    <apex:repeat value="{!ImageListSalesInv}" var="l">
                                                        <a href="javascript:" value="{!l.sfdcRecId}" onclick="SelectedImageSalesINVfunc('{!l.sfdcRecId}')"> Image {!FLOOR(StepCount)}</a>
                                                        <apex:variable var="StepCount" value="{!StepCount + 1}"/>
                                                        <br/>
                                                    </apex:repeat>
                                                </td>
                                            </tr>
                                        </table>
                                    </apex:outputPanel>
                                </apex:pageBlockSectionItem>
                                <apex:pageBlockSectionItem >
                                    <apex:outputLabel value="Grade Description" />
                                    <apex:inputTextarea id="salesGradeDescription" rows="8" cols="26"  value="{!fullQWrapper.GradeDescription}" disabled="true"/>
                                </apex:pageBlockSectionItem>
                                <apex:pageBlockSectionItem ></apex:pageBlockSectionItem>
                                <apex:pageBlockSectionItem >
                                    <apex:outputLabel ></apex:outputLabel>
                                    <apex:outputLabel id="viewBranchIdShanshort">
                                        <apex:commandButton value=" View Branch SnapShot" onclick="window.open('/apex/ViewWeeklyBranchSnapshot?servicingBranch={!branchIdforViewBranch}&retURL={!recId}','_blank'); " rerender="viewBranchIdShanshort" />
                                    </apex:outputLabel>
                                </apex:pageBlockSectionItem>
                                <apex:pageBlockSectionItem >
                                    <apex:outputLabel value="Modification Comments" />
                                    <apex:inputTextarea id="ModificationCommentsDescription" rows="8" cols="26"  value="{!fullQWrapper.ModificationComments}" />
                                </apex:pageBlockSectionItem>
                                <apex:pageBlockSectionItem >
                                    <apex:outputLabel value="Approver Comments" />
                                    <apex:inputTextarea id="ApproverCommentsDescription" rows="8" cols="26"  value="{!fullQWrapper.ApproverComments}" disabled="true"/>
                                </apex:pageBlockSectionItem>
                                <apex:pageBlockSectionItem id="lockTypeSectionItem1">
                                    <apex:outputLabel value="Lock Type"  rendered="{!(!lockHideAcc)}"/>
                                    <apex:outputPanel id="lockPanel" rendered="{!(!lockHideAcc)}">
                                        <apex:inputCheckbox value="{!lockTypeList[0].isLockselected}"/>
                                        <apex:outputLabel value="{!lockTypeList[0].LockName}" />&nbsp;&nbsp;
                                                 
                                        <apex:outputLabel value="Qty" ></apex:outputLabel>&nbsp;&nbsp;
                                                 
                                        <apex:inputText value="{!lockTypeList[0].lockQuantity}" Style="width:20px;position:relative;" onkeypress="return onlyNumbers(event)" onchange="checkLockQty(this,'1');"  id="lockQty" maxlength="2"/>
                                        <apex:image url="{!$Resource.SortArrowDown}" onclick="increse('1');" width="10" height="10" style=" text-decoration: none; position:relative;left:7px;top:-5px; transform:rotate(180deg); -moz-transform:rotate(180deg); -webkit-transform:rotate(180deg); -o-transform:rotate(180deg); -ms-transform:rotate(180deg);" /> 
                        				<apex:image url="{!$Resource.SortArrowDown}" onclick="decrese('1');" width="10" height="10" style=" text-decoration: none; position:relative;top:5px;left:-3px;" />
                                        <!-- <apex:outputlabel value="?" onclick="increse('1')" style=" text-decoration: none; position:relative;top:-7px;" ></apex:outputlabel>
                                        <apex:outputlabel value="?" onclick="decrese('1')"  style=" text-decoration: none; position:relative;top:3px;right:12px;" ></apex:outputlabel> -->
                                                 &nbsp;&nbsp;
                                        <apex:outputLabel value="Price" />
                                                 &nbsp;&nbsp;
                                        <apex:inputText value="{!lockTypeList[0].LockPrice}"  style="width:50px;"/>
                                                 &nbsp;&nbsp;
                                        <div id="LockError1" style="color:#F00;" ></div>
                                    </apex:outputPanel>
                                </apex:pageBlockSectionItem>
                                <apex:pageBlockSectionItem ></apex:pageBlockSectionItem>
                                <apex:pageBlockSectionItem id="lockTypeSectionItem2" >
                                    <apex:outputLabel value="" />
                                    <apex:outputPanel id="lockPanel" rendered="{!(!lockHideAcc)}">
                                        <apex:inputCheckbox value="{!lockTypeList[1].isLockselected}"/>
                                        <apex:outputLabel value="{!lockTypeList[1].LockName}" />&nbsp;&nbsp;
                                                 
                                        <apex:outputLabel value="Qty" ></apex:outputLabel>&nbsp;&nbsp;
                                                 
                                        <apex:inputText value="{!lockTypeList[1].lockQuantity}" Style="width:20px;position:relative;" onkeypress="return onlyNumbers(event)"  onchange="checkLockQty(this,'2');" id="lockQty" maxlength="2"/>
                                        <apex:image url="{!$Resource.SortArrowDown}" onclick="increse('2');" width="10" height="10" style=" text-decoration: none; position:relative;left:7px;top:-5px; transform:rotate(180deg); -moz-transform:rotate(180deg); -webkit-transform:rotate(180deg); -o-transform:rotate(180deg); -ms-transform:rotate(180deg);" /> 
                        				<apex:image url="{!$Resource.SortArrowDown}" onclick="decrese('2');" width="10" height="10" style=" text-decoration: none; position:relative;top:5px;left:-3px;" />
                                        <!-- <apex:outputlabel value="?" onclick="increse('2')" style=" text-decoration: none; position:relative;top:-7px;" ></apex:outputlabel>
                                        <apex:outputlabel value="?" onclick="decrese('2')"  style=" text-decoration: none; position:relative;top:3px;right:12px;" ></apex:outputlabel> -->
                                                 &nbsp;&nbsp;
                                        <apex:outputLabel value="Price" />
                                                 &nbsp;&nbsp;
                                        <apex:inputText value="{!lockTypeList[1].LockPrice}"  style="width:50px;"/>
                                                 &nbsp;&nbsp;
                                        <div id="LockError2" style="color:#F00;" ></div>
                                    </apex:outputPanel>
                                </apex:pageBlockSectionItem>
                                <apex:pageBlockSectionItem ></apex:pageBlockSectionItem>
                                <apex:pageBlockSectionItem id="lockTypeSectionItem3">
                                    <apex:outputLabel value="" />
                                    <apex:outputPanel id="lockPanel" rendered="{!(!lockHideAcc)}">
                                        <apex:inputCheckbox value="{!lockTypeList[2].isLockselected}"/>
                                        <apex:outputLabel value="{!lockTypeList[2].LockName}" />&nbsp;&nbsp;
                                                 
                                        <apex:outputLabel value="Qty" ></apex:outputLabel>&nbsp;&nbsp;
                                                 
                                        <apex:inputText value="{!lockTypeList[2].lockQuantity}" Style="width:20px;position:relative;" onkeypress="return onlyNumbers(event)"  onchange="checkLockQty(this,'3');" id="lockQty" maxlength="2"/>
                                        <apex:image url="{!$Resource.SortArrowDown}" onclick="increse('3');" width="10" height="10" style=" text-decoration: none; position:relative;left:7px;top:-5px; transform:rotate(180deg); -moz-transform:rotate(180deg); -webkit-transform:rotate(180deg); -o-transform:rotate(180deg); -ms-transform:rotate(180deg);" /> 
                        				<apex:image url="{!$Resource.SortArrowDown}" onclick="decrese('3');" width="10" height="10" style=" text-decoration: none; position:relative;top:5px;left:-3px;" />
                                        <!-- <apex:outputlabel value="?" onclick="increse('3')" style=" text-decoration: none; position:relative;top:-7px;" ></apex:outputlabel>
                                        <apex:outputlabel value="?" onclick="decrese('3')"  style=" text-decoration: none; position:relative;top:3px;right:12px;" ></apex:outputlabel> -->
                                                 &nbsp;&nbsp;
                                        <apex:outputLabel value="Price" />
                                                 &nbsp;&nbsp;
                                        <apex:inputText value="{!lockTypeList[2].LockPrice}"  style="width:50px;"/>
                                                 &nbsp;&nbsp;
                                        <div id="LockError3" style="color:#F00;" ></div>
                                    </apex:outputPanel>
                                </apex:pageBlockSectionItem>
                                <apex:pageBlockSectionItem ></apex:pageBlockSectionItem>
                                <apex:pageBlockSectionItem id="lockTypeSectionItem4">
                                    <apex:outputLabel value="" />
                                    <apex:outputPanel id="lockPanel" rendered="{!(!lockHideAcc)}">
                                        <apex:inputCheckbox value="{!lockTypeList[3].isLockselected}"/>
                                        <apex:outputLabel value="{!lockTypeList[3].LockName}" />&nbsp;&nbsp;
                                                 
                                        <apex:outputLabel value="Qty" ></apex:outputLabel>&nbsp;&nbsp;
                                                 
                                        <apex:inputText value="{!lockTypeList[3].lockQuantity}" Style="width:20px;position:relative;" onkeypress="return onlyNumbers(event)"  onchange="checkLockQty(this,'4');"  id="lockQty" maxlength="2"/>
                                        <apex:image url="{!$Resource.SortArrowDown}" onclick="increse('4');" width="10" height="10" style=" text-decoration: none; position:relative;left:7px;top:-5px; transform:rotate(180deg); -moz-transform:rotate(180deg); -webkit-transform:rotate(180deg); -o-transform:rotate(180deg); -ms-transform:rotate(180deg);" /> 
                        				<apex:image url="{!$Resource.SortArrowDown}" onclick="decrese('4');" width="10" height="10" style=" text-decoration: none; position:relative;top:5px;left:-3px;" />
                                        <!-- <apex:outputlabel value="?" onclick="increse('4')" style=" text-decoration: none; position:relative;top:-7px;" ></apex:outputlabel>
                                        <apex:outputlabel value="?" onclick="decrese('4')"  style=" text-decoration: none; position:relative;top:3px;right:12px;" ></apex:outputlabel> -->
                                                 &nbsp;&nbsp;
                                        <apex:outputLabel value="Price" />
                                                 &nbsp;&nbsp;
                                        <apex:inputText value="{!lockTypeList[3].LockPrice}"  style="width:50px;"/>
                                                 &nbsp;&nbsp;
                                        <div id="LockError4" style="color:#F00;" ></div>
                                    </apex:outputPanel>
                                </apex:pageBlockSectionItem>
                                <apex:pageBlockSectionItem ></apex:pageBlockSectionItem>
                                <apex:pageBlockSectionItem id="StorageUsePbs">
                                    <apex:outputLabel value="Storage Use" />
                                    <apex:outputPanel >
                                        <apex:outputPanel styleClass="requiredInput" layout="block">
                                            <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                            <apex:selectList value="{!fullQWrapper.storageUse}" size="1" >
                                                <apex:selectOptions value="{!storageUseOptionsList}" id="StorageUseOption"/>
                                            </apex:selectList>
                                        </apex:outputPanel>
                                    </apex:outputPanel>
                                </apex:pageBlockSectionItem>
                            </apex:pageBlockSection>
                        </apex:outputPanel>
                        <br/>
                        <br/>
                    </apex:outputPanel>
                    <apex:pageBlockSection title="Standard Modification"  collapsible="false" rendered="{!IF((fullQWrapper.selectedFullQUote != 'rental' && fullQWrapper.selectedFullQUote != 'Rental'),true,false)}"/>
                    <apex:pageBlockSection id="stdModColpseExpndId" title="Expand/Collapse" columns="1" collapsible="true" rendered="{!IF((fullQWrapper.selectedFullQUote != 'rental' && fullQWrapper.selectedFullQUote != 'Rental'),true,false)}">
                        <apex:outputPanel id="stdModificationOuterPenal">
                            <apex:outputPanel id="stdModificationPenal" rendered="{!IF((fullQWrapper.selectedFullQUote != 'rental' && fullQWrapper.selectedFullQUote != 'Rental'),true,false)}">
                                <table  width="50%">
                                    <tr bgcolor="#F8F8F8">
                                        <td width="10%">
                                            <b>Select</b>
                                        </td>
                                        <td width="42%">
                                            <b>MODIFICATION OPTION</b>
                                        </td>
                                        <td width="11%">
                                            <b>Qty</b>
                                        </td>
                                        <td width="20%">
                                            <b>Sale Price</b>
                                        </td>
                                    </tr>
                                </table>
                                <div style="overflow:scroll; width:50%; height:220px;">
                                    <table id="product_grid2" width="100%">
                                        <!-- <tr bgcolor="#F8F8F8"><td><b>Select</b></td><td><b>MODIFICATION OPTION</b></td><td><b>Qty</b></td><td><b>Sale Price</b></td></tr> -->
                                        <apex:repeat value="{!stdModificationList}" var="l">
                                            <tr bgcolor="#F2F2F2">
                                                <td  width="10%">
                                                    <apex:inputCheckbox value="{!l.isSelected}" disabled="{!fullQWrapper.disableModificationSelection}">
                                                        <apex:actionSupport status="stdMChange" event="onchange" action="{!onChangeModification}" reRender="stdMButtonOp,btnPanel" />
                                                    </apex:inputCheckbox> &nbsp;&nbsp; 
                                                      
                                    
                                                 
                                                 
                                                
                                                </td>
                                                <td  width="60%">
                                                    <apex:outputLabel value="{!l.modificationOption}" />
                                                </td>
                                                <td  width="10%">
                                                    <apex:inputText value="{!l.Quantity}"   onkeypress="return onlyNumbers(event)"  Style="width:20px;position:relative;"  maxlength="2" disabled="{!fullQWrapper.disableModificationSelection}"/>
                                                </td>
                                                <td width="20%">
                                                    <apex:inputText value="{!l.price}" disabled="{!fullQWrapper.disableModificationPrice}"/>
                                                </td>
                                            </tr>
                                        </apex:repeat>
                                    </table>
                                </div>
                                <br/>
                                <br/>
                                <!--           <apex:commandButton id="stdMButton" value="Send To Branch" status="sts" disabled="{!fullQWrapper.showSubmitButton}" onclick="showModificationPopUp();" action="{!getApprovers}" rerender="approverPanel" rendered="{!isSenderButton}"/>
                                -->
                                <apex:outputPanel id="stdMButtonOp">
                                    <apex:commandButton id="stdMButton" value="Send To Branch" status="sts"  disabled="{!fullQWrapper.showSubmitButton}"  action="{!sendToBranchModification}" rerender="approverPanel" rendered="{!IF(isProductAlreadyAdded && (!isApproverButton),true,false)}"/>
                                    <apex:commandButton id="stdMButton2" value="Approve" status="sts" action="{!sendToBranchModification}" rerender="approverPanel" rendered="{!isApproverButton}"/>
                                    <apex:commandButton id="stdMButton3" value="Reject" status="sts" action="{!sendToBranchModification}" rerender="approverPanel" rendered="{!isApproverButton}">
                                        <apex:Param name="ApprovalStatus" value="Rejected"/>
                                    </apex:commandButton>
                                </apex:outputPanel>
                                <apex:actionStatus id="stdMChange" >
                                    <apex:facet name="start">
                                        <apex:image value="{!$Resource.Loading}" width="20" height="20"/>
                                    </apex:facet>
                                    <apex:facet name="stop"></apex:facet>
                                </apex:actionStatus>
                            </apex:outputPanel>
                            <apex:outputPanel id="stdModificationHistoryPenal" rendered="{!IF(fullQWrapper.selectedFullQUote = 'sales',true,false)}">
                                <apex:pageBlockSection title="Standard Modification Approval History"  collapsible="false" rendered="{!IF(fullQWrapper.selectedFullQUote = 'sales',true,false)}"/>
                                <apex:pageBlockTable value="{!stdModificationHistoryList}" var="smh" >
                                    <apex:column headerValue="Modification Option" width="55%">
                                        <apex:outputText value="{!smh.modificationOption}" />
                                    </apex:column>
                                    <apex:column headerValue="Date Time" width="15%">
                                        <apex:outputText value="{!smh.WorkflowActionDateTime}" />
                                    </apex:column>
                                    <apex:column headerValue="User" width="15%">
                                        <apex:outputText value="{!smh.Submitter}" />
                                    </apex:column>
                                    <apex:column headerValue="Approval Status" width="15%">
                                        <apex:outputText value="{!smh.WorkflowStatus}" />
                                    </apex:column>
                                </apex:pageBlockTable>
                            </apex:outputPanel>
                        </apex:outputPanel>
                        <script>
                                if(document.getElementById('{!$Component.blockId.stdModColpseExpndId}') != null){
                                     twistSection(document.getElementById('{!$Component.blockId.stdModColpseExpndId}').childNodes[0].childNodes[0]);
                                 }
                            </script>
                    </apex:pageBlockSection>
                    <br/>
                    <br/>
                    <center >
                        <apex:outputPanel id="productAddbutton">
                            <apex:outputLabel style="color:#F00;" value="Please validate shipping address to add a product" rendered="{!!fullQWrapper.enableProductadd}"/>
                            <br/>
                            <apex:outputLabel style="color:#F00;" value="Please delete the main product from the Product Summary Lines to add a product!" rendered="{!IF(isProductAlreadyAdded && isPoductSelected && fullQWrapper.showEditProduct ,true,false)}"/>
                            <apex:outputPanel id="Addbuttonpnal" rendered="{!IF(((!(isProductAlreadyAdded) && isPoductSelected) || ((isTransTmoboORseco && !(isProductAlreadyAdded) && isPoductSelected) || (isTransTmoboORseco && isProductAlreadyAdded && isAccessorySelected) || (isTransTmoboORseco && !(isProductAlreadyAdded) && isAccessorySelected)))&& fullQWrapper.showEditProduct && fullQWrapper.enableProductadd,true,false)}">
                                <input type="Button" value="Add" onclick="addProd();" style="width:8%; height:10%; font-size:15px; font-weight: bold; "/>
                                <!-- <apex:commandButton value="Add" status="sts" onclick="addProd();"  oncomplete="ResetProductRentalLength()"  rendered="{!IF(((!(isProductAlreadyAdded) && isPoductSelected) || ((isTransTmoboORseco && !(isProductAlreadyAdded) && isPoductSelected) || (isTransTmoboORseco && isProductAlreadyAdded && isAccessorySelected) || (isTransTmoboORseco && !(isProductAlreadyAdded) && isAccessorySelected)))&& fullQWrapper.showEditProduct && fullQWrapper.enableProductadd,true,false)}" reRender="btnPanel,outoutOptionId" style="width:8%; height:10%; font-size:15px; font-weight: bold; "/> -->
                            </apex:outputPanel>
                        </apex:outputPanel>
                    </center>
                    <br/>
                    <br/>
                    <apex:actionStatus id="sts" >
                        <apex:facet name="start">
                            <center>
                                <font color="Red">
                                    <b>Loading....</b>
                                </font>
                            </center>
                            <br/>
                        </apex:facet>
                    </apex:actionStatus>
                    <apex:outputPanel id="summaryPanel">
                        <apex:pageBlockSection title="Product Summary Lines" columns="1"  collapsible="false">
                            <apex:pageBlockTable value="{!summaryLineList}" var="l" >
                                <apex:column width="4%">
                                    <!-- <apex:commandLink status="sts" onClick="removeSLine('{!l.lineCount}','sLineId')" action="{!removeLineItemSummaryLine}" rerender="summaryPanel,extrasPanel,editProductPanel,btnPanel,outoutOptionId,invoiceTabMainContainer,productAddbutton,errorMessageTop" > -->
                                    <apex:image onClick="return removeSLine('{!l.lineCount}','sLineId');" value="{!$Resource.removeIcon}" style="height:13px;width:13px;cursor:pointer;" />
                                    <!-- </apex:commandLink> -->
                                </apex:column>
                                <!-- <apex:column width="5%"><apex:inputCheckbox value="{!l.isSelected}" /></apex:column> -->
                                <apex:column headerValue="Line" width="7%">
                                    <apex:outputText value="{!l.lineCount}" />
                                </apex:column>
                                <apex:column headerValue="Item">
                                    <apex:outputText value="{!l.itemId}" />
                                </apex:column>
                                <apex:column headerValue="Description">
                                    <apex:outputText value="{!l.Description}" />
                                </apex:column>
                                <apex:column headerValue="E-Code" rendered="{!isSales}">
                                    <apex:outputText value="{!l.ecode}" />
                                </apex:column>
                                <apex:column headerValue="Qty">
                                    <!-- <apex:outputText value="{!l.quantity}" /> -->
                                    <apex:outputText value="{!l.quantity}" />
                                </apex:column>
                                <apex:column headerValue="Price">
                                    <apex:outputText value="{!l.price}" />
                                </apex:column>
                                <apex:column headerValue="Total">
                                    <apex:outputText value="{0, number,###,#####0.00}" >
                                        <apex:param value="{!l.LockTypeTotal}" />
                                    </apex:outputText>
                                </apex:column>
                            </apex:pageBlockTable>
                        </apex:pageBlockSection>
                    </apex:outputPanel>
                    <br/>
                    <apex:pageBlockSection id="prodSrchPbs" title="Product Search"  collapsible="true" columns="1">
                        <apex:outputPanel >
                            <br/>
                            <center>
                                <div class="borderbox">
                                    <br/>
                                    <apex:outputPanel id="rentalProdSearch" rendered="{!!IF(fullQWrapper.selectedFullQUote = 'sales',true,false)}">
                                        <br/>
                                        <font style="float:left;padding-left:20px;" color="red">Either Search with pattern or select primary only.</font>
                                        <br/>
                                        <br/>
                                        <br/>
                                        <table align="center" width="100%">
                                            <tr>
                                                <td  style="padding-left:20px;" align="left" colspan="4">
                                                    <apex:outputLabel value="Search Pattern" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                 
                                                    <apex:inputText onkeyup="DisabledPrimary(this);" id="searchPattern" style="width:150px;" value="{!fullQWrapper.productSearchWord}" />
                                                </td>
                                            </tr>
                                            <tr>
                                                <td  style="padding-left:20px;" align="left" colspan="4">
                                                    <apex:outputPanel id="TransTmoboORseco1" rendered="{!isTransTmoboORseco}">
                                                        <apex:outputLabel value="Delivery/Set Up" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                  
                                                        <apex:selectList size="1" value="{!fullQWrapper.deliverySetUp}" onchange="UnchackPrimary();" id="delSetUp">
                                                            <apex:selectOption itemValue="" itemLabel="-None-"/>
                                                            <apex:selectOption itemValue="Block & Level" itemLabel="Block & Level"/>
                                                            <apex:selectOption itemValue="Anchors" itemLabel="Anchors"/>
                                                            <apex:selectOption itemValue="Steps" itemLabel="Steps"/>
                                                            <apex:selectOption itemValue="Ramp Set Up/Removal" itemLabel="Ramp Set Up/Removal"/>
                                                            <apex:selectOption itemValue="Skirting" itemLabel="Skirting"/>
                                                            <apex:selectOption itemValue="Install Tires" itemLabel="Install Tires"/>
                                                            <apex:selectOption itemValue="Extra Decking" itemLabel="Extra Decking"/>
                                                            <apex:selectOption itemValue="Above Ground" itemLabel="Above Ground"/>
                                                        </apex:selectList>
                                                    </apex:outputPanel>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td  style="padding-left:20px;" align="left" colspan="4">
                                                    <apex:outputPanel id="TransTmoboORseco2" rendered="{!isTransTmoboORseco}">
                                                        <apex:outputLabel value="Return/Teardown" />&nbsp;&nbsp;&nbsp;
                                  
                                                        <apex:selectList size="1" style="width:155px;" value="{!fullQWrapper.returnTearDown}" onchange="UnchackPrimary();" id="retTearD">
                                                            <apex:selectOption itemValue="" itemLabel="-None-"/>
                                                            <apex:selectOption itemValue="Unblocking" itemLabel="Unblocking"/>
                                                            <apex:selectOption itemValue="Up Anchors" itemLabel="Up Anchors"/>
                                                            <apex:selectOption itemValue="Steps" itemLabel="Steps"/>
                                                            <apex:selectOption itemValue="Disconnect Utilities" itemLabel="Disconnect Utilities"/>
                                                            <apex:selectOption itemValue="Switch Back" itemLabel="Switch Back"/>
                                                            <apex:selectOption itemValue="Remove Skirting" itemLabel="Remove Skirting"/>
                                                            <apex:selectOption itemValue="Remove Tires" itemLabel="Remove Tires"/>
                                                            <apex:selectOption itemValue="Below Ground" itemLabel="Below Ground"/>
                                                        </apex:selectList>
                                                    </apex:outputPanel>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>&nbsp;</td>
                                                <td>&nbsp;</td>
                                                <td>&nbsp;</td>
                                                <td>&nbsp;</td>
                                            </tr>
                                            <tr>
                                                <td  style="padding-left:20px;" colspan="4">
                                                    <table>
                                                        <tr>
                                                            <!--<td width="37%"><apex:outputLabel value="Product Type" />&nbsp;&nbsp;&nbsp;
                                  <apex:selectList onchange="SelectPrimaryOnly();" id="productTypeSelectOption" value="{!fullQWrapper.ProductType}" size="1"><apex:selectOption itemValue="" itemLabel="-None-"/><apex:selectOption itemValue="CONT" itemLabel="Container"/><apex:selectOption itemValue="SECURITY" itemLabel="Security"/><apex:selectOption itemValue="MOBILE" itemLabel="Mobiles"/><apex:selectOption itemValue="VTRAILER" itemLabel="Trailers"/><apex:selectOption itemValue="" itemLabel="Other"/></apex:selectList></td>
                              -->
                                                            <td>
                                                                <apex:outputLabel value="Product Type" />
                                                            </td>
                                                            <td align="left">
                                                                <apex:outputPanel id="ptr">
                                                                    <apex:repeat value="{!productTypesListNew}" var="l">
                                                                        <input type="radio" name="SelectedRadioPT" value="{!l.RecUniqId}" onclick="SelectedPTfunc('{!l.RecUniqId}');"/>
                                              &nbsp;&nbsp; 
                                                                        <apex:outputText value="{!l.productType}" />
                                                                        <br/>
                                                                    </apex:repeat>
                                                                </apex:outputPanel>
                                                            </td>
                                                            <!--    <td width="35%"><apex:outputLabel value="Product Size" />&nbsp;&nbsp;&nbsp;
                                  <apex:selectList onchange="SelectPrimaryOnly();" id="productSizeSelectOption" value="{!fullQWrapper.ProductSize}" size="1"><apex:selectOption itemValue="" itemLabel="-None-"/><apex:selectOption itemValue="5-9" itemLabel="5-9"/><apex:selectOption itemValue="10-19" itemLabel="10-19"/><apex:selectOption itemValue="20-29" itemLabel="20-29"/><apex:selectOption itemValue="30-39" itemLabel="30-39"/><apex:selectOption itemValue="40+" itemLabel="40+"/></apex:selectList> -->
                                                            <td>
                                             &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  
                                                                <apex:outputLabel value="Product Size" />
                                                            </td>
                                                            <td align="left">
                                                                <apex:outputPanel id="psr">
                                                                    <apex:repeat value="{!productSizesListNew}" var="l">
                                                                        <input type="radio" name="SelectedRadioPS" value="{!l.RecUniqId}" onclick="SelectedPSfunc('{!l.RecUniqId}');"/>
                                               &nbsp;&nbsp; 
                                                                        <apex:outputText value="{!l.productSize}" />
                                                                        <br/>
                                                                    </apex:repeat>
                                                                </apex:outputPanel>
                                                            </td>
                                                            <td align="right" style="padding-left: 10px;">
                                                                <!-- <apex:outputLabel value="Product Features" />&nbsp;&nbsp;&nbsp; -->
                                                            </td>
                                                            <td align="left">
                                                                <!-- <apex:inputCheckbox disabled="true" value="{!fullQWrapper.SideRollDoors}"/><apex:outputLabel style="position:relative;left:8px;" value="Side Roll Doors" /><br/><apex:inputCheckbox disabled="true" value="{!fullQWrapper.EndRollDoors}"/><apex:outputLabel style="position:relative;left:8px;" value="End Roll Doors" /><br/><apex:inputCheckbox disabled="true" value="{!fullQWrapper.RecordStorage}"/><apex:outputLabel style="position:relative;left:8px;" value="Record Storage" /><br/><apex:inputCheckbox disabled="true" value="{!fullQWrapper.HighCubes}"/><apex:outputLabel style="position:relative;left:8px;" value="High Cubes" /><br/><apex:inputCheckbox disabled="true" value="{!fullQWrapper.Shelving}"/><apex:outputLabel style="position:relative;left:8px;" value="Shelving" /><br/> -->
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td align="left" style="padding-left: 20px;" colspan="4">
                                                    <apex:outputLabel value="Primary Only" />&nbsp;&nbsp;
                                
                                                    <apex:inputCheckbox selected="true" id="PrimaryOnly" value="{!fullQWrapper.PrimaryOnly}"/>
                                                </td>
                                            </tr>
                                        </table>
                                        <br/>
                                        <apex:actionStatus id="SearchLoad">
                                            <apex:facet name="stop">
                                                <apex:commandButton style="display:block;margin: 0 auto auto auto;" value="Search" onclick="ExpandProductList();" action="{!ProductSearch}" status="SearchLoad" reRender="productsList,errorMessageTop,rentalSectionPBId,ptr,psr,searchPattern,delSetUp,retTearD,resetSearchOuterOp,PrimaryOnly"/>
                                            </apex:facet>
                                            <apex:facet name="start">
                                                <apex:commandButton style="display:block;margin: 0 auto auto auto;" value="Loading..." styleclass="readmore" disabled="true" status="SearchLoad" />
                                            </apex:facet>
                                        </apex:actionStatus>
                                        <br/>
                                        <br/>
                                        <apex:outputPanel id="resetSearchOuterOp">
                                            <apex:outputPanel id="resetSearchInnerOp" rendered="{!isProductSearchCompleted}">
                                                <script>
                                document.getElementById('SelectedPT').value = '';
                                document.getElementById('SelectedPS').value = '';
                                SelectPrimaryOnly();
                            </script>
                                            </apex:outputPanel>
                                        </apex:outputPanel>
                                    </apex:outputPanel>
                                    <apex:outputPanel rendered="{!IF(fullQWrapper.selectedFullQUote = 'sales',true,false)}">
                                        <table align="center" width="80%">
                                            <tr>
                                                <td colspan="2">
                                                    <apex:outputLabel value="Search Pattern" />&nbsp;&nbsp;&nbsp;
                                              
                                                    <apex:inputText id="searchPatternSales" style="width:150px;" value="{!fullQWrapper.productSearchWord}" />
                                                </td>
                                            </tr>
                                        </table>
                                        <br/>
                                        <apex:actionStatus id="SearchLoadSales">
                                            <apex:facet name="stop">
                                                <apex:commandButton value="Search"  action="{!searchSalesInventory}" status="SearchLoadSales" reRender="productsListSalesWrapper,errorMessageTop,rentalSectionPBId"/>
                                            </apex:facet>
                                            <apex:facet name="start">
                                                <apex:commandButton value="Loading..." styleclass="readmore" disabled="true" status="SearchLoadSales" />
                                            </apex:facet>
                                        </apex:actionStatus>
                                        <br/>
                                        <br/>
                                    </apex:outputPanel>
                                </div>
                            </center>
                        </apex:outputPanel>
                        <script>
                            if(document.getElementById('{!$Component.blockId.prodSrchPbs}') != null){
                                 twistSection(document.getElementById('{!$Component.blockId.prodSrchPbs}').childNodes[0].childNodes[0]);
                             }
                        </script>
                    </apex:pageBlockSection>
                    <br/>
                    <br/>
                    <apex:actionStatus id="SearchLoad1">
                        <apex:facet name="stop"></apex:facet>
                        <apex:facet name="start">
                            <center>
                                <font color="Red">
                                    <b>Loading....</b>
                                </font>
                            </center>
                            <br/>
                        </apex:facet>
                    </apex:actionStatus>
                </apex:tab>
                <!-- Invoicing Tab -->
                <apex:tab style="font-family:Verdana;background-color:#F2F2F2;;" name="Invoicing" label="Invoicing" ontabenter="callproductTab('invoice')">
                    <apex:outputPanel id="invoiceTabMainContainer">
                        <apex:pageBlockSection rendered="{!!isSales}" title="Contract Value" collapsible="false" id="ContractValueSecId">
                            <apex:pageBlockSectionItem >
                                <apex:outputLabel value="Rental Charge" />
                                <apex:outputPanel >
                                    <apex:inputText value="{!fullQWrapper.RentalCharge}" disabled="true">
                                        <!--                                        <apex:actionsupport event="onchange"  action="{!invoicingTabbuttonEnableDesable}" rerender="btnPanel,outoutOptionId" /> -->
                                    </apex:inputText>
                                </apex:outputPanel>
                            </apex:pageBlockSectionItem>
                            <!--    <apex:pageBlockSectionItem ><apex:outputLabel value="Fuel Surcharge" /><apex:outputPanel ><apex:inputText value="{!fullQWrapper.fuelSurchargeInShipping}" disabled="true"><apex:actionsupport event="onchange"  action="{!invoicingTabbuttonEnableDesable}" rerender="btnPanel,outoutOptionId" /></apex:inputText></apex:outputPanel></apex:pageBlockSectionItem>
                                
                                -->
                            <apex:pageBlockSectionItem >
                                <apex:outputLabel value="Delivery" />
                                <apex:outputPanel >
                                    <apex:inputText value="{!fullQWrapper.DeliveryInInvoicing}"  disabled="true" onchange="ChangeBtnStatus();" />
                                    <apex:actionStatus id="periodStatusDel" >
                                        <apex:facet name="start">
                                            <apex:image value="{!$Resource.Loading}" width="20" height="20"/>
                                        </apex:facet>
                                        <apex:facet name="stop"></apex:facet>
                                    </apex:actionStatus>
                                </apex:outputPanel>
                            </apex:pageBlockSectionItem>
                            <apex:pageBlockSectionItem >
                                <apex:outputLabel value="LLW" />
                                <apex:outputPanel >
                                    <apex:inputText value="{!fullQWrapper.LLWTotal}" disabled="true">
                                        <!--                                        <apex:actionsupport event="onchange"  action="{!invoicingTabbuttonEnableDesable}" rerender="btnPanel,outoutOptionId" /> -->
                                    </apex:inputText>
                                </apex:outputPanel>
                            </apex:pageBlockSectionItem>
                            <apex:pageBlockSectionItem >
                                <apex:outputLabel value="Pickup"/>
                                <apex:outputPanel >
                                    <apex:inputText value="{!fullQWrapper.pickupCharge}"  disabled="true" >
                                        <!--                                        <apex:actionsupport event="onchange"  action="{!invoicingTabbuttonEnableDesable}" rerender="btnPanel,outoutOptionId" /> -->
                                    </apex:inputText>
                                </apex:outputPanel>
                            </apex:pageBlockSectionItem>
                            <apex:pageBlockSectionItem >
                                <apex:outputLabel value="Other" />
                                <apex:outputPanel >
                                    <apex:inputText value="{!fullQWrapper.otherInInvoicing}" disabled="true">
                                        <!--                                        <apex:actionsupport event="onchange"  action="{!invoicingTabbuttonEnableDesable}" rerender="btnPanel,outoutOptionId" /> -->
                                    </apex:inputText>
                                </apex:outputPanel>
                            </apex:pageBlockSectionItem>
                            <apex:pageBlockSectionItem >
                                <apex:outputLabel value="Accessories" />
                                <apex:outputPanel >
                                    <apex:inputText value="{!fullQWrapper.Accessories}" disabled="true">
                                        <!--                                        <apex:actionsupport event="onchange"  action="{!invoicingTabbuttonEnableDesable}" rerender="btnPanel,outoutOptionId" /> -->
                                    </apex:inputText>
                                </apex:outputPanel>
                            </apex:pageBlockSectionItem>
                            <apex:pageBlockSectionItem >
                                <apex:outputLabel value="COD Amount" />
                                <apex:outputPanel >
                                    <apex:inputText value="{!fullQWrapper.CODAmount}" disabled="true">
                                        <!--                                        <apex:actionsupport event="onchange"  action="{!invoicingTabbuttonEnableDesable}" rerender="btnPanel,outoutOptionId" /> -->
                                    </apex:inputText> (Excluding Tax)
                                    
                                </apex:outputPanel>
                            </apex:pageBlockSectionItem>
                            <apex:pageBlockSectionItem >
                                <apex:outputLabel value="Total COD Amount" />
                                <apex:outputPanel >
                                    <apex:inputText value="{!fullQWrapper.TotalCODAmount}" disabled="true">
                                        <!--                                        <apex:actionsupport event="onchange"  action="{!invoicingTabbuttonEnableDesable}" rerender="btnPanel,outoutOptionId" /> -->
                                    </apex:inputText>
                                </apex:outputPanel>
                            </apex:pageBlockSectionItem>
                            <apex:pageBlockSectionItem >
                                <apex:outputLabel value="Tax" />
                                <apex:outputPanel >
                                    <apex:inputText value="{!fullQWrapper.TaxTotal}" disabled="true">
                                        <!--                                        <apex:actionsupport event="onchange"  action="{!invoicingTabbuttonEnableDesable}" rerender="btnPanel,outoutOptionId" /> -->
                                    </apex:inputText>
                                </apex:outputPanel>
                            </apex:pageBlockSectionItem>
                            <apex:pageBlockSectionItem >
                                <apex:outputLabel value="PPE Total" />
                                <apex:outputPanel >
                                    <apex:inputText value="{!fullQWrapper.PPETotal}" disabled="true">
                                        <!--                                        <apex:actionsupport event="onchange"  action="{!invoicingTabbuttonEnableDesable}" rerender="btnPanel,outoutOptionId" /> -->
                                    </apex:inputText>
                                </apex:outputPanel>
                            </apex:pageBlockSectionItem>
                        </apex:pageBlockSection>
                        <apex:pageBlockSection rendered="{!isSales}" title="Contract Value" collapsible="false" id="ContractValueSecIdInvoice">
                            <apex:pageBlockSectionItem >
                                <apex:outputLabel value="Unit Price" />
                                <apex:inputText value="{!fullQWrapper.unitPriceInvoice}"  disabled="true"/>
                            </apex:pageBlockSectionItem>
                            <apex:pageBlockSectionItem >
                                <apex:outputLabel value="Delivery" />
                                <apex:outputPanel >
                                    <apex:inputText value="{!fullQWrapper.DeliveryInInvoicing}"  disabled="true" onchange="ChangeBtnStatus();" />
                                    <apex:actionStatus id="periodStatusDel" >
                                        <apex:facet name="start">
                                            <apex:image value="{!$Resource.Loading}" width="20" height="20"/>
                                        </apex:facet>
                                        <apex:facet name="stop"></apex:facet>
                                    </apex:actionStatus>
                                </apex:outputPanel>
                            </apex:pageBlockSectionItem>
                            <apex:pageBlockSectionItem >
                                <apex:outputLabel value="Extras" />
                                <apex:inputText value="{!fullQWrapper.extrasInvoice}"  disabled="true"/>
                            </apex:pageBlockSectionItem>
                            <apex:pageBlockSectionItem >
                                <apex:outputLabel value="Tax" />
                                <apex:inputText value="{!fullQWrapper.taxInvoice}"  disabled="true"/>
                            </apex:pageBlockSectionItem>
                            <apex:pageBlockSectionItem >
                                <apex:outputLabel value="Total" />
                                <apex:inputText value="{!fullQWrapper.totalInvoice}"  disabled="true"/>
                            </apex:pageBlockSectionItem>
                            <apex:pageBlockSectionItem ></apex:pageBlockSectionItem>
                        </apex:pageBlockSection>
                        <apex:pageBlockSection title="Invoicing" collapsible="false" id="invoidingtsectionId">
                            <apex:pageBlockSectionItem >
                                <apex:outputLabel value="Terms" />
                                <apex:inputText id="invoiceTermsId" value="{!fullQWrapper.Terms}" disabled="true"/>
                            </apex:pageBlockSectionItem>
                            <apex:pageBlockSectionItem >
                                <apex:outputLabel value="Terms Code" />
                                <apex:inputText value="{!fullQWrapper.TermsCode}" disabled="true"/>
                            </apex:pageBlockSectionItem>
                            <apex:pageBlockSectionItem >
                                <apex:outputLabel value="Invoiced Balance" />
                                <apex:inputText value="{!fullQWrapper.InvoicedBalance}" disabled="true"/>
                            </apex:pageBlockSectionItem>
                            <apex:pageBlockSectionItem >
                                <apex:outputLabel value="Last Invoice" />
                                <apex:inputText value="{!fullQWrapper.LastInvoice}" disabled="true"/>
                            </apex:pageBlockSectionItem>
                            <apex:pageBlockSectionItem >
                                <apex:outputLabel value="YTD Sales" />
                                <apex:inputText value="{!fullQWrapper.YTDSales}" disabled="true"/>
                            </apex:pageBlockSectionItem>
                        </apex:pageBlockSection>
                        <apex:pageBlockSection title="Output Options" collapsible="false" id="outoutOptionId" rendered="{!fullQWrapper.enableSaveQuote}">
                            <apex:pageBlockSectionItem >
                                <apex:outputLabel ></apex:outputLabel>
                                <apex:commandLink style="text-decoration: none;" action="{!previewQuote}" value="Preview/Print Quote" target="_blank" styleClass="btn"/>
                            </apex:pageBlockSectionItem>
                            <apex:pageBlockSectionItem rendered="{!IF(docId != null && cloneIsTrue = '',true,false)}">
                                <apex:outputLabel ></apex:outputLabel>
                                <!--                                                <apex:commandButton value="E-Mail Quote"  onclick="SendingMailPopUp()" rerender="EmailQuotePanel" /> -->
                                <input type="Button" value="E-Mail Quote" onclick="SendingMailPopUp()"  />
                            </apex:pageBlockSectionItem>
                        </apex:pageBlockSection>
                        <apex:pageBlockSection title="Output Options" collapsible="false" rendered="{!!fullQWrapper.enableSaveQuote}">
                            <apex:pageBlockSectionItem >
                                <apex:outputLabel ></apex:outputLabel>
                                <apex:commandButton value="Preview/Print Quote"  disabled="true"/>
                            </apex:pageBlockSectionItem>
                            <apex:pageBlockSectionItem >
                                <apex:outputLabel ></apex:outputLabel>
                                <apex:commandButton value="E-Mail Quote" disabled="true" />
                            </apex:pageBlockSectionItem>
                            <apex:pageBlockSectionItem >
                                <apex:outputLabel ></apex:outputLabel>
                                <apex:commandButton value="Fax Quote" disabled="true" />
                            </apex:pageBlockSectionItem>
                            <apex:pageBlockSectionItem ></apex:pageBlockSectionItem>
                        </apex:pageBlockSection>
                    </apex:outputPanel>
                </apex:tab>
            </apex:tabPanel>
            <!-- Analysis set code popup -->
            <div id="analysisSetCodePopup" style="display:none;">
                <apex:outputpanel id="analysisSetCodePanel">
                    <apex:outputPanel styleClass="stylePopupBackground" layout="block" />
                    <apex:outputPanel styleClass="stylePopup" layout="block" >
                        <apex:commandLink action="{!cancelAnalysisSetCodeSearch}" reRender="analysisSetCodePanel" onclick="hideCancelAnalysisSetCodePopUp();">
                            <apex:image style="position:relative;left:700px;" value="{!$Resource.WindowCloseLogo}" width="30" height="30"/>
                        </apex:commandLink>
                        <apex:outputPanel rendered="{!!fullQWrapper.showAnalysisCodePopup}">
                            <div align="center">
                                <img src="{!$Resource.Loading}" />
                                <br/>
                                <br/>
                                <font color="Red">
                                    <b>Loading....</b>
                                </font>
                            </div>
                        </apex:outputPanel>
                        <apex:pageblock title="Select transaction analysis set" rendered="{!fullQWrapper.showAnalysisCodePopup}">
                            <apex:outputLabel value="Id" />&nbsp;&nbsp;
                                          
                            <apex:inputText value="{!qqWrapper.analysisIdSearchWord}" >
                                <apex:actionsupport event="onkeyup" action="{!analysisSetCodeSearch}" rerender="pan3" />
                            </apex:inputText>&nbsp;&nbsp;&nbsp;&nbsp;
                                          
                            <apex:outputLabel value="Description" />&nbsp;&nbsp;
                                          
                            <apex:inputText value="{!qqWrapper.analysisNameSearchWord}" >
                                <apex:actionsupport event="onkeyup" action="{!analysisSetCodeSearch}" rerender="pan3" />
                            </apex:inputText>&nbsp;&nbsp;&nbsp;&nbsp;  
                            <br/>
                            <br/>
                            <div style="overflow:scroll; width:100%; height:200px;">
                                <apex:outputPanel id="pan3">
                                    <table id="analysisCodeBilling_grid" width="100%">
                                        <tr bgcolor="#F8F8F8">
                                            <td>
                                                <b>Id</b>
                                            </td>
                                            <td>
                                                <b>Description</b>
                                            </td>
                                        </tr>
                                        <apex:repeat value="{!AnalysisSetCodeResponseList}" var="l" rendered="{!!fullQWrapper.showSearchAnalysisSetCodeInBilling}" >
                                            <tr id="{!l.Id}" bgcolor="#F2F2F2">
                                                <td onclick="changeRowColorInAnalysisSetBilling(document.getElementById('{!l.Id}'),'{!l.Id}','selectedAnalysisInBilling')" >
                                                    <apex:outputText value="{!l.Id}" />
                                                </td>
                                                <td onclick="changeRowColorInAnalysisSetBilling(document.getElementById('{!l.Id}'),'{!l.Id}','selectedAnalysisInBilling')" >
                                                    <apex:outputText value="{!l.description}" />
                                                </td>
                                            </tr>
                                        </apex:repeat>
                                        <apex:repeat value="{!AnalysisSetCodeResponseSearchList}" var="l" rendered="{!fullQWrapper.showSearchAnalysisSetCodeInBilling}" >
                                            <tr id="{!l.Id}" bgcolor="#F2F2F2">
                                                <td onclick="changeRowColorInAnalysisSetBilling(document.getElementById('{!l.Id}'),'{!l.Id}','selectedAnalysisInBilling')" >
                                                    <apex:outputText value="{!l.Id}" />
                                                </td>
                                                <td onclick="changeRowColorInAnalysisSetBilling(document.getElementById('{!l.Id}'),'{!l.Id}','selectedAnalysisInBilling')" >
                                                    <apex:outputText value="{!l.description}" />
                                                </td>
                                            </tr>
                                        </apex:repeat>
                                    </table>
                                </apex:outputPanel>
                            </div>
                            <br/>
                            <center>
                                <apex:commandButton value="Ok" onclick="hideAnalysisSetCodePopUp();" action="{!analysisSetCodeSelected}" reRender="analysisSetCodePanel,analysisSetCodePanelInBilling"/>
                                <apex:commandButton value="Cancel"  action="{!cancelAnalysisSetCodeSearch}" onclick="hideCancelAnalysisSetCodePopUp();" reRender="analysisSetCodePanel"/>
                            </center>
                        </apex:pageblock>
                    </apex:outputPanel>
                </apex:outputpanel>
            </div>
            <!-- Analysis set code popup for fields in delivery plan section in shipping tab -->
            <div id="analysisSetCodeShippingPopup" style="display:none;">
                <apex:outputpanel id="analysisSetCodeShippingPanel">
                    <apex:outputPanel styleClass="analysiSetPopupBackground" layout="block" />
                    <apex:outputPanel styleClass="analysiSetPopup" layout="block" >
                        <apex:commandLink action="{!cancelAnalysisSetCodeSearch}" reRender="analysisSetCodeShippingPanel" onclick="hideCancelAnalysisSetCodeShippingPopUp();">
                            <apex:image style="position:relative;left:700px;" value="{!$Resource.WindowCloseLogo}" width="30" height="30"/>
                        </apex:commandLink>
                        <apex:outputPanel rendered="{!!fullQWrapper.showAnalysisCodeShippingPopup}">
                            <div align="center">
                                <img src="{!$Resource.Loading}" />
                                <br/>
                                <br/>
                                <font color="Red">
                                    <b>Loading....</b>
                                </font>
                            </div>
                        </apex:outputPanel>
                        <apex:pageblock title="Select transaction analysis set" rendered="{!fullQWrapper.showAnalysisCodeShippingPopup}">
                            <apex:outputLabel value="Id" />&nbsp;&nbsp;
                                          
                            <apex:inputText value="{!qqWrapperShipping.analysisIdSearchWord}" >
                                <apex:actionsupport event="onkeyup" action="{!analysisSetCodeSeachFunInShipping}" rerender="pan4" />
                            </apex:inputText>&nbsp;&nbsp;&nbsp;&nbsp;
                                          
                            <apex:outputLabel value="Description" />&nbsp;&nbsp;
                                          
                            <apex:inputText value="{!qqWrapperShipping.analysisNameSearchWord}" >
                                <apex:actionsupport event="onkeyup" action="{!analysisSetCodeSeachFunInShipping}" rerender="pan4" />
                            </apex:inputText>&nbsp;&nbsp;&nbsp;&nbsp;  
                            <br/>
                            <br/>
                            <div style="overflow:scroll; width:100%; height:200px;">
                                <apex:outputPanel id="pan4">
                                    <table id="analysisCodeShipping_grid" width="100%">
                                        <tr bgcolor="#F8F8F8">
                                            <td>
                                                <b>Id</b>
                                            </td>
                                            <td>
                                                <b>Description</b>
                                            </td>
                                        </tr>
                                        <apex:repeat value="{!analysisSetCodesResponseListInShipping}" var="l" rendered="{!!fullQWrapper.showSearchAnalysisSetCodeInShipping}" >
                                            <tr id="{!l.Id}" bgcolor="#F8F8F8">
                                                <td onclick="changeRowColorInAnalysisSetShipping(document.getElementById('{!l.Id}'),'{!l.Id}','selectedAnalysisInShipping')" >
                                                    <apex:outputText value="{!l.Id}" />
                                                </td>
                                                <td onclick="changeRowColorInAnalysisSetShipping(document.getElementById('{!l.Id}'),'{!l.Id}','selectedAnalysisInShipping')" >
                                                    <apex:outputText value="{!l.description}" />
                                                </td>
                                            </tr>
                                        </apex:repeat>
                                        <apex:repeat value="{!AnalysisSetCodeResponseSearchShippingList}" var="l" rendered="{!fullQWrapper.showSearchAnalysisSetCodeInShipping}" >
                                            <tr id="{!l.Id}" bgcolor="#F2F2F2">
                                                <td onclick="changeRowColorInAnalysisSetShipping(document.getElementById('{!l.Id}'),'{!l.Id}','selectedAnalysisInShipping')" >
                                                    <apex:outputText value="{!l.Id}" />
                                                </td>
                                                <td onclick="changeRowColorInAnalysisSetShipping(document.getElementById('{!l.Id}'),'{!l.Id}','selectedAnalysisInShipping')" >
                                                    <apex:outputText value="{!l.description}" />
                                                </td>
                                            </tr>
                                        </apex:repeat>
                                    </table>
                                </apex:outputPanel>
                            </div>
                            <br/>
                            <center>
                                <apex:commandButton value="Ok" action="{!analysisSetCodeSelectedInShipping}" onclick="hideAnalysisSetCodeShippingPopUp();" reRender="analysisSetCodeShippingPanel,deliveryPlanSecId"/>
                                <apex:commandButton value="Cancel"  action="{!cancelAnalysisSetCodeSelectedInShipping}" onclick="hideCancelAnalysisSetCodeShippingPopUp();" reRender="analysisSetCodeShippingPanel"/>
                            </center>
                        </apex:pageblock>
                    </apex:outputPanel>
                </apex:outputpanel>
            </div>
            <!-- Sales Rep popup -->
            <div id="salesRepPopUp" style="display:none;">
                <apex:outputpanel id="salesRepPanel">
                    <apex:outputPanel styleClass="analysiSetPopupBackground" layout="block" />
                    <apex:outputPanel styleClass="analysiSetPopup" layout="block" >
                        <apex:commandLink status="salesrepId" action="{!cancelSalesPopUp}" onclick="hideCancelsalesPopUp();" reRender="salesRepPanel">
                            <apex:image style="position:relative;left:700px;" value="{!$Resource.WindowCloseLogo}" width="30" height="30"/>
                        </apex:commandLink>
                        <apex:outputPanel rendered="{!!fullQWrapper.showSalesRepPopup}">
                            <div align="center">
                                <img src="{!$Resource.Loading}" />
                                <br/>
                                <br/>
                                <font color="Red">
                                    <b>Loading....</b>
                                </font>
                            </div>
                        </apex:outputPanel>
                        <apex:pageblock title="Select Sales Rep" rendered="{!fullQWrapper.showSalesRepPopup}">
                            <!-- <apex:outputLabel value="Branch" />&nbsp;&nbsp;
                                          <apex:selectList value="{!fullQWrapper.selectedUserBranchId}" style="width:70px;"  multiselect="false" size="1"  id="userBranchIds" ><apex:selectOptions value="{!lstUserBranchId}"/><apex:actionsupport status="userBranchIdsStatus" event="onchange"  action="{!FetchSalesReps}" rerender="pan5" /></apex:selectList><apex:actionStatus id="userBranchIdsStatus" ><apex:facet name="start"><apex:image value="{!$Resource.Loading}" width="20" height="20"/></apex:facet><apex:facet name="stop"></apex:facet></apex:actionStatus>
                                 
                                          &nbsp;&nbsp; -->
                            <apex:outputLabel value="Branch Id" />&nbsp;&nbsp;
                            <apex:inputText value="{!qqWrapper.writeUpRepSearchBranchId}" >
                                <apex:actionsupport event="onchange" action="{!salesRepSearch}" status="searchRepStatus1" rerender="pan5" />
                            </apex:inputText>&nbsp;&nbsp;
                            <apex:actionStatus id="searchRepStatus1" >
	                             <apex:facet name="start">
	                                 <apex:image value="{!$Resource.Loading}" width="20" height="20"/>
	                             </apex:facet>
	                             <apex:facet name="stop"></apex:facet>
                            </apex:actionStatus> &nbsp;&nbsp;
                                          
                            <apex:outputLabel value="Id" />&nbsp;&nbsp;
                            <apex:inputText value="{!qqWrapper.writeUpRepIdSearchWord}" >
                                <apex:actionsupport event="onkeyup" action="{!SalesRepSearchFun}" rerender="pan5" />
                            </apex:inputText>&nbsp;&nbsp;&nbsp;&nbsp;
                                          
                            <apex:outputLabel value="Name" />&nbsp;&nbsp;
                            <apex:inputText value="{!qqWrapper.writeUpRepNameSearchWord}" >
                                <apex:actionsupport event="onkeyup" action="{!SalesRepSearchFun}" rerender="pan5" />
                            </apex:inputText>&nbsp;&nbsp;&nbsp;&nbsp;  
                            <br/>
                            <br/>
                            <apex:outputPanel id="pan5" >
                                <table  width="100%">
                                    <tr bgcolor="#F8F8F8">
                                        <td>
                                            <b>Id</b>
                                        </td>
                                        <td>
                                            <b>Name</b>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="2">
                                            <div style="overflow:scroll; width:100%; height:200px;">
                                                <table id="billingAddr_grid" width="100%">
                                                    <apex:repeat value="{!SalesReps}" var="l" rendered="{!!fullQWrapper.showWriteUpRepSearchList}" >
                                                        <tr id="{!l.Id}" bgcolor="#F2F2F2">
                                                            <td ondblclick="changeRowColorInWriteUpRepondblclick(document.getElementById('{!l.Id}'),'{!l.Id}','selectedWriteUpRep')" onclick="changeRowColorInWriteUpRep(document.getElementById('{!l.Id}'),'{!l.Id}','selectedWriteUpRep')" >
                                                                <apex:outputText value="{!l.Id}" />
                                                            </td>
                                                            <td ondblclick="changeRowColorInWriteUpRepondblclick(document.getElementById('{!l.Id}'),'{!l.Id}','selectedWriteUpRep')" onclick="changeRowColorInWriteUpRep(document.getElementById('{!l.Id}'),'{!l.Id}','selectedWriteUpRep')" >
                                                                <apex:outputText value="{!l.Name}" />
                                                            </td>
                                                        </tr>
                                                    </apex:repeat>
                                                    <apex:repeat value="{!SalesRepsSearchList}" var="l" rendered="{!fullQWrapper.showWriteUpRepSearchList}" >
                                                        <tr id="{!l.Id}" bgcolor="#F2F2F2">
                                                            <td ondblclick="changeRowColorInWriteUpRepondblclick(document.getElementById('{!l.Id}'),'{!l.Id}','selectedWriteUpRep')" onclick="changeRowColorInWriteUpRep(document.getElementById('{!l.Id}'),'{!l.Id}','selectedWriteUpRep')" >
                                                                <apex:outputText value="{!l.Id}" />
                                                            </td>
                                                            <td ondblclick="changeRowColorInWriteUpRepondblclick(document.getElementById('{!l.Id}'),'{!l.Id}','selectedWriteUpRep')" onclick="changeRowColorInWriteUpRep(document.getElementById('{!l.Id}'),'{!l.Id}','selectedWriteUpRep')" >
                                                                <apex:outputText value="{!l.Name}" />
                                                            </td>
                                                        </tr>
                                                    </apex:repeat>
                                                </table>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                            </apex:outputPanel>
                            <br/>
                            <center>
                                <div  id="writerepUpDivEnable" style="display:none;" >
                                    <apex:commandButton status="salesrepId" rendered="{!fullQWrapper.isSalesRep}" value="Ok" onclick="hidesalesPopUp();" action="{!SalesRepSelected}" reRender="salesRepPanel,WriteUpRepId,writeUpName"/>
                                    <apex:commandButton status="AsssalesrepId" rendered="{!!fullQWrapper.isSalesRep}" value="Ok" onclick="hidesalesPopUp();" action="{!AssistingSalesRepSelected}" reRender="assistingRepId,assistingRepNameId,salesRepPanelAssing"/>
                                    <apex:commandButton status="salesrepId" value="Cancel"  rendered="{!fullQWrapper.isSalesRep}" action="{!cancelSalesPopUp}" onclick="hideCancelsalesPopUp();" reRender="salesRepPanel"/>
                                    <apex:commandButton status="AsssalesrepId" value="Cancel"  rendered="{!!fullQWrapper.isSalesRep}" action="{!cancelSalesPopUp}" onclick="hideCancelsalesPopUp();" reRender="salesRepPanel"/>
                                </div>
                                <div id="writerepUpDivDislable">
                                    <apex:commandButton status="salesrepId" rendered="{!fullQWrapper.isSalesRep}" value="Ok" disabled="true"/>
                                    <apex:commandButton status="salesrepId" rendered="{!!fullQWrapper.isSalesRep}" value="Ok" disabled="true" />
                                    <apex:commandButton status="salesrepId" value="Cancel"  rendered="{!fullQWrapper.isSalesRep}" action="{!cancelSalesPopUp}" onclick="hideCancelsalesPopUp();" reRender="salesRepPanel"/>
                                    <apex:commandButton status="AsssalesrepId" value="Cancel"  rendered="{!!fullQWrapper.isSalesRep}" action="{!cancelSalesPopUp}" onclick="hideCancelsalesPopUp();" reRender="salesRepPanel"/>
                                </div>
                            </center>
                        </apex:pageblock>
                    </apex:outputPanel>
                </apex:outputpanel>
            </div>
            <div id="salesRepPopUpforAssign" style="display:none;">
                <apex:outputpanel id="salesRepPanelAssing">
                    <apex:outputPanel styleClass="analysiSetPopupBackground" layout="block" />
                    <apex:outputPanel styleClass="analysiSetPopup" layout="block" >
                        <apex:commandLink status="AsssalesrepId" action="{!cancelSalesPopUp}" onclick="hideCancelsalesPopUpAssing();" reRender="salesRepPanelAssing">
                            <apex:image style="position:relative;left:700px;" value="{!$Resource.WindowCloseLogo}" width="30" height="30"/>
                        </apex:commandLink>
                        <apex:outputPanel rendered="{!!fullQWrapper.showSalesRepPopup}">
                            <div align="center">
                                <img src="{!$Resource.Loading}" />
                                <br/>
                                <br/>
                                <font color="Red">
                                    <b>Loading....</b>
                                </font>
                            </div>
                        </apex:outputPanel>
                        <apex:pageblock title="Select Sales Rep" rendered="{!fullQWrapper.showSalesRepPopup}">
                            <apex:outputLabel value="Branch Id" />&nbsp;&nbsp;
                            <apex:inputText value="{!qqWrapper.writeUpRepSearchBranchId}" >
                                <apex:actionsupport event="onchange" action="{!salesRepSearch}" status="searchRepStatus" rerender="pan5" />
                            </apex:inputText>&nbsp;&nbsp;
                            <apex:actionStatus id="searchRepStatus" >
                                    <apex:facet name="start">
                                        <apex:image value="{!$Resource.Loading}" width="20" height="20"/>
                                    </apex:facet>
                                    <apex:facet name="stop"></apex:facet>
                                </apex:actionStatus> &nbsp;&nbsp;
                            
                            <apex:outputLabel value="Id" />&nbsp;&nbsp;
                            <apex:inputText value="{!qqWrapper.writeUpRepIdSearchWord}" >
                                <apex:actionsupport event="onkeyup" action="{!SalesRepSearchFun}" rerender="pan5" />
                            </apex:inputText>&nbsp;&nbsp;&nbsp;&nbsp;
                            
                            <apex:outputLabel value="Name" />&nbsp;&nbsp;
                            <apex:inputText value="{!qqWrapper.writeUpRepNameSearchWord}" >
                                <apex:actionsupport event="onkeyup" action="{!SalesRepSearchFun}" rerender="pan5" />
                            </apex:inputText>&nbsp;&nbsp;&nbsp;&nbsp;  
                            <br/>
                            <br/>
                            <apex:outputPanel id="pan5" >
                                <table width="100%">
                                    <tr bgcolor="#F8F8F8">
                                        <td>
                                            <b>Id</b>
                                        </td>
                                        <td>
                                            <b>Name</b>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="2">
                                            <div style="overflow:scroll; width:100%; height:200px;">
                                                <table id="billingAddr_grid" width="100%">
                                                    <apex:repeat value="{!SalesReps}" var="l" rendered="{!!fullQWrapper.showWriteUpRepSearchList}" >
                                                        <tr id="{!l.Id}" bgcolor="#F2F2F2">
                                                            <td ondblclick="changeRowColorInAssingondblclick(document.getElementById('{!l.Id}'),'{!l.Id}','selectedWriteUpRep')" onclick="changeRowColorInAssing(document.getElementById('{!l.Id}'),'{!l.Id}','selectedWriteUpRep')" >
                                                                <apex:outputText value="{!l.Id}" />
                                                            </td>
                                                            <td ondblclick="changeRowColorInAssingondblclick(document.getElementById('{!l.Id}'),'{!l.Id}','selectedWriteUpRep')" onclick="changeRowColorInAssing(document.getElementById('{!l.Id}'),'{!l.Id}','selectedWriteUpRep')" >
                                                                <apex:outputText value="{!l.Name}" />
                                                            </td>
                                                        </tr>
                                                    </apex:repeat>
                                                    <apex:repeat value="{!SalesRepsSearchList}" var="l" rendered="{!fullQWrapper.showWriteUpRepSearchList}" >
                                                        <tr id="{!l.Id}" bgcolor="#F2F2F2">
                                                            <td ondblclick="changeRowColorInAssingondblclick(document.getElementById('{!l.Id}'),'{!l.Id}','selectedWriteUpRep')" onclick="changeRowColorInAssing(document.getElementById('{!l.Id}'),'{!l.Id}','selectedWriteUpRep')" >
                                                                <apex:outputText value="{!l.Id}" />
                                                            </td>
                                                            <td ondblclick="changeRowColorInAssingondblclick(document.getElementById('{!l.Id}'),'{!l.Id}','selectedWriteUpRep')" onclick="changeRowColorInAssing(document.getElementById('{!l.Id}'),'{!l.Id}','selectedWriteUpRep')" >
                                                                <apex:outputText value="{!l.Name}" />
                                                            </td>
                                                        </tr>
                                                    </apex:repeat>
                                                </table>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                            </apex:outputPanel>
                            <br/>
                            <center>
                                <div  id="AssingDivEnable" style="display:none;" >
                                    <apex:commandButton status="salesrepId" rendered="{!fullQWrapper.isSalesRep}" value="Ok" onclick="hidesalesPopUp();" action="{!SalesRepSelected}" reRender="formId"/>
                                    <apex:commandButton status="AsssalesrepId" rendered="{!!fullQWrapper.isSalesRep}" value="Ok" onclick="hidesalesPopUp();" action="{!AssistingSalesRepSelected}" reRender="formId"/>
                                    <apex:commandButton status="salesrepId" value="Cancel"  rendered="{!fullQWrapper.isSalesRep}" action="{!cancelSalesPopUp}" onclick="hideCancelsalesPopUpAssing();" reRender="salesRepPanelAssing"/>
                                    <apex:commandButton status="AsssalesrepId" value="Cancel"  rendered="{!!fullQWrapper.isSalesRep}" action="{!cancelSalesPopUp}" onclick="hideCancelsalesPopUpAssing();" reRender="salesRepPanelAssing"/>
                                </div>
                                <div id="AssingDivDislable">
                                    <apex:commandButton status="salesrepId" rendered="{!fullQWrapper.isSalesRep}" value="Ok" disabled="true"/>
                                    <apex:commandButton status="salesrepId" rendered="{!!fullQWrapper.isSalesRep}" value="Ok" disabled="true" />
                                    <apex:commandButton status="salesrepId" value="Cancel"  rendered="{!fullQWrapper.isSalesRep}" action="{!cancelSalesPopUp}" onclick="hideCancelsalesPopUpAssing();" reRender="salesRepPanelAssing"/>
                                    <apex:commandButton status="AsssalesrepId" value="Cancel"  rendered="{!!fullQWrapper.isSalesRep}" action="{!cancelSalesPopUp}" onclick="hideCancelsalesPopUpAssing();" reRender="salesRepPanelAssing"/>
                                </div>
                            </center>
                        </apex:pageblock>
                    </apex:outputPanel>
                </apex:outputpanel>
            </div>
            <!-- Contacts popup -->
            <div id="contactIdPopUp" style="display:none;">
                <apex:outputpanel id="contactPanel">
                    <apex:outputPanel styleClass="analysiSetPopupBackground" layout="block" />
                    <apex:outputPanel styleClass="analysiSetPopup" layout="block" >
                        <apex:commandLink action="{!cancelContactPopUp}" oncomplete="hideCancelContactPopUp();" reRender="contactPanel" >
                            <apex:image style="position:relative;left:700px;" value="{!$Resource.WindowCloseLogo}" width="30" height="30"/>
                        </apex:commandLink>
                        <apex:outputPanel rendered="{!!fullQWrapper.contactPopup}">
                            <div align="center">
                                <img src="{!$Resource.Loading}" />
                                <br/>
                                <br/>
                                <font color="Red">
                                    <b>Loading....</b>
                                </font>
                            </div>
                        </apex:outputPanel>
                        <apex:pageblock title="Select Contact" rendered="{!fullQWrapper.contactPopup}">
                            <div style="overflow:scroll; width:100%; height:200px;">
                                <apex:outputPanel id="pan6">
                                    <table id="ConBilling_grid" width="100%">
                                        <tr bgcolor="#F8F8F8">
                                            <td>
                                                <b>ContactId</b>
                                            </td>
                                            <td>
                                                <b>First Name</b>
                                            </td>
                                            <td>
                                                <b>Last Name</b>
                                            </td>
                                        </tr>
                                        <apex:repeat value="{!contactsResponseList}" var="l" rendered="{!!fullQWrapper.showContactSearchInBilling}" >
                                            <tr id="{!l.contactId}" bgcolor="#F2F2F2">
                                                <td ondblclick="changeRowColorInContactBillingondblclick(document.getElementById('{!l.contactId}'),'{!l.contactId}','selectedContactBilling')" onclick="changeRowColorInContactBilling(document.getElementById('{!l.contactId}'),'{!l.contactId}','selectedContactBilling')" >
                                                    <apex:outputText value="{!l.contactId}" />
                                                </td>
                                                <td ondblclick="changeRowColorInContactBillingondblclick(document.getElementById('{!l.contactId}'),'{!l.contactId}','selectedContactBilling')" onclick="changeRowColorInContactBilling(document.getElementById('{!l.contactId}'),'{!l.contactId}','selectedContactBilling')" >
                                                    <apex:outputText value="{!l.forename}" />
                                                </td>
                                                <td ondblclick="changeRowColorInContactBillingondblclick(document.getElementById('{!l.contactId}'),'{!l.contactId}','selectedContactBilling')" onclick="changeRowColorInContactBilling(document.getElementById('{!l.contactId}'),'{!l.contactId}','selectedContactBilling')" >
                                                    <apex:outputText value="{!l.surname}" />
                                                </td>
                                            </tr>
                                        </apex:repeat>
                                        <apex:repeat value="{!contactsResponseSearchList}" var="l" rendered="{!fullQWrapper.showContactSearchInBilling}" >
                                            <tr id="{!l.contactId}" bgcolor="#F2F2F2">
                                                <td ondblclick="changeRowColorInContactBillingondblclick(document.getElementById('{!l.contactId}'),'{!l.contactId}','selectedContactBilling')" onclick="changeRowColorInContactBilling(document.getElementById('{!l.contactId}'),'{!l.contactId}','selectedContactBilling')" >
                                                    <apex:outputText value="{!l.contactId}" />
                                                </td>
                                                <td ondblclick="changeRowColorInContactBillingondblclick(document.getElementById('{!l.contactId}'),'{!l.contactId}','selectedContactBilling')" onclick="changeRowColorInContactBilling(document.getElementById('{!l.contactId}'),'{!l.contactId}','selectedContactBilling')" >
                                                    <apex:outputText value="{!l.forename}" />
                                                </td>
                                                <td ondblclick="changeRowColorInContactBillingondblclick(document.getElementById('{!l.contactId}'),'{!l.contactId}','selectedContactBilling')" onclick="changeRowColorInContactBilling(document.getElementById('{!l.contactId}'),'{!l.contactId}','selectedContactBilling')" >
                                                    <apex:outputText value="{!l.surname}" />
                                                </td>
                                            </tr>
                                        </apex:repeat>
                                    </table>
                                </apex:outputPanel>
                            </div>
                            <br/>
                            <center>
                                <div  id="billingcontactbuttonDivEnable" style="display:none; width: 50%;" >
                                    <apex:commandButton value="Ok" action="{!contactIdSelected}" onclick="hideContactPopUp();" status="onloadStatus" reRender="cc2Id,cc1Id,toAddressId,errorMessageTop,billingCantdId,billingContactId,billingContactLnId,telephoneId,billingEmailId,billingFaxId,billingMobileNo"/>
                                    <apex:commandButton value="Cancel"  action="{!cancelContactPopUp}" oncomplete="hideCancelContactPopUp();" reRender="contactPanel"/>
                                </div>
                                <div id="billingcontactbuttonDivDisalbe">
                                    <apex:commandButton value="Ok" disabled="true" />
                                    <apex:commandButton value="Cancel"  action="{!cancelContactPopUp}" oncomplete="hideCancelContactPopUp();" reRender="contactPanel"/>
                                </div>
                            </center>
                        </apex:pageblock>
                    </apex:outputPanel>
                </apex:outputpanel>
            </div>
            <!-- Address popup -->
            <div id="addressIdPopUp" style="display:none;">
                <apex:outputpanel id="addressPanel">
                    <apex:outputPanel styleClass="analysiSetPopupBackground" layout="block" />
                    <apex:outputPanel styleClass="analysiSetPopup" layout="block" >
                        <apex:commandLink action="{!cancelAddressIdSelected}" reRender="addressPanel" onclick="hideCancelAddressPopUp();">
                            <apex:image style="position:relative;left:700px;" value="{!$Resource.WindowCloseLogo}" width="30" height="30"/>
                        </apex:commandLink>
                        <apex:outputPanel rendered="{!!fullQWrapper.addressPopUp}">
                            <div align="center">
                                <img src="{!$Resource.Loading}" />
                                <br/>
                                <br/>
                                <font color="Red">
                                    <b>Loading....</b>
                                </font>
                            </div>
                        </apex:outputPanel>
                        <apex:pageblock title="Select Address" rendered="{!fullQWrapper.addressPopUp}">
                            <div style="overflow:scroll; width:100%; height:200px;">
                                <table id="billingAddr_grid" width="100%">
                                    <tr bgcolor="#F8F8F8">
                                        <td>
                                            <b>Address No</b>
                                        </td>
                                        <td>
                                            <b>Address Line1</b>
                                        </td>
                                        <td>
                                            <b>Address Line3</b>
                                        </td>
                                        <td>
                                            <b>State</b>
                                        </td>
                                        <td>
                                            <b>Country Id</b>
                                        </td>
                                        <td>
                                            <b>ZipCode</b>
                                        </td>
                                    </tr>
                                    <apex:repeat value="{!addressBillingList}" var="l" >
                                        <tr id="{!l.addressNo}" bgcolor="#F2F2F2">
                                            <td ondblclick="changeRowColorInBillingAddrondblclick(document.getElementById('{!l.addressNo}'),'{!l.addressNo}','selectedBillingAddr')" onclick="changeRowColorInBillingAddr(document.getElementById('{!l.addressNo}'),'{!l.addressNo}','selectedBillingAddr')" >
                                                <apex:outputText value="{!l.addressNo}" />
                                            </td>
                                            <td ondblclick="changeRowColorInBillingAddrondblclick(document.getElementById('{!l.addressNo}'),'{!l.addressNo}','selectedBillingAddr')" onclick="changeRowColorInBillingAddr(document.getElementById('{!l.addressNo}'),'{!l.addressNo}','selectedBillingAddr')" >
                                                <apex:outputText value="{!l.addressLine1}" />
                                            </td>
                                            <td ondblclick="changeRowColorInBillingAddrondblclick(document.getElementById('{!l.addressNo}'),'{!l.addressNo}','selectedBillingAddr')" onclick="changeRowColorInBillingAddr(document.getElementById('{!l.addressNo}'),'{!l.addressNo}','selectedBillingAddr')" >
                                                <apex:outputText value="{!l.addressLine3}" />
                                            </td>
                                            <td ondblclick="changeRowColorInBillingAddrondblclick(document.getElementById('{!l.addressNo}'),'{!l.addressNo}','selectedBillingAddr')" onclick="changeRowColorInBillingAddr(document.getElementById('{!l.addressNo}'),'{!l.addressNo}','selectedBillingAddr')" >
                                                <apex:outputText value="{!l.state}" />
                                            </td>
                                            <td ondblclick="changeRowColorInBillingAddrondblclick(document.getElementById('{!l.addressNo}'),'{!l.addressNo}','selectedBillingAddr')" onclick="changeRowColorInBillingAddr(document.getElementById('{!l.addressNo}'),'{!l.addressNo}','selectedBillingAddr')" >
                                                <apex:outputText value="{!l.countryId}" />
                                            </td>
                                            <td ondblclick="changeRowColorInBillingAddrondblclick(document.getElementById('{!l.addressNo}'),'{!l.addressNo}','selectedBillingAddr')" onclick="changeRowColorInBillingAddr(document.getElementById('{!l.addressNo}'),'{!l.addressNo}','selectedBillingAddr')" >
                                                <apex:outputText value="{!l.zipCode}" />
                                            </td>
                                        </tr>
                                    </apex:repeat>
                                </table>
                            </div>
                            <br/>
                            <center>
                                <div  id="AddressBillingDivEnable" style="display:none; width: 50%;" >
                                    <apex:commandButton value="Ok" action="{!addressIdSelected}" onclick="hideAddressPopUp();" status="onloadStatus" reRender="formId,errorMessageTop"/>
                                    <apex:commandButton value="Cancel"  action="{!cancelAddressIdSelected}" onclick="hideCancelAddressPopUp();" reRender="addressPanel"/>
                                </div>
                                <div id="AddressBilingDivDislable">
                                    <apex:commandButton value="Ok" disabled="true" />
                                    <apex:commandButton value="Cancel"  action="{!cancelAddressIdSelected}" onclick="hideCancelAddressPopUp();" reRender="addressPanel"/>
                                </div>
                            </center>
                        </apex:pageblock>
                    </apex:outputPanel>
                </apex:outputpanel>
            </div>
            <!-- Account popup -->
            <div id="accountIdPopUp" style="display:none;">
                <apex:outputpanel id="accountPanel">
                    <apex:outputPanel styleClass="analysiSetPopupBackground" layout="block" />
                    <apex:outputPanel styleClass="analysiSetPopup" layout="block" >
                        <apex:commandLink action="{!cancelAccountIdPopup}" reRender="accountPanel" onclick="hideCancelAccountPopUp();">
                            <apex:image style="position:relative;left:700px;" value="{!$Resource.WindowCloseLogo}" width="30" height="30"/>
                        </apex:commandLink>
                        <apex:outputPanel rendered="{!!fullQWrapper.showAccountPopUp}">
                            <div align="center">
                                <img src="{!$Resource.Loading}" />
                                <br/>
                                <br/>
                                <font color="Red">
                                    <b>Loading....</b>
                                </font>
                            </div>
                        </apex:outputPanel>
                        <apex:pageblock title="Select Account" rendered="{!fullQWrapper.showAccountPopUp}">
                            <table width="100%">
                                <tr bgcolor="#F8F8F8">
                                    <td width="8%">
                                        <b>Id</b>
                                    </td>
                                    <td width="21%" >
                                        <b>Name</b>
                                    </td>
                                    <td width="10%">
                                        <b>Address ID</b>
                                    </td>
                                    <td width="20%">
                                        <b>Address Line1</b>
                                    </td>
                                    <td width="17%">
                                        <b>Address Line3</b>
                                    </td>
                                    <td>
                                        <b>State</b>
                                    </td>
                                    <td>
                                        <b>Country</b>
                                    </td>
                                    <td>
                                        <b>ZipCode</b>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="8">
                                        <div style="overflow:scroll; width:100%; height:200px;">
                                            <table id="accBilling_grid" width="100%">
                                                <apex:repeat value="{!AccountResponseList}" var="l" >
                                                    <tr id="{!l.Id}" bgcolor="#F2F2F2">
                                                        <td onclick = "changeRowColorInAccBilling(document.getElementById('{!l.Id}'),'{!l.Id}','selectedAccBilling')" ondblclick="changeRowColorInAccBillingondblclick(document.getElementById('{!l.Id}'),'{!l.Id}','selectedAccBilling')" >
                                                            <apex:outputText value="{!l.Id}" />
                                                        </td>
                                                        <td width="22%" onclick = "changeRowColorInAccBilling(document.getElementById('{!l.Id}'),'{!l.Id}','selectedAccBilling')" ondblclick="changeRowColorInAccBillingondblclick(document.getElementById('{!l.Id}'),'{!l.Id}','selectedAccBilling')" >
                                                            <apex:outputText value="{!l.name}" />
                                                        </td>
                                                        <td width="10%" onclick = "changeRowColorInAccBilling(document.getElementById('{!l.Id}'),'{!l.Id}','selectedAccBilling')" ondblclick="changeRowColorInAccBillingondblclick(document.getElementById('{!l.Id}'),'{!l.Id}','selectedAccBilling')" >
                                                            <apex:outputText value="{!l.accountAddress.addressNo}" />
                                                        </td>
                                                        <td width="20%" onclick = "changeRowColorInAccBilling(document.getElementById('{!l.Id}'),'{!l.Id}','selectedAccBilling')" ondblclick="changeRowColorInAccBillingondblclick(document.getElementById('{!l.Id}'),'{!l.Id}','selectedAccBilling')" >
                                                            <apex:outputText value="{!l.accountAddress.addressLine1}" />
                                                        </td>
                                                        <td onclick = "changeRowColorInAccBilling(document.getElementById('{!l.Id}'),'{!l.Id}','selectedAccBilling')" ondblclick="changeRowColorInAccBillingondblclick(document.getElementById('{!l.Id}'),'{!l.Id}','selectedAccBilling')" >
                                                            <apex:outputText value="{!l.accountAddress.addressLine3}" />
                                                        </td>
                                                        <td width="5%" onclick = "changeRowColorInAccBilling(document.getElementById('{!l.Id}'),'{!l.Id}','selectedAccBilling')" ondblclick="changeRowColorInAccBillingondblclick(document.getElementById('{!l.Id}'),'{!l.Id}','selectedAccBilling')" >
                                                            <apex:outputText value="{!l.accountAddress.state}" />
                                                        </td>
                                                        <td width="6%" onclick = "changeRowColorInAccBilling(document.getElementById('{!l.Id}'),'{!l.Id}','selectedAccBilling')" ondblclick="changeRowColorInAccBillingondblclick(document.getElementById('{!l.Id}'),'{!l.Id}','selectedAccBilling')" >
                                                            <apex:outputText value="{!l.accountAddress.countryId}" />
                                                        </td>
                                                        <td onclick = "changeRowColorInAccBilling(document.getElementById('{!l.Id}'),'{!l.Id}','selectedAccBilling')" ondblclick="changeRowColorInAccBillingondblclick(document.getElementById('{!l.Id}'),'{!l.Id}','selectedAccBilling')" >
                                                            <apex:outputText value="{!l.accountAddress.zipCode}" />
                                                        </td>
                                                    </tr>
                                                </apex:repeat>
                                            </table>
                                        </div>
                                    </td>
                                </tr>
                            </table>
                            <br/>
                            <center>
                                <div id="AccountSearchEnable" style="display:none;" >
                                    <apex:commandButton value="Ok" action="{!accountIdSelected}" onclick="hideAccountPopUp();" status="onloadStatus"  reRender="formId,btnPanel,outoutOptionId,validatePanel1,fulFillingBranchPanelId,fulFillingBranchPanelId,productAddbutton,invoidingtsectionId,fulFillingBranchPanelId,shiipingAccountSectionId,cityShippingId,countyShippingId,countrySatatePanel,zipCodeSectionId,ShippingdistFromBranch,ShippingdeliveryZoneInShipping,summaryPanel,extrasPanel,editProductPanel,productAddbutton,errorMessageTop"/>
                                    <apex:commandButton value="Cancel"  action="{!cancelAccountIdPopup}" onclick="hideCancelAccountPopUp();" reRender="accountPanel,validatePanel1,fulFillingBranchPanelId,btnPanel,outoutOptionId"/>
                                </div>
                                <div id="AccountSearchDislable">
                                    <apex:commandButton value="Ok" disabled="true" />
                                    <apex:commandButton value="Cancel"  action="{!cancelAccountIdPopup}" onclick="hideCancelAccountPopUp();" reRender="accountPanel,validatePanel1,fulFillingBranchPanelId,btnPanel,outoutOptionId"/>
                                </div>
                            </center>
                        </apex:pageblock>
                    </apex:outputPanel>
                </apex:outputpanel>
            </div>
            <!-- Ecode popup -->
            <div id="ecodeIdPopUp" style="display:none;">
                <apex:outputpanel id="ecodePanel">
                    <apex:outputPanel styleClass="analysiSetPopupBackground" layout="block" />
                    <apex:outputPanel styleClass="ecodeSetPopup" layout="block" >
                        <apex:commandLink action="{!cancelAllocationIdPopup}" reRender="ecodePanel" onclick="hideCancelAllocationPopUp();">
                            <apex:image style="position:relative;left:700px;" value="{!$Resource.WindowCloseLogo}" width="30" height="30"/>
                        </apex:commandLink>
                        <apex:outputPanel rendered="{!!fullQWrapper.showEcodePopUp}">
                            <div align="center">
                                <img src="{!$Resource.Loading}" />
                                <br/>
                                <br/>
                                <font color="Red">
                                    <b>Loading....</b>
                                </font>
                            </div>
                        </apex:outputPanel>
                        <apex:pageblock id="ecodeAllocationPBTableId" title="Select Ecode" rendered="{!fullQWrapper.showEcodePopUp}">
                            <div style="overflow:scroll; width:100%; height:200px;">
                                <table id="allocation_grid" width="100%">
                                    <tr bgcolor="#F8F8F8">
                                        <td>
                                            <b>Ecode</b>
                                        </td>
                                        <td>
                                            <b>Reference</b>
                                        </td>
                                        <td>
                                            <b>Status</b>
                                        </td>
                                        <td>
                                            <b>Available Date</b>
                                        </td>
                                        <td>
                                            <b>Cost</b>
                                        </td>
                                        <td>
                                            <b>Netbook Value</b>
                                        </td>
                                    </tr>
                                    <apex:repeat value="{!eCodeAllocationList}" var="l" >
                                        <tr id="{!l.ecode}" bgcolor="#F2F2F2">
                                            <td ondblClick="changeRowColorInAllocationDblClk(document.getElementById('{!l.ecode}'),'{!l.ecode}','ecodeSelactedValue');" onclick="changeRowColorInAllocation(document.getElementById('{!l.ecode}'),'{!l.ecode}','ecodeSelactedValue')" >
                                                <apex:outputText value="{!l.ecode}" />
                                            </td>
                                            <td ondblClick="changeRowColorInAllocationDblClk(document.getElementById('{!l.ecode}'),'{!l.ecode}','ecodeSelactedValue');" onclick="changeRowColorInAllocation(document.getElementById('{!l.ecode}'),'{!l.ecode}','ecodeSelactedValue')" >
                                                <apex:outputText value="{!l.reference}" />
                                            </td>
                                            <td ondblClick="changeRowColorInAllocationDblClk(document.getElementById('{!l.ecode}'),'{!l.ecode}','ecodeSelactedValue');" onclick="changeRowColorInAllocation(document.getElementById('{!l.ecode}'),'{!l.ecode}','ecodeSelactedValue')" >
                                                <apex:outputText value="{!l.status}" />
                                            </td>
                                            <td ondblClick="changeRowColorInAllocationDblClk(document.getElementById('{!l.ecode}'),'{!l.ecode}','ecodeSelactedValue');" onclick="changeRowColorInAllocation(document.getElementById('{!l.ecode}'),'{!l.ecode}','ecodeSelactedValue')" >
                                                <apex:outputText value="{!l.availableDate}" />
                                            </td>
                                            <td ondblClick="changeRowColorInAllocationDblClk(document.getElementById('{!l.ecode}'),'{!l.ecode}','ecodeSelactedValue');" onclick="changeRowColorInAllocation(document.getElementById('{!l.ecode}'),'{!l.ecode}','ecodeSelactedValue')" >
                                                <apex:outputText value="{!l.cost}" />
                                            </td>
                                            <td ondblClick="changeRowColorInAllocationDblClk(document.getElementById('{!l.ecode}'),'{!l.ecode}','ecodeSelactedValue');" onclick="changeRowColorInAllocation(document.getElementById('{!l.ecode}'),'{!l.ecode}','ecodeSelactedValue')" >
                                                <apex:outputText value="{!l.netBookValue}" />
                                            </td>
                                        </tr>
                                    </apex:repeat>
                                </table>
                            </div>
                            <br/>
                            <center>
                                <div  id="AllocationDivEnable" style="display:none; width: 50%;" >
                                    <apex:commandButton value="Ok" action="{!allocationIdSelected}" onclick="hideAllocationPopUp();" status="onloadStatus"  reRender="ecodePanel,btnPanel,outoutOptionId,salesProductionSection,productAddbutton,errorMessageTop,salesItemCode,salesSuggestedPrice,ecodeInputTextId,salesMinimumPrice,salesNetbookValueWrapper,salesSellingPrice,salesAssetDescription"/>
                                    <apex:commandButton value="Cancel"  action="{!cancelAllocationIdPopup}" onclick="hideCancelAllocationPopUp();" reRender="ecodePanel,btnPanel,outoutOptionId,salesProductionSection,productAddbutton,errorMessageTop,salesItemCode,salesSuggestedPrice,ecodeInputTextId,salesMinimumPrice,salesNetbookValueWrapper,salesSellingPrice,salesAssetDescription"/>
                                </div>
                                <div  id="AllocationDivDisable" >
                                    <apex:commandButton disabled="true"  value="Ok" action="{!allocationIdSelected}" onclick="hideAllocationPopUp();" status="onloadStatus"  reRender="ecodePanel,btnPanel,outoutOptionId,salesProductionSection,productAddbutton,errorMessageTop,salesItemCode,salesSuggestedPrice,ecodeInputTextId,salesMinimumPrice,salesNetbookValueWrapper,salesSellingPrice,salesAssetDescription"/>
                                    <apex:commandButton value="Cancel"  action="{!cancelAllocationIdPopup}" onclick="hideCancelAllocationPopUp();" reRender="ecodePanel,btnPanel,outoutOptionId,salesProductionSection,productAddbutton,errorMessageTop,salesItemCode,salesSuggestedPrice,ecodeInputTextId,salesMinimumPrice,salesNetbookValueWrapper,salesSellingPrice,salesAssetDescription"/>
                                </div>
                            </center>
                        </apex:pageblock>
                    </apex:outputPanel>
                </apex:outputpanel>
            </div>
            <!-- Shipping Contacts popup -->
            <div id="shippingContactIdPopUp" style="display:none;">
                <apex:outputpanel id="shippingContactPanel">
                    <apex:outputPanel styleClass="analysiSetPopupBackground" layout="block" />
                    <apex:outputPanel styleClass="analysiSetPopup" layout="block" >
                        <apex:commandLink action="{!cancelShippingContactPopUp}" onclick="hideCancelShippingContactPopUp();" reRender="shippingContactPanel">
                            <apex:image style="position:relative;left:700px;" value="{!$Resource.WindowCloseLogo}" width="30" height="30"/>
                        </apex:commandLink>
                        <apex:outputPanel rendered="{!!fullQWrapper.contactShippingPopUp}">
                            <div align="center">
                                <img src="{!$Resource.Loading}" />
                                <br/>
                                <br/>
                                <font color="Red">
                                    <b>Loading....</b>
                                </font>
                            </div>
                        </apex:outputPanel>
                        <apex:pageblock title="Select Contact" rendered="{!fullQWrapper.contactShippingPopUp}">
                            <!--      <apex:outputLabel value="Id" />&nbsp;&nbsp;
                                          <apex:inputText style="width:50px;" value="{!qqWrapper.contactIdSearchWord}" ><apex:actionsupport event="onkeyup" action="{!seachContactsInShipping}" rerender="pan7" /></apex:inputText>&nbsp;&nbsp;&nbsp;&nbsp;
                                          
                                          <apex:outputLabel value="First Name" />&nbsp;&nbsp;
                                          <apex:inputText value="{!qqWrapper.contactFNameSearchWord}" ><apex:actionsupport event="onkeyup" action="{!seachContactsInShipping}" rerender="pan7" /></apex:inputText>&nbsp;&nbsp;&nbsp;&nbsp; 
                                          
                                          <apex:outputLabel value="Last Name" />&nbsp;&nbsp;
                                          <apex:inputText value="{!qqWrapper.contactLNameSearchWord}" ><apex:actionsupport event="onkeyup" action="{!seachContactsInShipping}" rerender="pan7" /></apex:inputText>&nbsp;&nbsp;&nbsp;&nbsp;
                                          
                                           <br/><br/>  
                                          -->
                            <div style="overflow:scroll; width:100%; height:200px;">
                                <apex:outputPanel id="pan7">
                                    <table id="ConShipping_grid" width="100%">
                                        <tr bgcolor="#F8F8F8">
                                            <td>
                                                <b>ContactId</b>
                                            </td>
                                            <td>
                                                <b>First Name</b>
                                            </td>
                                            <td>
                                                <b>Last Name</b>
                                            </td>
                                        </tr>
                                        <apex:repeat value="{!contactsResponseList}" var="l" rendered="{!!fullQWrapper.showContactSearchInBilling}" >
                                            <tr id="{!l.contactId}" bgcolor="#F2F2F2">
                                                <td ondblclick="changeRowColorInContactShippingondblclick(document.getElementById('{!l.contactId}'),'{!l.contactId}','selectedContactShipping')"  onclick="changeRowColorInContactShipping(document.getElementById('{!l.contactId}'),'{!l.contactId}','selectedContactShipping')" >
                                                    <apex:outputText value="{!l.contactId}" />
                                                </td>
                                                <td ondblclick="changeRowColorInContactShippingondblclick(document.getElementById('{!l.contactId}'),'{!l.contactId}','selectedContactShipping')"  onclick="changeRowColorInContactShipping(document.getElementById('{!l.contactId}'),'{!l.contactId}','selectedContactShipping')" >
                                                    <apex:outputText value="{!l.forename}" />
                                                </td>
                                                <td ondblclick="changeRowColorInContactShippingondblclick(document.getElementById('{!l.contactId}'),'{!l.contactId}','selectedContactShipping')"  onclick="changeRowColorInContactShipping(document.getElementById('{!l.contactId}'),'{!l.contactId}','selectedContactShipping')" >
                                                    <apex:outputText value="{!l.surname}" />
                                                </td>
                                            </tr>
                                        </apex:repeat>
                                        <apex:repeat value="{!contactsResponseList}" var="l" rendered="{!fullQWrapper.showContactSearchInBilling}" >
                                            <tr id="{!l.contactId}" bgcolor="#F2F2F2">
                                                <td ondblclick="changeRowColorInContactShippingondblclick(document.getElementById('{!l.contactId}'),'{!l.contactId}','selectedContactShipping')"  onclick="changeRowColorInContactShipping(document.getElementById('{!l.contactId}'),'{!l.contactId}','selectedContactShipping')" >
                                                    <apex:outputText value="{!l.contactId}" />
                                                </td>
                                                <td ondblclick="changeRowColorInContactShippingondblclick(document.getElementById('{!l.contactId}'),'{!l.contactId}','selectedContactShipping')"  onclick="changeRowColorInContactShipping(document.getElementById('{!l.contactId}'),'{!l.contactId}','selectedContactShipping')" >
                                                    <apex:outputText value="{!l.forename}" />
                                                </td>
                                                <td ondblclick="changeRowColorInContactShippingondblclick(document.getElementById('{!l.contactId}'),'{!l.contactId}','selectedContactShipping')"  onclick="changeRowColorInContactShipping(document.getElementById('{!l.contactId}'),'{!l.contactId}','selectedContactShipping')" >
                                                    <apex:outputText value="{!l.surname}" />
                                                </td>
                                            </tr>
                                        </apex:repeat>
                                    </table>
                                </apex:outputPanel>
                            </div>
                            <br/>
                            <center>
                                <div  id="shippingcontactListDivEnable" style="display:none; width: 50%;" >
                                    <apex:commandButton value="Ok" action="{!shippingContactIdSelected}" onclick="hideShippingContactPopUp();" status="onloadStatus" reRender="deliveryContactId,deliveryConatId"/>
                                    <apex:commandButton value="Cancel"  action="{!cancelShippingContactPopUp}" onclick="hideCancelShippingContactPopUp();" reRender="shippingContactPanel,delTelId, delFaxId, delEmailId"/>
                                </div>
                                <div id="shippingcontactListDivDislable">
                                    <apex:commandButton value="Ok" disabled="true" />
                                    <apex:commandButton value="Cancel"  action="{!cancelShippingContactPopUp}" onclick="hideCancelShippingContactPopUp();" reRender="shippingContactPanel"/>
                                </div>
                            </center>
                        </apex:pageblock>
                    </apex:outputPanel>
                </apex:outputpanel>
            </div>
            <!-- Shipping Address popup -->
            <div id="shippingAddressIdPopUp" style="display:none;">
                <apex:outputpanel id="shippingAddressPanel">
                    <apex:outputPanel styleClass="analysiSetPopupBackground" layout="block" />
                    <apex:outputPanel styleClass="analysiSetPopup" layout="block" >
                        <apex:commandLink action="{!cancelShippingAddressIdSelected}" reRender="shippingAddressPanel,validatePanel1,fulFillingBranchPanelId,btnPanel,outoutOptionId" onclick="hideCancelShippingAddressPopUp();">
                            <apex:image style="position:relative;left:700px;" value="{!$Resource.WindowCloseLogo}" width="30" height="30"/>
                        </apex:commandLink>
                        <apex:outputPanel rendered="{!!fullQWrapper.shippingAddressPopUp}">
                            <div align="center">
                                <img src="{!$Resource.Loading}" />
                                <br/>
                                <br/>
                                <font color="Red">
                                    <b>Loading....</b>
                                </font>
                            </div>
                        </apex:outputPanel>
                        <apex:pageblock title="Select Address" rendered="{!fullQWrapper.shippingAddressPopUp}">
                            <div style="overflow:scroll; width:100%; height:200px;">
                                <table id="shippingAddr_grid" width="100%">
                                    <tr bgcolor="#F8F8F8">
                                        <td>
                                            <b>Address No</b>
                                        </td>
                                        <td>
                                            <b>Address Line1</b>
                                        </td>
                                        <td>
                                            <b>Address Line3</b>
                                        </td>
                                        <td>
                                            <b>State</b>
                                        </td>
                                        <td>
                                            <b>Country Id</b>
                                        </td>
                                        <td>
                                            <b>ZipCode</b>
                                        </td>
                                    </tr>
                                    <apex:repeat value="{!addressshippingList}" var="l" >
                                        <tr id="{!l.addressNo}" bgcolor="#F2F2F2">
                                            <td ondblclick="changeRowColorInShippingAddrondblclick(document.getElementById('{!l.addressNo}'),'{!l.addressNo}','selectedShippingAddr')" onclick="changeRowColorInShippingAddr(document.getElementById('{!l.addressNo}'),'{!l.addressNo}','selectedShippingAddr')" >
                                                <apex:outputText value="{!l.addressNo}" />
                                            </td>
                                            <td ondblclick="changeRowColorInShippingAddrondblclick(document.getElementById('{!l.addressNo}'),'{!l.addressNo}','selectedShippingAddr')" onclick="changeRowColorInShippingAddr(document.getElementById('{!l.addressNo}'),'{!l.addressNo}','selectedShippingAddr')" >
                                                <apex:outputText value="{!l.addressLine1}" />
                                            </td>
                                            <td ondblclick="changeRowColorInShippingAddrondblclick(document.getElementById('{!l.addressNo}'),'{!l.addressNo}','selectedShippingAddr')" onclick="changeRowColorInShippingAddr(document.getElementById('{!l.addressNo}'),'{!l.addressNo}','selectedShippingAddr')" >
                                                <apex:outputText value="{!l.addressLine3}" />
                                            </td>
                                            <td ondblclick="changeRowColorInShippingAddrondblclick(document.getElementById('{!l.addressNo}'),'{!l.addressNo}','selectedShippingAddr')" onclick="changeRowColorInShippingAddr(document.getElementById('{!l.addressNo}'),'{!l.addressNo}','selectedShippingAddr')" >
                                                <apex:outputText value="{!l.state}" />
                                            </td>
                                            <td ondblclick="changeRowColorInShippingAddrondblclick(document.getElementById('{!l.addressNo}'),'{!l.addressNo}','selectedShippingAddr')" onclick="changeRowColorInShippingAddr(document.getElementById('{!l.addressNo}'),'{!l.addressNo}','selectedShippingAddr')" >
                                                <apex:outputText value="{!l.countryId}" />
                                            </td>
                                            <td ondblclick="changeRowColorInShippingAddrondblclick(document.getElementById('{!l.addressNo}'),'{!l.addressNo}','selectedShippingAddr')" onclick="changeRowColorInShippingAddr(document.getElementById('{!l.addressNo}'),'{!l.addressNo}','selectedShippingAddr')" >
                                                <apex:outputText value="{!l.zipCode}" />
                                            </td>
                                        </tr>
                                    </apex:repeat>
                                </table>
                            </div>
                            <br/>
                            <center>
                                <div  id="ShippingAddressListDivEnable" style="display:none; width: 50%;" >
                                    <apex:commandButton value="Ok" action="{!shippingAddressIdSelected}" onclick="hideShippingAddressPopUp();" status="onloadStatus" reRender="formId,btnPanel,outoutOptionId,validatePanel1,fulFillingBranchPanelId,errorMessageTop"/>
                                    <apex:commandButton value="Cancel"  action="{!cancelShippingAddressIdSelected}" onclick="hideCancelShippingAddressPopUp();" reRender="shippingAddressPanel,validatePanel1,fulFillingBranchPanelId,btnPanel,outoutOptionId"/>
                                </div>
                                <div id="ShippingAddressListDivDislable">
                                    <apex:commandButton value="Ok" disabled="true" />
                                    <apex:commandButton value="Cancel"  action="{!cancelShippingAddressIdSelected}" onclick="hideCancelShippingAddressPopUp();" reRender="shippingAddressPanel,validatePanel1,fulFillingBranchPanelId,btnPanel,outoutOptionId"/>
                                </div>
                            </center>
                        </apex:pageblock>
                    </apex:outputPanel>
                </apex:outputpanel>
            </div>
            <!-- Fulfilling branch popup in billing tab -->
            <div id="fulFillingIdBillingPopUp" style="display:none;">
                <apex:outputpanel id="fulFillingBillingPanel">
                    <apex:outputPanel styleClass="analysiSetPopupBackground" layout="block" />
                    <apex:outputPanel styleClass="analysiSetPopup" layout="block" >
                        <apex:commandLink action="{!cancelFulFillingIdBillingSelected}" reRender="fulFillingBillingPanel" onclick="hideCancelFulFillingBillingPopUp();">
                            <apex:image style="position:relative;left:700px;" value="{!$Resource.WindowCloseLogo}" width="30" height="30"/>
                        </apex:commandLink>
                        <apex:outputPanel rendered="{!!fullQWrapper.showBranchBillingPopUp}">
                            <div align="center">
                                <img src="{!$Resource.Loading}" />
                                <br/>
                                <br/>
                                <font color="Red">
                                    <b>Loading....</b>
                                </font>
                            </div>
                        </apex:outputPanel>
                        <apex:pageblock title="Select Fulfilling Branch" rendered="{!fullQWrapper.showBranchBillingPopUp}">
                            <apex:outputLabel value="Branch Id" />&nbsp;&nbsp;
                                        
                            <apex:inputText value="{!qqWrapper.BranchIdSearchWord}" >
                                <apex:actionsupport event="onkeyup" action="{!searchFulFillingBranchInBilling}" rerender="pan1" />
                            </apex:inputText>&nbsp;&nbsp;&nbsp;&nbsp;
                                        
                            <apex:outputLabel value="Branch Name" />&nbsp;&nbsp;
                                        
                            <apex:inputText value="{!qqWrapper.BranchNameSearchWord}" >
                                <apex:actionsupport event="onkeyup" action="{!searchFulFillingBranchInBilling}" rerender="pan1" />
                            </apex:inputText>&nbsp;&nbsp;&nbsp;&nbsp;  
                            <br/>
                            <br/>
                            <div style="overflow:scroll; width:100%; height:200px;">
                                <apex:outputPanel id="pan1">
                                    <table id="branchBilling_grid" width="100%">
                                        <tr bgcolor="#F8F8F8">
                                            <td>
                                                <b>Branch Id</b>
                                            </td>
                                            <td>
                                                <b>Name</b>
                                            </td>
                                        </tr>
                                        <apex:repeat value="{!FulFillingBranchList}" var="l" rendered="{!!fullQWrapper.showSearchBranchIdTable}" >
                                            <tr id="{!l.Id}" bgcolor="#F2F2F2">
                                                <td onclick="changeRowColorInFBranchInBilling(document.getElementById('{!l.Id}'),'{!l.Id}','SelectedBranch')" >
                                                    <apex:outputText value="{!l.Id}" />
                                                </td>
                                                <td onclick="changeRowColorInFBranchInBilling(document.getElementById('{!l.Id}'),'{!l.Id}','SelectedBranch')" >
                                                    <apex:outputText value="{!l.Name}" />
                                                </td>
                                            </tr>
                                        </apex:repeat>
                                        <apex:repeat value="{!FulFillingBranchSearchList}" var="l" rendered="{!fullQWrapper.showSearchBranchIdTable}" >
                                            <tr id="{!l.Id}" bgcolor="#F2F2F2">
                                                <td onclick="changeRowColorInFBranchInBilling(document.getElementById('{!l.Id}'),'{!l.Id}','SelectedBranch')" >
                                                    <apex:outputText value="{!l.Id}" />
                                                </td>
                                                <td onclick="changeRowColorInFBranchInBilling(document.getElementById('{!l.Id}'),'{!l.Id}','SelectedBranch')" >
                                                    <apex:outputText value="{!l.Name}" />
                                                </td>
                                            </tr>
                                        </apex:repeat>
                                    </table>
                                </apex:outputPanel>
                            </div>
                            <br/>
                            <center>
                                <apex:commandButton value="Ok" action="{!fulFillingIdBillingSelected}" onclick="hideFulFillingBillingPopUp();" reRender="fulFillingBillingPanel,fulFillingPanelId,validatePanel1,fulFillingBranchPanelId,fulFillingPanel,fullfillilngBranchidErrror,errorMessageTop,btnPanel,outoutOptionId,addressValidateError,ShippingdistFromBranch,ShippingdeliveryZoneInShipping"/>
                                <apex:commandButton value="Cancel"  action="{!cancelFulFillingIdBillingSelected}" onclick="hideCancelFulFillingBillingPopUp();" reRender="fulFillingBillingPanel"/>
                            </center>
                        </apex:pageblock>
                    </apex:outputPanel>
                </apex:outputpanel>
            </div>
            <!-- Fulfilling branch popup in shipping tab -->
            <div id="fulFillingIdPopUp" style="display:none;">
                <apex:outputpanel id="fulFillingPanel">
                    <apex:outputPanel styleClass="analysiSetPopupBackground" layout="block" />
                    <apex:outputPanel styleClass="analysiSetPopup" layout="block" >
                        <apex:commandLink action="{!cancelFulFillingIdSelected}" reRender="fulFillingPanel" onclick="hideCancelFulFillingPopUp();">
                            <apex:image style="position:relative;left:700px;" value="{!$Resource.WindowCloseLogo}" width="30" height="30"/>
                        </apex:commandLink>
                        <apex:outputPanel rendered="{!!fullQWrapper.showBranchPopUp}">
                            <div align="center">
                                <img src="{!$Resource.Loading}" />
                                <br/>
                                <br/>
                                <font color="Red">
                                    <b>Loading....</b>
                                </font>
                            </div>
                        </apex:outputPanel>
                        <apex:pageblock title="Select Fulfilling Branch" rendered="{!fullQWrapper.showBranchPopUp}">
                            <apex:outputLabel value="Branch Id" />&nbsp;&nbsp;
                                        
                            <apex:inputText value="{!qqWrapperShipping.BranchIdSearchWord}" >
                                <apex:actionsupport status="billingIdSearch" event="onkeyup" action="{!searchFulFillingBranchInShipping}" rerender="pan2" />
                            </apex:inputText>&nbsp;&nbsp;&nbsp;&nbsp;
                                        
                            <apex:outputLabel value="Branch Name" />&nbsp;&nbsp;
                                        
                            <apex:inputText value="{!qqWrapperShipping.BranchNameSearchWord}" >
                                <apex:actionsupport status="billingIdSearch"  event="onkeyup" action="{!searchFulFillingBranchInShipping}" rerender="pan2" />
                            </apex:inputText>&nbsp;&nbsp;&nbsp;&nbsp;                                       
                                        
                                        
                            <apex:actionStatus id="billingIdSearch" >
                                <apex:facet name="start">
                                    <font color="Red">
                                        <b>Loading....</b>
                                    </font>
                                </apex:facet>
                                <apex:facet name="stop"></apex:facet>
                            </apex:actionStatus>
                            <br/>
                            <br/>
                            <div style="overflow:scroll; width:100%; height:200px;">
                                <apex:outputPanel id="pan2">
                                    <table id="branchShipping_grid" width="100%">
                                        <tr bgcolor="#F8F8F8">
                                            <td>
                                                <b>Branch Id</b>
                                            </td>
                                            <td>
                                                <b>Name</b>
                                            </td>
                                        </tr>
                                        <apex:repeat value="{!FulFillingBranchList}" var="l" rendered="{!!fullQWrapper.showSearchBranchShippingIdTable}" >
                                            <tr id="{!l.Id}" bgcolor="#F2F2F2">
                                                <td ondblclick="changeRowColorInFBranchInShippingondblclick(document.getElementById('{!l.Id}'),'{!l.Id}','SelectedShippingBranch')" onclick="changeRowColorInFBranchInShipping(document.getElementById('{!l.Id}'),'{!l.Id}','SelectedShippingBranch')" >
                                                    <apex:outputText value="{!l.Id}" />
                                                </td>
                                                <td ondblclick="changeRowColorInFBranchInShippingondblclick(document.getElementById('{!l.Id}'),'{!l.Id}','SelectedShippingBranch')" onclick="changeRowColorInFBranchInShipping(document.getElementById('{!l.Id}'),'{!l.Id}','SelectedShippingBranch')" >
                                                    <apex:outputText value="{!l.Name}" />
                                                </td>
                                            </tr>
                                        </apex:repeat>
                                        <apex:repeat value="{!FulFillingBranchSearchShippingList}" var="l" rendered="{!fullQWrapper.showSearchBranchShippingIdTable}" >
                                            <tr id="{!l.Id}" bgcolor="#F2F2F2">
                                                <td ondblclick="changeRowColorInFBranchInShippingondblclick(document.getElementById('{!l.Id}'),'{!l.Id}','SelectedShippingBranch')" onclick="changeRowColorInFBranchInShipping(document.getElementById('{!l.Id}'),'{!l.Id}','SelectedShippingBranch')" >
                                                    <apex:outputText value="{!l.Id}" />
                                                </td>
                                                <td ondblclick="changeRowColorInFBranchInShippingondblclick(document.getElementById('{!l.Id}'),'{!l.Id}','SelectedShippingBranch')" onclick="changeRowColorInFBranchInShipping(document.getElementById('{!l.Id}'),'{!l.Id}','SelectedShippingBranch')" >
                                                    <apex:outputText value="{!l.Name}" />
                                                </td>
                                            </tr>
                                        </apex:repeat>
                                    </table>
                                </apex:outputPanel>
                            </div>
                            <br/>
                            <center>
                                <div  id="fulFillingBranchListDivEnable" style="display:none; width: 50%;" >
                                    <apex:commandButton value="Ok" action="{!fulFillingIdSelected}" onclick="hideFulFillingPopUp();" status="onloadStatus" reRender=" validatePanel1,fulFillingBranchPanelId,fulFillingBillingPanel,fulFillingPanelId,fullfillilngBranchidErrror,errorMessageTop,ShippingdistFromBranch,ShippingdeliveryZoneInShipping"/>
                                    <apex:commandButton value="Cancel"  action="{!cancelFulFillingIdSelected}" onclick="hideCancelFulFillingPopUp();" reRender="fulFillingPanel,fulFillingBranchPanelId"/>
                                </div>
                                <div id="fulFillingBranchListDivDislable">
                                    <apex:commandButton value="Ok" disabled="true" />
                                    <apex:commandButton value="Cancel"  action="{!cancelFulFillingIdSelected}" onclick="hideCancelFulFillingPopUp();" reRender="fulFillingPanel,fulFillingBranchPanelId"/>
                                </div>
                            </center>
                        </apex:pageblock>
                    </apex:outputPanel>
                </apex:outputpanel>
            </div>
            <apex:outputPanel id="pnlToDisabledValidAccBtn">
                <apex:outputPanel id="InnerPnlToDisabledValidAccBtn" rendered="{!IF((!isDuplicateAccSelected || isDuplicateAccSelected) && isDuplicateAccPresent,true,false)}">
                    <script>
                            document.getElementById('btnValidateAcct').disabled = true;
                        </script>
                </apex:outputPanel>
            </apex:outputPanel>
            <apex:outputPanel id="errorOnAcctCreationOuterOP">
                <input type="hidden" id="ErreorOnNewAcctCreationID" value="{!ErreorOnNewAcctCreation}" />
                <apex:outputPanel id="errorOnAcctCreationOP" rendered="{!IF(ErreorOnNewAcctCreation != '',true,false)}" >
                    <script>
                            if(document.getElementById('ErreorOnNewAcctCreationID').value == 'yes'){
                                document.getElementById('btnValidateAcct').disabled = false;
                            }else{
                                document.getElementById('btnValidateAcct').disabled = true;
                            }
                        </script>
                </apex:outputPanel>
            </apex:outputPanel>
            <div id="validateAddressDiv" style="display:none;" onclick="DeselectAccount();">
                <apex:outputPanel id="validateAddressPanel">
                    <apex:outputPanel rendered="{!isCallFinalAcctCreatService}">
                        <script>
                                callFinalAccCreate();
                            </script>
                    </apex:outputPanel>
                    <apex:outputPanel styleClass="analysiSetPopupBackground" layout="block" />
                    <apex:outputPanel styleClass="analysiSetPopupPgAcc" style="-moz-border-radius: 15px;-webkit-border-radius: 15px;border-radius: 10px;" layout="block" >
                        <br/>
                        <apex:image onclick="hideCancelValidateAddressPopUp();" style="position:relative;left:800px;cursor:pointer" value="{!$Resource.WindowCloseLogo}" width="30" height="30"/>
                        <br/>
                        <apex:outputPanel rendered="{!!fullQWrapper.showValidateAddressPopUp}">
                            <div align="center">
                                <img src="{!$Resource.Loading}" />
                                <br/>
                                <br/>
                                <font color="Red">
                                    <b>Loading....</b>
                                </font>
                            </div>
                        </apex:outputPanel>
                        <apex:messages styleClass="errorMsg" style="font-family:georgia,garamond,serif;" />
                        <apex:pageblock title="Select an Address" rendered="{!fullQWrapper.showValidateAddressPopUp}">
                            <table id="sorter" width="100%" class="sortable" cellpadding="0" cellspacing="0" border="0">
                                <tr bgcolor="#F8F8F8">
                                    <th>Result Account Id</th>
                                    <th>Name</th>
                                    <th>Billing Address1</th>
                                    <th>Billing Address2</th>
                                    <th>City</th>
                                    <th>State</th>
                                    <th>Zip Code</th>
                                    <th>Phone #</th>
                                </tr>
                                <apex:repeat value="{!customerAccList}" var="l" >
                                    <tr id="{!l.recId}" bgcolor="#F2F2F2">
                                        <td ondblclick="changeRowColorDblClk(document.getElementById('{!l.recId}'),'{!l.recId}','SelectedVAddressRadio')" onclick="changeRowColor(document.getElementById('{!l.recId}'),'{!l.recId}','SelectedVAddressRadio')" >
                                            <apex:outputText value="{!l.id}" />
                                        </td>
                                        <td ondblclick="changeRowColorDblClk(document.getElementById('{!l.recId}'),'{!l.recId}','SelectedVAddressRadio')" onclick="changeRowColor(document.getElementById('{!l.recId}'),'{!l.recId}','SelectedVAddressRadio')" >
                                            <apex:outputText value="{!l.name}" />
                                        </td>
                                        <td ondblclick="changeRowColorDblClk(document.getElementById('{!l.recId}'),'{!l.recId}','SelectedVAddressRadio')" onclick="changeRowColor(document.getElementById('{!l.recId}'),'{!l.recId}','SelectedVAddressRadio')" >
                                            <apex:outputText value="{!l.addressLine1}" />
                                        </td>
                                        <td ondblclick="changeRowColorDblClk(document.getElementById('{!l.recId}'),'{!l.recId}','SelectedVAddressRadio')" onclick="changeRowColor(document.getElementById('{!l.recId}'),'{!l.recId}','SelectedVAddressRadio')" >
                                            <apex:outputText value="{!l.addressLine2}" />
                                        </td>
                                        <td ondblclick="changeRowColorDblClk(document.getElementById('{!l.recId}'),'{!l.recId}','SelectedVAddressRadio')" onclick="changeRowColor(document.getElementById('{!l.recId}'),'{!l.recId}','SelectedVAddressRadio')" >
                                            <apex:outputText value="{!l.addressLine3}" />
                                        </td>
                                        <td ondblclick="changeRowColorDblClk(document.getElementById('{!l.recId}'),'{!l.recId}','SelectedVAddressRadio')" onclick="changeRowColor(document.getElementById('{!l.recId}'),'{!l.recId}','SelectedVAddressRadio')" >
                                            <apex:outputText value="{!l.state}" />
                                        </td>
                                        <td ondblclick="changeRowColorDblClk(document.getElementById('{!l.recId}'),'{!l.recId}','SelectedVAddressRadio')" onclick="changeRowColor(document.getElementById('{!l.recId}'),'{!l.recId}','SelectedVAddressRadio')" >
                                            <apex:outputText value="{!l.zipCode}" />
                                        </td>
                                        <td ondblclick="changeRowColorDblClk(document.getElementById('{!l.recId}'),'{!l.recId}','SelectedVAddressRadio')" onclick="changeRowColor(document.getElementById('{!l.recId}'),'{!l.recId}','SelectedVAddressRadio')" >
                                            <apex:outputText value="{!l.phoneNumber}" />
                                        </td>
                                    </tr>
                                </apex:repeat>
                            </table>
                            <script type="text/javascript">
                                        var sorter=new table.sorter("sorter");
                                        sorter.init("sorter",1);
                                    </script>
                            <br/>
                            <center>
                                <div id="newAccBtn">
                                    <!-- <apex:outputPanel rendered="{!IF(customerAccList.size = 0, true,false)}" > -->
                                    <input type="Button" value="Create as New Account"  onclick="hideCancelValidateAddressPopUp();" />
                                    <!-- </apex:outputPanel> -->
                                    <!-- <apex:commandButton value="Select Existing Acct"   status="onloadStatus" action="{!newCustomerAccountIdSelected}" onclick="hideValidateAddressPopUp();" rendered="{!IF(customerAccList.size > 0, true,false)}" reRender="validateAddressPanel,pnlToDisabledValidAccBtn,telephoneId,TaxExemptcheckbox,addressid,addressArea,cityId,countyId,stateid,countryId,zipcodeId,validatePanel,btnPanel,outoutOptionId,errorMessageTop,billingAddresId,accountId,AccountNameId"/> -->
                                    <input type="Button" value="Cancel" onclick="hideCancelValidateAddressPopUp();"/>
                                </div>
                                <div id="existingAccBtn" style="display:none;">
                                    <apex:commandButton value="Select Existing Acct"   status="onloadStatus" action="{!newCustomerAccountIdSelected}" onclick="hideValidateAddressPopUp();" rendered="{!IF(customerAccList.size > 0, true,false)}" reRender="validateAddressPanel,pnlToDisabledValidAccBtn,telephoneId,TaxExemptcheckbox,addressid,addressArea,cityId,countyId,stateid,countryId,zipcodeId,validatePanel,btnPanel,outoutOptionId,errorMessageTop,billingAddresId,accountId,AddContactOP,AccountNameId"/>
                                    <input type="Button" value="Cancel" onclick="hideCancelValidateAddressPopUp();"/>
                                </div>
                            </center>
                            <br/>
                        </apex:pageblock>
                    </apex:outputPanel>
                </apex:outputPanel>
            </div>
            <!-- Validate address popup in shipping screen -->
            <div id="validateAddressShippingDiv" style="display:none;">
                <apex:outputPanel id="validateAddressShippingPanel">
                    <apex:outputPanel styleClass="analysiSetPopupBackground" layout="block" />
                    <apex:outputPanel styleClass="analysiSetPopup" style="-moz-border-radius: 15px;-webkit-border-radius: 15px;border-radius: 10px;" layout="block" >
                        <br/>
                        <apex:commandLink action="{!CancelValidateAddressShippingIdSelected}"  onclick="hideCancelValidateAddressShippingPopUp();" rerender="validateAddressShippingPanel,validatePanel1,fulFillingBranchPanelId,btnPanel,outoutOptionId,addressValidateError">
                            <apex:image style="position:relative;left:700px;" value="{!$Resource.WindowCloseLogo}" width="30" height="30"/>
                        </apex:commandLink>
                        <br/>
                        <apex:outputPanel rendered="{!!fullQWrapper.showValidateAddressShippingPopUp}">
                            <div align="center">
                                <img src="{!$Resource.Loading}" />
                                <br/>
                                <br/>
                                <font color="Red">
                                    <b>Loading....</b>
                                </font>
                            </div>
                        </apex:outputPanel>
                        <apex:pageblock title="Select an Address" rendered="{!fullQWrapper.showValidateAddressShippingPopUp}">
                            <apex:messages styleClass="errorMsg" style="font-family:georgia,garamond,serif;" />
                            <table id="val_grid" width="100%">
                                <tr bgcolor="#F8F8F8">
                                    <td>
                                        <b>Address</b>
                                    </td>
                                    <td>
                                        <b>State</b>
                                    </td>
                                    <td>
                                        <b>Zip Code</b>
                                    </td>
                                    <td>
                                        <b>Country Id</b>
                                    </td>
                                    <td>
                                        <b>Fulfilling Branch</b>
                                    </td>
                                    <td>
                                        <b>Fulfilling Branch Name</b>
                                    </td>
                                </tr>
                                <apex:repeat value="{!DescarteInnerClassShippingList}" var="l" >
                                    <tr id="{!l.RecUniqId}" bgcolor="#F2F2F2">
                                        <td ondblclick="changeRowColorInShippingondblclick(document.getElementById('{!l.RecUniqId}'),'{!l.RecUniqId}','SelectedVaddressRadioShip')"  onclick="changeRowColorInShipping(document.getElementById('{!l.RecUniqId}'),'{!l.RecUniqId}','SelectedVaddressRadioShip')" >
                                            <apex:outputText value="{!l.Address1}" />
                                        </td>
                                        <td ondblclick="changeRowColorInShippingondblclick(document.getElementById('{!l.RecUniqId}'),'{!l.RecUniqId}','SelectedVaddressRadioShip')"  onclick="changeRowColorInShipping(document.getElementById('{!l.RecUniqId}'),'{!l.RecUniqId}','SelectedVaddressRadioShip')" >
                                            <apex:outputText value="{!l.state}" />
                                        </td>
                                        <td ondblclick="changeRowColorInShippingondblclick(document.getElementById('{!l.RecUniqId}'),'{!l.RecUniqId}','SelectedVaddressRadioShip')"  onclick="changeRowColorInShipping(document.getElementById('{!l.RecUniqId}'),'{!l.RecUniqId}','SelectedVaddressRadioShip')" >
                                            <apex:outputText value="{!l.ZipCode}" />
                                        </td>
                                        <td ondblclick="changeRowColorInShippingondblclick(document.getElementById('{!l.RecUniqId}'),'{!l.RecUniqId}','SelectedVaddressRadioShip')"  onclick="changeRowColorInShipping(document.getElementById('{!l.RecUniqId}'),'{!l.RecUniqId}','SelectedVaddressRadioShip')" >
                                            <apex:outputText value="{!l.CountryId}" />
                                        </td>
                                        <td ondblclick="changeRowColorInShippingondblclick(document.getElementById('{!l.RecUniqId}'),'{!l.RecUniqId}','SelectedVaddressRadioShip')"  onclick="changeRowColorInShipping(document.getElementById('{!l.RecUniqId}'),'{!l.RecUniqId}','SelectedVaddressRadioShip')" >
                                            <apex:outputText value="{!l.fulfillingBranch}" />
                                        </td>
                                        <td ondblclick="changeRowColorInShippingondblclick(document.getElementById('{!l.RecUniqId}'),'{!l.RecUniqId}','SelectedVaddressRadioShip')"  onclick="changeRowColorInShipping(document.getElementById('{!l.RecUniqId}'),'{!l.RecUniqId}','SelectedVaddressRadioShip')" >
                                            <apex:outputText value="{!l.fulfillingBranchName}" />
                                        </td>
                                    </tr>
                                </apex:repeat>
                            </table>
                            <br/>
                            <center>
                                <div  id="AddressShippingDivEnable" style="display:none;">
                                    <apex:commandButton disabled="{!isZipCodeIsNot}" value="Ok" action="{!validateAddressShippingIdSelected}" onclick="hideValidateAddressShippingPopUp();" reRender="validateAddressShippingPanel,fulFillingBranchPanelId,taxIdShippingPanel,deliveryPlanSecId,validatePanel1,fulFillingBranchPanelId,btnPanel,outoutOptionId,addressShippingArea,cityShippingId,countyShippingId,stateSelectIdshiiping,countryShippingId,shippingzipCodeId,addressValidateError,noZoneBtn,noZoneBtnOP"/>
                                    <!--                                  <apex:commandButton disabled="{!isZipCodeIsNot}" value="Ok" action="{!validateAddressShippingIdSelected}" onclick="hideValidateAddressShippingPopUp();" reRender="validateAddressShippingPanel,fulFillingBranchPanelId,taxIdShippingPanel,deliveryPlanSecId,validatePanel1,btnPanel,outoutOptionId,shiipingAccountSectionId,cityShippingId,countyShippingId,countrySatatePanel,zipCodeSectionId"/> -->
                                    <apex:commandButton status="validatebuttom" value="Cancel" action="{!CancelValidateAddressShippingIdSelected}"  onclick="hideCancelValidateAddressShippingPopUp();" rerender="validateAddressShippingPanel,validatePanel1,fulFillingBranchPanelId,btnPanel,outoutOptionId,addressValidateError,noZoneBtn,noZoneBtnOP"/>
                                </div>
                                <div id="AddressShippingDivDislable">
                                    <apex:commandButton value="Ok" disabled="true" />
                                    <apex:commandButton status="validatebuttom" value="Cancel" action="{!CancelValidateAddressShippingIdSelected}"  onclick="hideCancelValidateAddressShippingPopUp();" rerender="validateAddressShippingPanel,validatePanel1,fulFillingBranchPanelId,btnPanel,outoutOptionId,addressValidateError,noZoneBtn,noZoneBtnOP"/>
                                </div>
                            </center>
                            <br/>
                        </apex:pageblock>
                    </apex:outputPanel>
                </apex:outputPanel>
            </div>
            <!-- tax id popup in billing screen -->
            <!-- tax id popup in shipping screen -->
            <div id="taxIdShippingDiv" style="display:none;">
                <apex:outputPanel id="taxIdShippingPanel">
                    <apex:outputPanel styleClass="analysiSetPopupBackground" layout="block" />
                    <apex:outputPanel styleClass="analysiSetPopup" style="-moz-border-radius: 15px;-webkit-border-radius: 15px;border-radius: 10px;" layout="block" >
                        <br/>
                        <apex:commandLink action="{!CancelTaxIdShippingIdSelected}"  onclick="hideCancelTaxIdShippingPopUp();" rerender="taxIdShippingPanel,btnPanel,outoutOptionId,validatePanel1,addressValidateError">
                            <apex:image style="position:relative;left:700px;" value="{!$Resource.WindowCloseLogo}" width="30" height="30"/>
                        </apex:commandLink>
                        <br/>
                        <apex:outputPanel rendered="{!!fullQWrapper.showTaxIdShippingPopUp}">
                            <div align="center">
                                <img src="{!$Resource.Loading}" />
                                <br/>
                                <br/>
                                <font color="Red">
                                    <b>Loading....</b>
                                </font>
                            </div>
                        </apex:outputPanel>
                        <apex:pageblock title="Select Tax Id" rendered="{!fullQWrapper.showTaxIdShippingPopUp}">
                            <apex:messages styleClass="errorMsg" style="font-family:georgia,garamond,serif;" />
                            <br/>
                            <table id="taxShip_grid" width="100%">
                                <tr bgcolor="#F8F8F8">
                                    <td>
                                        <b>Tax Id</b>
                                    </td>
                                    <td>
                                        <b>TaxAreaStatus</b>
                                    </td>
                                    <td>
                                        <b>Country</b>
                                    </td>
                                    <td>
                                        <b>Country Description</b>
                                    </td>
                                    <td>
                                        <b>State</b>
                                    </td>
                                    <td>
                                        <b>State Description</b>
                                    </td>
                                    <td>
                                        <b>City</b>
                                    </td>
                                </tr>
                                <apex:repeat value="{!TaxAddressShippingResponseList}" var="l">
                                    <tr id="{!l.RecUniqId}" bgcolor="#F2F2F2">
                                        <td ondblclick="changeRowColorInTaxShipondblclick(document.getElementById('{!l.RecUniqId}'),'{!l.Id}','SelectedTaxIdRadioShip')" onclick="changeRowColorInTaxShip(document.getElementById('{!l.RecUniqId}'),'{!l.Id}','SelectedTaxIdRadioShip')" >
                                            <apex:outputText value="{!l.Id}" />
                                        </td>
                                        <td ondblclick="changeRowColorInTaxShipondblclick(document.getElementById('{!l.RecUniqId}'),'{!l.Id}','SelectedTaxIdRadioShip')" onclick="changeRowColorInTaxShip(document.getElementById('{!l.RecUniqId}'),'{!l.Id}','SelectedTaxIdRadioShip')" >
                                            <apex:outputText value="{!l.taxAreaStatus}" />
                                        </td>
                                        <td ondblclick="changeRowColorInTaxShipondblclick(document.getElementById('{!l.RecUniqId}'),'{!l.Id}','SelectedTaxIdRadioShip')" onclick="changeRowColorInTaxShip(document.getElementById('{!l.RecUniqId}'),'{!l.Id}','SelectedTaxIdRadioShip')" >
                                            <apex:outputText value="{!l.country}" />
                                        </td>
                                        <td ondblclick="changeRowColorInTaxShipondblclick(document.getElementById('{!l.RecUniqId}'),'{!l.Id}','SelectedTaxIdRadioShip')" onclick="changeRowColorInTaxShip(document.getElementById('{!l.RecUniqId}'),'{!l.Id}','SelectedTaxIdRadioShip')" >
                                            <apex:outputText value="{!l.countryDescription}" />
                                        </td>
                                        <td ondblclick="changeRowColorInTaxShipondblclick(document.getElementById('{!l.RecUniqId}'),'{!l.Id}','SelectedTaxIdRadioShip')" onclick="changeRowColorInTaxShip(document.getElementById('{!l.RecUniqId}'),'{!l.Id}','SelectedTaxIdRadioShip')" >
                                            <apex:outputText value="{!l.state}" />
                                        </td>
                                        <td ondblclick="changeRowColorInTaxShipondblclick(document.getElementById('{!l.RecUniqId}'),'{!l.Id}','SelectedTaxIdRadioShip')" onclick="changeRowColorInTaxShip(document.getElementById('{!l.RecUniqId}'),'{!l.Id}','SelectedTaxIdRadioShip')" >
                                            <apex:outputText value="{!l.stateDescription}" />
                                        </td>
                                        <td ondblclick="changeRowColorInTaxShipondblclick(document.getElementById('{!l.RecUniqId}'),'{!l.Id}','SelectedTaxIdRadioShip')" onclick="changeRowColorInTaxShip(document.getElementById('{!l.RecUniqId}'),'{!l.Id}','SelectedTaxIdRadioShip')" >
                                            <apex:outputText value="{!l.city}" />
                                        </td>
                                    </tr>
                                </apex:repeat>
                            </table>
                            <br/>
                            <center>
                                <div id="taxIdShippingDivEnable" style="display:none;" >
                                    <apex:commandButton status="validatebuttom"  value="Ok" disabled="{!!isTexIdIsNullbutton}" action="{!taxIdShippingSelected}" onclick="hideTaxIdShippingPopUp();" reRender="shippingSecId,taxIdShippingPanel,validatePanel1,fulFillingBranchPanelId,productsListSalesWrapper,btnPanel,outoutOptionId,productAddbutton,zipCodeSectionId,SelectedShipingTaxId,cityShippingId,countyShippingId,StateShippingId,countryShipingId,zipcodeShippingId"/>
                                    <apex:commandButton status="validatebuttom"  value="Cancel" action="{!CancelTaxIdShippingIdSelected}"  onclick="hideCancelTaxIdShippingPopUp();" rerender="taxIdShippingPanel,btnPanel,outoutOptionId,validatePanel1,addressValidateError"/>
                                </div>
                                <div id="taxIdShippingDivDislable">
                                    <apex:commandButton value="Ok" disabled="true" />
                                    <apex:commandButton status="validatebuttom"  value="Cancel" action="{!CancelTaxIdShippingIdSelected}"  onclick="hideCancelTaxIdShippingPopUp();" rerender="taxIdShippingPanel,btnPanel,outoutOptionId,validatePanel1,addressValidateError"/>
                                </div>
                            </center>
                            <br/>
                        </apex:pageblock>
                    </apex:outputPanel>
                </apex:outputPanel>
            </div>
            <!-- minimum term (charge code) popup in product screen -->
            <div id="minimumTermDiv" style="display:none;">
                <apex:outputPanel id="minimumTermPanel">
                    <apex:outputPanel styleClass="analysiSetPopupBackground" layout="block" />
                    <apex:outputPanel styleClass="analysiSetPopup" style="-moz-border-radius: 15px;-webkit-border-radius: 15px;border-radius: 10px;" layout="block" >
                        <br/>
                        <apex:commandLink action="{!disableMinimumTermPopUp}" reRender="minimumTermPanel" onclick="hideCancelMinimumTermPopUp();">
                            <apex:image style="position:relative;left:700px;" value="{!$Resource.WindowCloseLogo}" width="30" height="30"/>
                        </apex:commandLink>
                        <br/>
                        <apex:outputPanel rendered="{!!fullQWrapper.showMinimumTermPopUp}">
                            <div align="center">
                                <img src="{!$Resource.Loading}" />
                                <br/>
                                <br/>
                                <font color="Red">
                                    <b>Loading....</b>
                                </font>
                            </div>
                        </apex:outputPanel>
                        <apex:pageblock title="Select Minimum Term" rendered="{!fullQWrapper.showMinimumTermPopUp}">
                            <apex:outputLabel value="Id" />&nbsp;&nbsp;
                                   
                            <apex:inputText value="{!qqWrapper.chargeCodeIdSearchWord}" >
                                <apex:actionsupport event="onkeyup" action="{!MinimumTermIdSearchFun}" rerender="pan5" />
                            </apex:inputText>&nbsp;&nbsp;&nbsp;&nbsp;
                                   
                            <apex:outputLabel value="Description" />&nbsp;&nbsp;
                                   
                            <apex:inputText value="{!qqWrapper.chargeCodeNameSearchWord}" >
                                <apex:actionsupport event="onkeyup" action="{!MinimumTermIdSearchFun}" rerender="pan5" />
                            </apex:inputText>&nbsp;&nbsp;&nbsp;&nbsp;  
                            <br/>
                            <br/>
                            <apex:outputPanel id="pan5">
                                <table id="minimumTerm_grid" width="100%">
                                    <tr bgcolor="#F8F8F8">
                                        <td>
                                            <b>Id</b>
                                        </td>
                                        <td>
                                            <b>Description</b>
                                        </td>
                                    </tr>
                                    <apex:repeat value="{!chargeCodeList}" var="l" rendered="{!!fullQWrapper.showSearchChargeCodeList}" >
                                        <tr id="{!l.Id}" bgcolor="#F2F2F2">
                                            <td onclick="changeRowColorInMinimumTerm(document.getElementById('{!l.Id}'),'{!l.Id}','SelectedMinimumTerm')" >
                                                <apex:outputText value="{!l.Id}" />
                                            </td>
                                            <td onclick="changeRowColorInMinimumTerm(document.getElementById('{!l.Id}'),'{!l.Id}','SelectedMinimumTerm')" >
                                                <apex:outputText value="{!l.description}" />
                                            </td>
                                        </tr>
                                    </apex:repeat>
                                    <apex:repeat value="{!chargeCodeSearchList}" var="l" rendered="{!fullQWrapper.showSearchChargeCodeList}" >
                                        <tr id="{!l.Id}" bgcolor="#F2F2F2">
                                            <td onclick="changeRowColorInWriteUpRep(document.getElementById('{!l.Id}'),'{!l.Id}','SelectedMinimumTerm')" >
                                                <apex:outputText value="{!l.Id}" />
                                            </td>
                                            <td onclick="changeRowColorInWriteUpRep(document.getElementById('{!l.Id}'),'{!l.Id}','SelectedMinimumTerm')" >
                                                <apex:outputText value="{!l.description}" />
                                            </td>
                                        </tr>
                                    </apex:repeat>
                                </table>
                            </apex:outputPanel>
                            <br/>
                            <center>
                                <apex:commandButton value="Ok" status="minimumTermStatus" action="{!MinimumTermIdSelected}" onclick="hideMinimumTermPopUp();" reRender="editProductPanel,minimumTermPanel"/>
                                <apex:commandButton value="Cancel" action="{!disableMinimumTermPopUp}"  onclick="hideCancelMinimumTermPopUp();" rerender="minimumTermPanel"/>
                            </center>
                            <br/>
                        </apex:pageblock>
                    </apex:outputPanel>
                </apex:outputPanel>
            </div>
            <div id="analysisSetCodeInProductPopup" style="display:none;">
                <apex:outputpanel id="analysisSetCodeInProductPanel">
                    <apex:outputPanel styleClass="analysiSetPopupBackground" layout="block" />
                    <apex:outputPanel styleClass="analysiSetPopup" layout="block" >
                        <apex:commandLink action="{!disableAnalysisCodePopupInProduct}" reRender="analysisSetCodeInProductPanel" onclick="hideCancelAnalysisSetCodePopUpInProduct();">
                            <apex:image style="position:relative;left:700px;" value="{!$Resource.WindowCloseLogo}" width="30" height="30"/>
                        </apex:commandLink>
                        <apex:outputPanel rendered="{!!fullQWrapper.showAnalysisCodePopupInProduct}">
                            <div align="center">
                                <img src="{!$Resource.Loading}" />
                                <br/>
                                <br/>
                                <font color="Red">
                                    <b>Loading....</b>
                                </font>
                            </div>
                        </apex:outputPanel>
                        <apex:pageblock title="Select transaction analysis set" rendered="{!fullQWrapper.showAnalysisCodePopupInProduct}">
                            <div style="overflow:scroll; width:100%; height:200px;">
                                <table id="analysisCodeBilling1_grid" width="100%">
                                    <tr bgcolor="#F8F8F8">
                                        <td>
                                            <b>Id</b>
                                        </td>
                                        <td>
                                            <b>Description</b>
                                        </td>
                                    </tr>
                                    <apex:repeat value="{!analysisSetCodesResponseiInProductList}" var="l" >
                                        <tr id="{!l.Id}" bgcolor="#F2F2F2">
                                            <td onclick="changeRowColorInAnalysisSetProduct(document.getElementById('{!l.Id}'),'{!l.Id}','selectedAnalysisInProduct')" >
                                                <apex:outputText value="{!l.Id}" />
                                            </td>
                                            <td onclick="changeRowColorInAnalysisSetProduct(document.getElementById('{!l.Id}'),'{!l.Id}','selectedAnalysisInProduct')" >
                                                <apex:outputText value="{!l.description}" />
                                            </td>
                                        </tr>
                                    </apex:repeat>
                                </table>
                            </div>
                            <br/>
                            <center>
                                <apex:commandButton value="Ok" onclick="hideAnalysisSetCodePopUpInProduct();" action="{!AnalysisCodeIdSelectedInProduct}" reRender="editProductPanel"/>
                                <apex:commandButton value="Cancel"  action="{!disableAnalysisCodePopupInProduct}" onclick="hideCancelAnalysisSetCodePopUpInProduct();" reRender="analysisSetCodeInProductPanel"/>
                            </center>
                        </apex:pageblock>
                    </apex:outputPanel>
                </apex:outputpanel>
            </div>
            <!-- Error Popup -->
            <apex:outputPanel id="ClosePopPanel">
                <apex:outputPanel styleClass="analysiSetPopupBackground" layout="block" rendered="{!fullQWrapper.showErrorPopUp}" />
                <apex:outputPanel id="errorPanel" style="-moz-border-radius: 15px;-webkit-border-radius: 15px;border-radius: 10px;" styleClass="analysiSetPopup" layout="block" rendered="{!fullQWrapper.showErrorPopUp}" >
                    <apex:pageblock title="Error Occured">
                        <apex:messages styleClass="errorMsg" style="font-family:georgia,garamond,serif;" />
                        <br/>
                        <apex:commandbutton value="Close" action="{!hideErrorPopUp}" reRender="ClosePopPanel"></apex:commandbutton>
                    </apex:pageblock>
                </apex:outputPanel>
            </apex:outputPanel>
            <br/>
            <br/>
            <apex:outputPanel id="btnPanel" style="padding-left:25%;">
                <apex:actionstatus id="NewContactStatus">
                    <apex:facet name="stop">
                        <apex:outputlabel >
                            <!--  <apex:commandButton value="Refresh Quote" onclick="refreshQuotefun();"  reRender="xx" status="NewContactStatus"/> -->
                            <apex:outputPanel rendered="{!!fullQWrapper.enableRefreshQuote}">
                                <input type="Button" value="Refresh Quote" onclick="refreshQuotefun();" disabled="true" tabindex="100"/>
                            </apex:outputPanel>
                            <apex:outputPanel rendered="{!fullQWrapper.enableRefreshQuote}">
                                <input type="Button" value="Refresh Quote" onclick="refreshQuotefun();" tabindex="100"/>
                            </apex:outputPanel>
                            <apex:outputPanel rendered="{!!fullQWrapper.enableSaveQuote}">
                                <input type="Button" value="{!IF(updatebutton != null && updatebutton != '', 'Update Quote','Save Quote')}" disabled="true" onclick="savefun();" tabindex="100"/>
                            </apex:outputPanel>
                            <apex:outputPanel rendered="{!fullQWrapper.enableSaveQuote}">
                                <input type="Button" value="{!IF(updatebutton != null && updatebutton != '', 'Update Quote','Save Quote')}"  onclick="savefun();" tabindex="100" />
                            </apex:outputPanel>
                            <!--      <apex:commandButton value="{!IF(updatebutton != null && updatebutton != '', 'Update Quote','Save Quote')}" disabled="{!!fullQWrapper.enableSaveQuote}" onclick="savefun();" reRender="xx" status="NewContactStatus" />      -->
                            <apex:commandButton value="Convert Quote To Order" reRender="xx" disabled="{!!fullQWrapper.convertQuoteToOrder}" status="NewContactStatus"  onclick="showorderPopUp();" tabindex="101"/>
                            <apex:commandButton value="Mark As Lost" onclick="markAsLostFun();" reRender="errorMessageTop" status="NewContactStatus" disabled="{!IF(docId != null && cloneIsTrue = '',false,true)}" tabindex="102"/>
                            <apex:commandButton value="Close Quote" onclick="return cancelFullQuote();" status="NewContactStatus" reRender="tfgs" tabindex="103"/>
                        </apex:outputlabel>
                    </apex:facet>
                    <apex:facet name="start">
                        <apex:outputlabel >
                            <apex:commandButton value="Loading..." disabled="true" status="sts" ></apex:commandButton>
                            <apex:commandButton value="Loading..." disabled="true"  status="sts"></apex:commandButton>
                            <apex:commandButton value="Loading..." disabled="true" status="sts" ></apex:commandButton>
                            <apex:commandButton value="Loading..." disabled="true"  status="sts"></apex:commandButton>
                            <apex:commandButton value="Loading..." disabled="true"  status="sts"></apex:commandButton>
                        </apex:outputlabel>
                    </apex:facet>
                </apex:actionstatus>
            </apex:outputPanel>
        </apex:pageBlock>
        <div id="orderDivId" style="display:none;">
            <apex:outputPanel id="orderPanel">
                <apex:outputPanel styleClass="analysiSetPopupBackground" layout="block" />
                <apex:outputPanel styleClass="analysiSetPopup" style="-moz-border-radius: 15px;-webkit-border-radius: 15px;border-radius: 10px;" layout="block" >
                    <br/>
                    <apex:commandLink onclick="hideorderPopUp();" action="{!cancelOrderPopUp}"  status="onloadStatus" reRender="orderPanel" >
                        <apex:image style="position:relative;left:700px;" value="{!$Resource.WindowCloseLogo}" width="30" height="30"/>
                    </apex:commandLink>
                    <br/>
                    <apex:outputPanel rendered="{!!fullQWrapper.showOrderPopUp}">
                        <div align="center">
                            <img src="{!$Resource.Loading}" />
                            <br/>
                            <br/>
                            <font color="Red">
                                <b>Loading....</b>
                            </font>
                        </div>
                    </apex:outputPanel>
                    <apex:pageblock title="Order Details" rendered="{!fullQWrapper.showOrderPopUp}">
                        <apex:outputPanel rendered="{!isMultipleQuoteWithSamePgAcc}">
                            <table width="100%">
                                <tr>
                                    <td>This PG account is already Converted. Do you want to continue?</td>
                                </tr>
                                <tr>
                                    <td>
                                        <apex:actionStatus id="pgConvertYes">
                                            <apex:facet name="stop">
                                                <apex:commandButton value="Yes" action="{!doPgConvert}" status="pgConvertYes" reRender="orderPanel" />
                                            </apex:facet>
                                            <apex:facet name="start">
                                                <apex:commandButton value="Loading.."  disabled="true" status="pgConvertYes" />
                                            </apex:facet>
                                        </apex:actionStatus>
                                        <apex:actionStatus id="pgConvertNo">
                                            <apex:facet name="stop">
                                                <apex:commandButton value="No" action="{!noPgConvert}" status="pgConvertNo" reRender="orderPanel"/>
                                            </apex:facet>
                                            <apex:facet name="start">
                                                <apex:commandButton value="Loading.."   disabled="true" status="pgConvertNo"/>
                                            </apex:facet>
                                        </apex:actionStatus>
                                    </td>
                                </tr>
                            </table>
                        </apex:outputPanel>
                        <apex:outputPanel rendered="{!If(fullQWrapper.OrderMessage != null,true,false)}">
                            <table width="100%">
                                <tr>
                                    <th>Quote Id</th>
                                    <th>Contract Id</th>
                                </tr>
                                <tr>
                                    <td>{!fullQWrapper.orderQuoteId}</td>
                                    <td>{!fullQWrapper.orderContractId}</td>
                                </tr>
                            </table>
                        </apex:outputPanel>
                        <apex:messages styleClass="errorMsg" style="font-family:georgia,garamond,serif;" />
                        <center>
                            <font color="red">
                                <apex:outputText value="{!fullQWrapper.OrderMessage}"/>
                            </font>
                        </center>
                    </apex:pageblock>
                </apex:outputPanel>
            </apex:outputPanel>
        </div>
        <!------------- capacity lookup popups ---------->
        <div id="capacityLookupPopupId" style="display:none;">
            <apex:outputpanel id="CapacityLookupPanel">
                <apex:outputPanel styleClass="analysiSetPopupBackground" layout="block" />
                <apex:outputPanel styleClass="analysiSetPopup" layout="block" >
                    <apex:commandLink action="{!hideCapacitylookupPop}" reRender="CapacityLookupPanel" onclick="hideCancelcapacityLookupPopUp();">
                        <apex:image style="position:relative;left:700px;" value="{!$Resource.WindowCloseLogo}" width="30" height="30"/>
                    </apex:commandLink>
                    <apex:outputPanel rendered="{!!fullQWrapper.showcapacityLookupPopUp}">
                        <div align="center">
                            <img src="{!$Resource.Loading}" />
                            <br/>
                            <br/>
                            <font color="Red">
                                <b>Loading....</b>
                            </font>
                        </div>
                    </apex:outputPanel>
                    <apex:pageblock id="CapacityLookupPBTableId" title="Capacity Lookup" rendered="{!fullQWrapper.showcapacityLookupPopUp}">
                        <div style="overflow:scroll; width:100%; height:200px;">
                            <table id="capacityLookup_grid" width="100%">
                                <tr bgcolor="#F8F8F8">
                                    <td>
                                        <b>Date</b>
                                    </td>
                                    <td>
                                        <b>mileage</b>
                                    </td>
                                    <td>
                                        <b>storeNumber</b>
                                    </td>
                                    <td>
                                        <b>storeType</b>
                                    </td>
                                    <td>
                                        <b>depotGroup</b>
                                    </td>
                                    <td>
                                        <b>amCapacity</b>
                                    </td>
                                    <td>
                                        <b>pmCapacity</b>
                                    </td>
                                    <td>
                                        <b>noPrefCapacity</b>
                                    </td>
                                </tr>
                                <apex:repeat value="{!CapacityLookupList}" var="l" >
                                    <tr id="{!l.dateVal}" bgcolor="#F2F2F2">
                                        <td ondblClick="changeRowColorInCapacityDblClk(document.getElementById('{!l.dateVal}'),'{!l.dateVal}','ecodeSelactedValue');" onclick="changeRowColorInCapacity(document.getElementById('{!l.dateVal}'),'{!l.dateVal}','capacitySelactedValue');" >
                                            <apex:outputText value="{!l.dateVal}" />
                                        </td>
                                        <td ondblClick="changeRowColorInCapacityDblClk(document.getElementById('{!l.dateVal}'),'{!l.dateVal}','ecodeSelactedValue');" onclick="changeRowColorInCapacity(document.getElementById('{!l.dateVal}'),'{!l.dateVal}','capacitySelactedValue');" >
                                            <apex:outputText value="{!l.mileage}" />
                                        </td>
                                        <td ondblClick="changeRowColorInCapacityDblClk(document.getElementById('{!l.dateVal}'),'{!l.dateVal}','ecodeSelactedValue');" onclick="changeRowColorInCapacity(document.getElementById('{!l.dateVal}'),'{!l.dateVal}','capacitySelactedValue');" >
                                            <apex:outputText value="{!l.storeNumber}" />
                                        </td>
                                        <td ondblClick="changeRowColorInCapacityDblClk(document.getElementById('{!l.dateVal}'),'{!l.dateVal}','ecodeSelactedValue');" onclick="changeRowColorInCapacity(document.getElementById('{!l.dateVal}'),'{!l.dateVal}','capacitySelactedValue');" >
                                            <apex:outputText value="{!l.storeType}" />
                                        </td>
                                        <td ondblClick="changeRowColorInCapacityDblClk(document.getElementById('{!l.dateVal}'),'{!l.dateVal}','ecodeSelactedValue');" onclick="changeRowColorInCapacity(document.getElementById('{!l.dateVal}'),'{!l.dateVal}','capacitySelactedValue');" >
                                            <apex:outputText value="{!l.depotGroup}" />
                                        </td>
                                        <td ondblClick="changeRowColorInCapacityDblClk(document.getElementById('{!l.dateVal}'),'{!l.dateVal}','ecodeSelactedValue');" onclick="changeRowColorInCapacity(document.getElementById('{!l.dateVal}'),'{!l.dateVal}','capacitySelactedValue');" >
                                            <apex:outputText style="color:{!if(l.amCapacity = '0' ,'red','')}" value="{!l.amCapacity}"/>
                                        </td>
                                        <td ondblClick="changeRowColorInCapacityDblClk(document.getElementById('{!l.dateVal}'),'{!l.dateVal}','ecodeSelactedValue');" onclick="changeRowColorInCapacity(document.getElementById('{!l.dateVal}'),'{!l.dateVal}','capacitySelactedValue');" >
                                            <apex:outputText style="color:{!if(l.pmCapacity = '0' ,'red','')}"  value="{!l.pmCapacity}"/>
                                        </td>
                                        <td ondblClick="changeRowColorInCapacityDblClk(document.getElementById('{!l.dateVal}'),'{!l.dateVal}','ecodeSelactedValue');" onclick="changeRowColorInCapacity(document.getElementById('{!l.dateVal}'),'{!l.dateVal}','capacitySelactedValue');" >
                                            <apex:outputText style="color:{!if(l.noPrefCapacity = '0' ,'red','')}" value="{!l.noPrefCapacity}"/>
                                        </td>
                                    </tr>
                                </apex:repeat>
                            </table>
                        </div>
                        <br/>
                        <center>
                            <div  id="CapacityDivEnable" style="display:none; width: 50%;" >
                                <apex:commandButton value="Ok" action="{!CapacityIdSelected}" onclick="hideCapacityPopUp();"  reRender="CapacityLookupPanel,deliveryDateid,DueDate,delvDateAfterSave,errorMessageTop"/>
                                <apex:commandButton value="Cancel"  action="{!hideCapacitylookupPop}" onclick="hideCancelcapacityLookupPopUp();" reRender="CapacityLookupPanel,errorMessageTop"/>
                            </div>
                            <div  id="CapacityDivDisable" >
                                <apex:commandButton value="Ok" disabled="true" action="{!CapacityIdSelected}" onclick="hideCapacityPopUp();" reRender="CapacityLookupPanel,deliveryDatePanelId,deliveryDateid,DueDate,delvDateAfterSave,errorMessageTop"/>
                                <apex:commandButton value="Cancel"  action="{!hideCapacitylookupPop}" onclick="hideCancelcapacityLookupPopUp();" reRender="CapacityLookupPanel,errorMessageTop"/>
                            </div>
                        </center>
                    </apex:pageblock>
                </apex:outputPanel>
            </apex:outputpanel>
        </div>
        <div id="capacityReservationDivId">
            <apex:outputPanel id="reserveCapacityOPJs">
                <input type="hidden" id="hiddenCapErrorSucceess" value="{!fullQWrapper.showReserveCapacityId}"/>
                <input type="hidden" id="hiddenIsCapAlreadyReserved" value="{!isCapacityAlreadyReserved}"/>
                <input type="hidden" id="isCapResOnShipping" value="{!isCapResFromShippingTab}"/>
                <input type="hidden" id="isEditforEmailQuotePdf" value="{!isEditForEmailQuote}"/>
                <script>
                        if(document.getElementById('hiddenCapErrorSucceess').value == 'true'){
                            document.getElementById('capacityReservationDivId').style.display='';
                        }
                        if(document.getElementById('hiddenIsCapAlreadyReserved').value == 'true'){
                            if(document.getElementById('isCapResOnShipping').value == 'true'){
                                document.getElementById('reserveCapDiv').style.display = 'none';
                            }else{
                                //if(document.getElementById('isEditforEmailQuotePdf').value != 'true'){
                                if(document.getElementById('hiddenIsCapAlreadyReserved').value != 'true'){
                                    document.getElementById('reserveCapDiv').style.display = '';
                                }
                            }
                        }
                        
                        
                    </script>
            </apex:outputPanel>
            <apex:outputPanel id="reserveCapacityOP">
                <apex:outputPanel rendered="{!fullQWrapper.showReserveCapacityId}">
                    <apex:outputPanel styleClass="stylePopupBackground" layout="block" />
                    <apex:outputPanel styleClass="stylePopup" layout="block" >
                        <center>
                            <table>
                                <tr>
                                    <td align="center">
                                        <h1>Reserve Capacity</h1>
                                    </td>
                                </tr>
                                <tr>
                                    <td align="center">
                                        <apex:messages styleClass="errorMsg" style="font-family:georgia,garamond,serif;" />
                                        <br/>
                                        <apex:outputText style="font-weight:bold;" value="{!fullQWrapper.reserveCapacityId}"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td align="center">
                                        <apex:outputText style="font-weight:bold;" rendered="{!IsReservedSuccess}" value="Your reservation has successfully completed."/>
                                    </td>
                                </tr>
                                <tr>
                                    <td align="center">
                                        <apex:actionStatus id="CapReservedClosePopup">
                                            <apex:facet name="stop">
                                                <apex:commandbutton value="Close" oncomplete="document.getElementById('capacityReservationDivId').style.display='none';" action="{!hideReserveCapacityId}" rerender="reserveCapacityOP" status="CapReservedClosePopup" />
                                            </apex:facet>
                                            <apex:facet name="start">
                                                <apex:commandButton value="Closing..."   disabled="true" status="CapReservedClosePopup"/>
                                            </apex:facet>
                                        </apex:actionStatus>
                                    </td>
                                </tr>
                            </table>
                        </center>
                    </apex:outputPanel>
                </apex:outputPanel>
            </apex:outputPanel>
        </div>
        <apex:outputPanel id="SaveSuccess">
            <input type="hidden" id="hiddenIsSucceess" value="{!isSaveSuccess}"/>
            <script>
                    if(document.getElementById('hiddenIsSucceess').value == 'true'){
                        document.getElementById('reserveCapDiv').style.display = '';
                    }
                </script>
        </apex:outputPanel>
        <div id="reserveCapDiv" style="display:none;">
            <apex:outputPanel id="reserveCapPanel">
                <apex:outputPanel styleClass="analysiSetPopupBackground1" layout="block" />
                <apex:outputPanel styleClass="analysiSetPopup1" style="-moz-border-radius: 15px;-webkit-border-radius: 15px;border-radius: 10px;" layout="block" >
                    <br/>
                    <apex:commandLink onclick="hideResCapPopUp();" action="{!capReservePopUpNo}" rerender="reserveCapPanel">
                        <apex:image style="position:relative;left:700px;" value="{!$Resource.WindowCloseLogo}" width="30" height="30"/>
                    </apex:commandLink>
                    <br/>
                    <apex:pageblock title="Capacity Reservation" rendered="{!fullQWrapper.showCapacityPopUp}">
                        <apex:messages styleClass="errorMsg" style="font-family:georgia,garamond,serif;" />
                        <apex:outputPanel rendered="{!!fullQWrapper.ifCapacityYes}">
                            <center>
                                <apex:outputPanel id="NeedToReserveCap" rendered="{!(!isCapacityAlreadyReserved)}">
                                    <apex:outputText value="Do you Want to reserve the Capacity?" />
                                    <apex:actionStatus id="CapYesStatus">
                                        <apex:facet name="stop">
                                            <apex:commandButton value="Yes" action="{!capReservePopUpYes}" status="CapYesStatus" reRender="reserveCapPanel" />
                                        </apex:facet>
                                        <apex:facet name="start">
                                            <apex:commandButton value="Loading.."  disabled="true" status="CapYesStatus" />
                                        </apex:facet>
                                    </apex:actionStatus>
                                    <apex:actionStatus id="CapNoStatus">
                                        <apex:facet name="stop">
                                            <apex:commandButton value="No" action="{!capReservePopUpNo}" status="CapNoStatus" reRender="reserveCapPanel"/>
                                        </apex:facet>
                                        <apex:facet name="start">
                                            <apex:commandButton value="Loading.."   disabled="true" status="CapNoStatus"/>
                                        </apex:facet>
                                    </apex:actionStatus>
                                </apex:outputPanel>
                                <apex:outputPanel id="NeedToUnReserveCap"  rendered="{!isCapacityAlreadyReserved}">
                                    <apex:outputText value="Do you want to unreserve the capacity?" />
                                    <input type="button" id="CapUnreservedYes" value="Yes" onclick="CapacityUnreservedFun(this);" />
                                    <apex:actionStatus id="CapUnreserveYesNoStatus">
                                        <apex:facet name="stop">
                                            <apex:commandButton value="No"  oncomplete="hideResCapPopUp();" action="{!capReservePopUpNo}" reRender="reserveCapPanel"  status="CapUnreserveYesNoStatus"/>
                                        </apex:facet>
                                        <apex:facet name="start">
                                            <apex:commandButton value="Loading.."   disabled="true" status="CapUnreserveYesNoStatus"/>
                                        </apex:facet>
                                    </apex:actionStatus>
                                </apex:outputPanel>
                            </center>
                        </apex:outputPanel>
                        <apex:outputPanel rendered="{!fullQWrapper.ifCapacityYes}">
                            <apex:pageBlockSection >
                                <apex:pageBlockSectionItem >
                                    <apex:outputLabel value="Scheduled Delivery" />
                                    <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                        <apex:outputPanel styleClass="requiredBlock" layout="block" id="deliveryDatePanelId"/>
                                        <apex:inputField value="{!fullQuote.Scheduled_Delivery__c}" id="delvDateAfterSave"></apex:inputField>
                                    </apex:outputPanel>
                                </apex:pageBlockSectionItem>
                                <apex:pageBlockSectionItem >
                                    <apex:outputLabel value="Delivery Slot" />
                                    <apex:selectList value="{!fullQWrapper.deliverySlot}"  multiselect="false" size="1">
                                        <apex:selectOption itemValue="AM" itemLabel="AM"/>
                                        <apex:selectOption itemValue="PM" itemLabel="PM"/>
                                    </apex:selectList>
                                </apex:pageBlockSectionItem>
                            </apex:pageBlockSection>
                            <b>
                                <apex:actionStatus id="CapReserve">
                                    <apex:facet name="stop">
                                        <apex:commandButton action="{!reserveCapacity}" status="CapReserve" value="Reserve capacity" reRender="reserveCapacityOP,reserveCapacityOPJs,reserveCapPanel,errorMessageTop" />
                                    </apex:facet>
                                    <apex:facet name="start">
                                        <apex:commandButton value="Loading..." styleclass="readmore" disabled="true" status="SearchLoad" />
                                    </apex:facet>
                                </apex:actionStatus>
                            </b>
                            <br/>
                            <apex:commandbutton value="Capacity Lookup" action="{!callCapacityLookupWebservice}" onclick="showCapacityPopUp();" rerender="CapacityLookupPanel,errorMessageTop" />
                        </apex:outputPanel>
                    </apex:pageblock>
                </apex:outputPanel>
            </apex:outputPanel>
        </div>
        <!--Email Sending function -->
        <apex:outputPanel id="EmailSendSuccess">
            <input type="hidden" id="isSaveSuccess" value="{!isSaveSuccessEmail}"/>
            <script>
                    if(document.getElementById('isSaveSuccess').value == 'true'){
                        document.getElementById('EmailQuote').style.display = 'none';
                    }
                </script>
        </apex:outputPanel>
        <div id="EmailQuote" style="display:none;">
            <apex:outputPanel id="EmailQuotePanel">
                <apex:outputPanel rendered="{!isErrorMessageForEmail}">
                    <apex:outputPanel styleClass="analysiSetPopupBackground" layout="block" />
                    <apex:outputPanel styleClass="analysiSetPopupEmail" layout="block" >
                        <apex:commandLink onclick="hideCancelEmailPopUp();" action="{!cancelSending}" rerender="EmailQuotePanel">
                            <apex:image style="position:relative;left:450px;" value="{!$Resource.WindowCloseLogo}" width="30" height="30"/>
                        </apex:commandLink>
                        <apex:outputPanel rendered="{!!EmailshowPopUp}">
                            <div align="center">
                                <img src="{!$Resource.Loading}" />
                                <br/>
                                <br/>
                                <font color="Red">
                                    <b>Loading....</b>
                                </font>
                            </div>
                        </apex:outputPanel>
                        <apex:pageblock id="composeEmailSection" title="Sending E-Mail" rendered="{!EmailshowPopUp}">
                            <apex:messages styleClass="errorMsg" style="font-family:georgia,garamond,serif;" id="EmailError"/>
                            <table id="val_grid" width="100%" align="center" height="100%">
                                <tr height="20%">
                                    <td width="15%" align="center" style="font-weight: bold;">From:</td>
                                    <td align="left">
                                        <apex:inputTextArea value="{!fromIdToEmailQoute}" style="width:361px;height:25px;" disabled="true"></apex:inputTextArea>
                                    </td>
                                </tr>
                                <tr>
                                    <td width="15%" align="center" style="font-weight: bold;">To:</td>
                                    <td align="left">
                                        <apex:inputTextArea value="{!emailIdForEmailQuote}" id="toAddressId" style="width:361px; height:25px;"></apex:inputTextArea>
                                    </td>
                                    <td>
                                        <apex:actionStatus id="EmailSectionTo">
                                            <apex:facet name="stop">
                                                <apex:commandLink action="{!showContactPopUpEmail}" onclick="showEmailListOfContact('toAddress');" reRender="contactPanelEmail" status="EmailSectionTo" style="position:relative;top:5px;">
                                                    <apex:image value="{!$Resource.SearchImage}"  height="18" width="18" />
                                                </apex:commandLink>
                                            </apex:facet>
                                            <apex:facet name="start">
                                                <!--                                                    <apex:commandButton value="Adding..." styleclass="readmore" disabled="true" status="EmailSectionTo" /> -->
                                            </apex:facet>
                                        </apex:actionStatus>
                                    </td>
                                </tr>
                                <tr>
                                    <td width="15%" align="center" style="font-weight: bold;">Cc1:</td>
                                    <td align="left">
                                        <apex:inputTextArea value="{!cc1EmailToQuoteId}" id="cc1Id" style="width:361px; height:25px;"></apex:inputTextArea>
                                    </td>
                                    <td>
                                        <apex:actionStatus id="EmailSectionCC1">
                                            <apex:facet name="stop">
                                                <apex:commandLink action="{!showContactPopUpEmail}" onclick="showEmailListOfContact('cc1Address');" reRender="contactPanelEmail" status="EmailSectionCC1" style="position:relative;top:5px;">
                                                    <apex:image value="{!$Resource.SearchImage}"  height="18" width="18" />
                                                </apex:commandLink>
                                            </apex:facet>
                                            <apex:facet name="start">
                                                <!--                                                    <apex:commandButton value="Adding..." styleclass="readmore" disabled="true" status="EmailSectionCC1" /> -->
                                            </apex:facet>
                                        </apex:actionStatus>
                                    </td>
                                </tr>
                                <tr>
                                    <td width="15%" align="center" style="font-weight: bold;">Cc2:</td>
                                    <td align="left">
                                        <apex:inputTextArea value="{!cc2EmailToQuoteId}" id="cc2Id" style="width:361px; height:25px;"></apex:inputTextArea>
                                    </td>
                                    <td>
                                        <apex:actionStatus id="EmailSectionCC2">
                                            <apex:facet name="stop">
                                                <apex:commandLink action="{!showContactPopUpEmail}" onclick="showEmailListOfContact('cc2Address');" reRender="contactPanelEmail" status="EmailSectionCC2" style="position:relative;top:5px;">
                                                    <apex:image value="{!$Resource.SearchImage}"  height="18" width="18" />
                                                </apex:commandLink>
                                            </apex:facet>
                                            <apex:facet name="start">
                                                <!--                                                    <apex:commandButton value="Loading..." styleclass="readmore" disabled="true" status="EmailSectionCC2" /> -->
                                            </apex:facet>
                                        </apex:actionStatus>
                                    </td>
                                </tr>
                                <tr>
                                    <td width="15%" align="center" style="font-weight: bold;">Subject:</td>
                                    <td align="left">
                                        <apex:inputText value="{!SubjectEmailQuote}" id="emailSubject" style="width:365px; height:25px;"></apex:inputText>
                                    </td>
                                </tr>
                                <tr>
                                    <td width="15%" align="center" style="font-weight: bold;">Message:</td>
                                    <td align="left">
                                        <apex:inputTextArea style="width: 361px; height: 112px;" value="{!MailBodyToQuote}" id="messageId" ></apex:inputTextArea>
                                    </td>
                                </tr>
                                <tr>
                                    <td width="15%" align="center" style="font-weight: bold;"></td>
                                    <td align="left">
                                        <input type="Button" id="btnAttachment" value="Attachment"  onclick="return attachmentPopUp();" tabindex="18" >
                                           <apex:outputPanel id="pollerOP">
                                            <apex:actionPoller id="ActionPollerStartEnd" action="{!attachmentListViewMethod}" reRender="attachListDiv,ActionPollerStartEnd,pollerOP" interval="5" enabled="{!IF(isEnableAction = 'Start' ,true,false)}"/>
                                            </apex:outputPanel>
                                        </input>
                                    </td>
                                </tr>
                            </table>
                            <apex:outputPanel id="attachListDiv">
                                <table width="100%">
                                    <apex:repeat value="{!attachmentList}" var="attli" >
                                        <tr>
                                            <td width="15%"></td>
                                            <td height="15px" style="width: 15%;" >
                                                <apex:actionRegion >
                                                    <apex:actionstatus id="DeleteId">
                                                        <apex:facet name="stop">
                                                            <apex:outputlabel >
                                                                <apex:commandLink rerender="attachListDiv,ActionPollerStartEnd,pollerOP" action="{!deleteAttachach}" value="Delete" status="DeleteId">
                                                                    <apex:param name="attachId" value="{!attli.id}"/>
                                                                </apex:commandLink>
                                                            </apex:outputlabel>
                                                        </apex:facet>
                                                        <apex:facet name="start">
                                                            <apex:outputlabel >
                                                                <apex:commandLink value="Deleteing..."  status="DeleteId" ></apex:commandLink>
                                                            </apex:outputlabel>
                                                        </apex:facet>
                                                    </apex:actionstatus>
                                                </apex:actionRegion>
                                            </td>
                                            <td style="padding-left: 5px;" width="70%">
                                                <apex:outputText value="{!attli.Name}" ></apex:outputText>
                                            </td>
                                        </tr>
                                    </apex:repeat>
                                </table>
                            </apex:outputPanel>
                            
                            <!-- <apex:pageBlockSection id="selectTemplateId" title="Select email template" collapsible="true">
	                            <apex:pageBlockSectionItem id="emailTemplateSection" > -->
							 		<apex:outputPanel id="emailTemplateOp">
					 					<input type="hidden" id="hiddenSelectedEmailTemplate" name="hiddenSelectedEmailTemplate" />
					 					<table>
					 						<tr>
					 							<td><label style="font-weight:bold;">Select an email template folder</label></td>
					 							<td>
					 								<apex:selectList id="lstOfEmailTempFolder" value="{!selectedFolder}" size="1">
					 									<apex:selectOptions value="{!lstFldr}"/>
					 									<apex:actionsupport event="onchange"  action="{!showEmailTemplate}" rerender="emailTemplateListOuterOp,ActionPollerStartEnd,pollerOP" id="selectTempFolder" status="searchTemplateStatus" />
					 								</apex:selectList>
					 								<apex:actionStatus id="searchTemplateStatus" > 
				                                       <apex:facet name="start">
				                                           <apex:image value="{!$Resource.Loading}" width="20" height="20"/>                               
				                                       </apex:facet>
				                                       <apex:facet name="stop"></apex:facet>                     
				                                   </apex:actionStatus>
					 							</td>
					 						</tr>
					 					</table>
								 	</apex:outputPanel>
							 	<!-- </apex:pageBlockSectionItem>
							 	<apex:pageBlockSectionItem ></apex:pageBlockSectionItem>
							 	<apex:pageBlockSectionItem id="emailTempList"> -->
							 		<apex:outputPanel id="emailTemplateListOuterOp">
								 		<apex:outputPanel id="emailTemplateListOp" rendered="{!isThereATemplate}">
								 			<apex:outputLabel style="font-weight:bold;" value="Please select an email template below" /><br/>
								 			<div style="float:left;width:100%;height:150px;overflow:auto;"><br/>
									 			<table>
													<apex:repeat value="{!lstEmailTemplate}" var="temp">
													<tr>
														<td align="left"><input type="radio" name="Select" value="{!temp.Id}" onclick="getSelectedTempId('{!temp.Id}');"/> &nbsp;&nbsp;{!temp.Name}</td>
													</tr>
													</apex:repeat>
												</table>
											</div><br/>
											<apex:actionStatus id="GenerateBody">
							 					<apex:facet name="stop">
							 							
								 						<!-- <apex:commandButton action="{!generateEmailBody}" value="Apply Template" rerender="emailTemplateListOuterOp,emailSubject,messageId" status="GenerateBody" /> -->
								 						<input type="Button" class="btn" id="generateEmailTemplateBody" value="Apply Template" onclick="callGenerateEmailBody();"/>
							 					</apex:facet>
							 					<apex:facet name="start">
							 							<apex:commandButton value="Loading..." disabled="true" status="GenerateBody" />
							 					</apex:facet>
							 				</apex:actionStatus><br/>
								 		</apex:outputPanel>
								 		<apex:outputPanel rendered="{!IF(selectedFolder !='' && isThereATemplate = false,true,false)}">
								 			<apex:outputLabel style="font-weight:bold;" value="No email template found!" />
								 		</apex:outputPanel>
							 		</apex:outputPanel>
							 	<!-- </apex:pageBlockSectionItem>
							 	
								<apex:pageBlockSectionItem ></apex:pageBlockSectionItem>
                            </apex:pageBlockSection> -->
                            
                            
                            <br/>
                            <center>
                                <div id="test">
                                    <apex:actionstatus id="EmailSendingLoading">
                                        <apex:facet name="stop">
                                            <apex:outputlabel >
                                                <apex:commandButton value="Send" action="{!sendEmailToUser}" status="EmailSendingLoading" rerender="EmailQuote,EmailQuotePanel,EmailError,EmailSendSuccess,ActionPollerStartEnd,pollerOP,toAddressId,cc1Id,cc2Id,attachListDiv"/>
                                                <apex:commandButton value="Cancel"  status="NewContactStatus" action="{!cancelSending}" onclick="hideCancelEmailPopUp();" rerender="EmailQuotePanel,EmailQuote"/>
                                            </apex:outputlabel>
                                        </apex:facet>
                                        <apex:facet name="start">
                                            <apex:outputlabel >
                                                <apex:commandButton value="Sending..." disabled="true" status="EmailSendingLoading" ></apex:commandButton>
                                                <apex:commandButton value="Sending..." disabled="true"  status="EmailSendingLoading"></apex:commandButton>
                                            </apex:outputlabel>
                                        </apex:facet>
                                    </apex:actionstatus>
                                </div>
                            </center>
                            <br/>
                        </apex:pageblock>
                    </apex:outputPanel>
                </apex:outputPanel>
            </apex:outputPanel>
        </div>
        <div id="contactIdPopUpForEmail" style="display:none;">
            <apex:outputpanel id="contactPanelEmail">
                <apex:outputPanel styleClass="contactEmailPopupBackground" layout="block" />
                <apex:outputPanel styleClass="contactEmailPopup" layout="block" >
                    <apex:commandLink action="{!cancelContactPopUp}" reRender="EmailQuotePanel" onclick="hideCancelContactPopUpEmail();">
                        <apex:image style="position:relative;left:700px;" value="{!$Resource.WindowCloseLogo}" width="30" height="30"/>
                    </apex:commandLink>
                    <apex:outputPanel rendered="{!!isEmailContactPopUp}">
                        <div align="center">
                            <img src="{!$Resource.Loading}" />
                            <br/>
                            <br/>
                            <font color="Red">
                                <b>Loading....</b>
                            </font>
                        </div>
                    </apex:outputPanel>
                    <apex:pageblock title="Select Contact" rendered="{!isEmailContactPopUp}">
                        <div style="overflow:scroll; width:100%; height:200px;">
                            <apex:outputPanel id="pan6">
                                <table id="ConBilling_gridEmail" width="100%">
                                    <!-- <tr bgcolor="#F8F8F8">
                                        <td></td>
                                        <td>
                                            <b>Email Id</b>
                                        </td>
                                        <td>
                                            <b>First Name</b>
                                        </td>
                                        <td>
                                            <b>Last Name</b>
                                        </td>
                                    </tr>
                                    <apex:repeat value="{!contactsResponseListForEmailQutoe}" var="l"  >
                                        <tr id="{!l.contactId}" bgcolor="#F2F2F2">
                                            <td>
                                                <apex:inputCheckbox value="{!l.IsSelected}"></apex:inputCheckbox>
                                            </td>
                                            <td >
                                                <apex:outputText value="{!l.contactId}" />
                                            </td>
                                            <td>
                                                <apex:outputText value="{!l.forename}" />
                                            </td>
                                            <td  >
                                                <apex:outputText value="{!l.surname}" />
                                            </td>
                                        </tr>
                                    </apex:repeat> -->
                                    <tr bgcolor="#F8F8F8">
                                        <td colspan="4" style="font-weight: bold; font-size: 12px;">SFDC Contacts Detail</td>
                                    </tr>
                                    <apex:repeat value="{!contactEmailId}" var="l"  >
                                        <tr id="{!l.conRec.FirstName}" bgcolor="#F2F2F2">
                                            <td>
                                                <apex:inputCheckbox value="{!l.IsSelected}"></apex:inputCheckbox>
                                            </td>
                                            <td >
                                                <apex:outputText value="{!l.conRec.Email}" />
                                            </td>
                                            <td  >
                                                <apex:outputText value="{!l.conRec.FirstName}" />
                                            </td>
                                            <td  >
                                                <apex:outputText value="{!l.conRec.LastName}" />
                                            </td>
                                        </tr>
                                    </apex:repeat>
                                </table>
                            </apex:outputPanel>
                        </div>
                        <br/>
                        <center>
                            <apex:actionstatus id="EmailAdding">
                                <apex:facet name="stop">
                                    <apex:outputlabel >
                                        <apex:commandButton status="EmailAdding" value="Ok" action="{!contactEmailSelect}" oncomplete="hideCancelContactPopUpEmail();" reRender="contactPanelEmail,cc2Id,cc1Id,toAddressId"/>
                                        <apex:commandButton status="EmailAdding" value="Cancel"  action="{!cancelContactPopUp}" reRender="contactPanelEmail,cc2Id,cc1Id,toAddressId" onclick="hideCancelContactPopUpEmail();"/>
                                    </apex:outputlabel>
                                </apex:facet>
                                <apex:facet name="start">
                                    <apex:outputlabel >
                                        <apex:commandButton value="Adding..." disabled="true" status="EmailAdding" ></apex:commandButton>
                                        <apex:commandButton value="Adding..." disabled="true"  status="EmailAdding"></apex:commandButton>
                                    </apex:outputlabel>
                                </apex:facet>
                            </apex:actionstatus>
                        </center>
                    </apex:pageblock>
                </apex:outputPanel>
            </apex:outputpanel>
        </div>
        <div id="DeliverySlotDiv" style="display: none;">
            <apex:outputPanel style="-moz-border-radius: 15px;-webkit-border-radius: 15px;border-radius: 10px;" styleClass="deliverySlotDiv" layout="block">
                <div align="center">
                    <table id="val_grid" width="100%" align="center" height="100%">
                        <tr>
                            <td align="left" style="padding-left: 5px; font-weight: bold;">25 Miles = 1 Delivery Slot</td>
                        </tr>
                        <tr>
                            <td align="left" style="padding-left: 5px; font-weight: bold;">26-50 Miles = 2 Delivery Slot</td>
                        </tr>
                        <tr>
                            <td align="left" style="padding-left: 5px; font-weight: bold;">51-75 Miles = 3 Delivery Slot</td>
                        </tr>
                        <tr>
                            <td align="left" style="padding-left: 5px; font-weight: bold;">76+ Miles = 4 Delivery Slot</td>
                        </tr>
                    </table>
                </div>
            </apex:outputPanel>
        </div>
        <apex:outputPanel id="DecarteErrorOp">
            <input type="hidden" id="decareteErroeId" value="{!isDecarteError}"/>
            <script>
                    if(document.getElementById('decareteErroeId').value == 'true'){
                        document.getElementById('decarteErrorDivId').style.display = '';
                    }else{
                        if(document.getElementById('decarteErrorDivId') != null){
                            document.getElementById('decarteErrorDivId').style.display = 'none';
                        }
                    }
                </script>
        </apex:outputPanel>
        <!-- ---decartes error popup--- -->
        <div id="decarteErrorDivId" style="display:none;">
            <apex:outputPanel id="decarteErrorPanel">
                <apex:outputPanel styleClass="analysiSetPopupBackground" layout="block" />
                <apex:outputPanel styleClass="analysiSetPopup" style="-moz-border-radius: 15px;-webkit-border-radius: 15px;border-radius: 10px;" layout="block" >
                    <br/>
                    <apex:commandLink onclick="hideDecarteErrorPopUp();" rerender="decarteErrorPanel">
                        <apex:image style="position:relative;left:700px;" value="{!$Resource.WindowCloseLogo}" width="30" height="30"/>
                    </apex:commandLink>
                    <br/>
                    <apex:outputPanel >
                        <center>
                            <label style="color:#F00; font-weight:bold;">Document Waiting For Descartes.</label>
                        </center>
                    </apex:outputPanel>
                </apex:outputPanel>
            </apex:outputPanel>
        </div>
        <apex:outputPanel id="MarkAsLostErrorOp">
            <input type="hidden" id="MarkAsLostErroeId" value="{!isMarkAsLostError}"/>
            <script>
                    if(document.getElementById('MarkAsLostErroeId').value == 'true'){
                        document.getElementById('MarkAsLostErrorDivId').style.display = '';
                    }else{
                        if(document.getElementById('MarkAsLostErrorDivId') != null){
                            document.getElementById('MarkAsLostErrorDivId').style.display = 'none';
                        }
                    }
                </script>
        </apex:outputPanel>
        <!-- --Mark as lost popup--- -->
        <div id="MarkAsLostErrorDivId" style="display:none;">
            <apex:outputPanel id="MarkAsLostErrorPanel">
                <apex:outputPanel styleClass="analysiSetPopupBackground" layout="block" />
                <apex:outputPanel styleClass="analysiSetPopup" style="-moz-border-radius: 15px;-webkit-border-radius: 15px;border-radius: 10px;" layout="block" >
                    <br/>
                    <apex:commandLink onclick="hideMarkAsLostErrorPopUp();" rerender="MarkAsLostErrorPanel">
                        <apex:image style="position:relative;left:700px;" value="{!$Resource.WindowCloseLogo}" width="30" height="30"/>
                    </apex:commandLink>
                    <br/>
                    <apex:outputPanel >
                        <p style="color:#F00; font-weight:bold;">Please change opportunity stage to "Quoted-Lost Business" and fill values for "Opportunity - Lost Additional Information" page section of Opportunity.</p>
                    </apex:outputPanel>
                </apex:outputPanel>
            </apex:outputPanel>
        </div>
        <apex:outputPanel id="ConvertToOrderOp" >
            <apex:outputPanel id="ConvertToOrderInnerOp"  rendered="{!isCallingOrderConversionNeeded}">
                <input type="hidden" id="ConvertToOrderErroeId" value="{!isCallingOrderConversionNeeded}"/>
                <script>
                            if(document.getElementById('ConvertToOrderErroeId').value == 'true'){
                                callConvertToOrderFN();
                            }
                        </script>
            </apex:outputPanel>
        </apex:outputPanel>
        <!--Add Contacts popup -->
        <div id="addContactPopUp" style="display:none;">
            <apex:outputpanel id="addContactPanel">
                <apex:outputPanel styleClass="analysiSetPopupBackground" layout="block" />
                <apex:outputPanel styleClass="addContactPopup" layout="block" >
                    <apex:commandLink action="{!cancelAddContactPopUp}" onclick="hideAddCancelContactPopUp();" reRender="addContactPanel" >
                        <apex:image style="position:relative;left:700px;" value="{!$Resource.WindowCloseLogo}" width="30" height="30"/>
                    </apex:commandLink>
                    <apex:outputPanel rendered="{!!fullQWrapper.addContactPopup}">
                        <div align="center">
                            <img src="{!$Resource.Loading}" />
                            <br/>
                            <br/>
                            <font color="Red">
                                <b>Loading....</b>
                            </font>
                        </div>
                    </apex:outputPanel>
                    <apex:outputPanel id="addConAndCArdOuterPannel" rendered="{!fullQWrapper.addContactPopup}">
                        <apex:outputPanel id="addConOuterPannel">
                            <apex:pageMessages />
                            <apex:outputPanel id="addConAddContPannel" rendered="{!isShowAddCon}">
                                <apex:pageblock id="addConPbId" title="Add Contact">
                                    <apex:pageBlockSection title="" collapsible="true" id="addContForm">
                                        <apex:pageBlockSectionItem id="ContactFirstName">
                                            <apex:outputLabel value="First Name" />
                                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                                <apex:inputText value="{!fullQWrapper.contFn}"  maxlength="20" id="ContactFnId"/>
                                                <br/>
                                                <div id="ValConFnId" style="color:#F00;" ></div>
                                            </apex:outputPanel>
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem id="ContactLastName">
                                            <apex:outputLabel value="Last Name" />
                                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                                <apex:inputText value="{!fullQWrapper.contLn}"  maxlength="20" id="ContactLnId" />
                                                <br/>
                                                <div id="ValConLnId" style="color:#F00;" ></div>
                                            </apex:outputPanel>
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem id="ContactEmail">
                                            <apex:outputLabel value="Email" />
                                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                                <apex:inputText value="{!fullQWrapper.contEmail}"  maxlength="40" id="ContactEmailId" />
                                                <br/>
                                                <div id="ValConEmailId" style="color:#F00;" ></div>
                                            </apex:outputPanel>
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem id="ContactPhone">
                                            <apex:outputLabel value="Phone" />
                                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                                <apex:inputText value="{!fullQWrapper.contPhone}"  maxlength="20" id="ContactPhoneId" />
                                                <br/>
                                                <div id="ValConPhoneId" style="color:#F00;" ></div>
                                            </apex:outputPanel>
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem id="ContactFax">
                                            <apex:outputLabel value="Fax" />
                                            <apex:inputText value="{!fullQWrapper.contFax}"  maxlength="20" id="ContactFaxId" />
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem id="ContactIsPrimary">
                                            <apex:outputLabel value="Is Primary" />
                                            <apex:inputCheckBox value="{!fullQWrapper.contIsPrimary}"  id="ContactIsPrimaryId"/>
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem id="ContactIsActive">
                                            <apex:outputLabel value="Is Active" />
                                            <apex:inputCheckBox value="{!fullQWrapper.contIsActive}"  id="ContactIsActiveId" disabled="{!isAddContact}"/>
                                        </apex:pageBlockSectionItem>
                                    </apex:pageBlockSection>
                                    <apex:pageBlockButtons location="bottom" id="addContactButtonPnl">
                                        <apex:actionstatus id="addContactFormStatus">
                                            <apex:facet name="stop">
                                                <apex:outputPanel >
                                                    <apex:outputPanel rendered="{!isAddContact}" >
                                                        <input type="Button" class="btn" id="btnAddContact" value="Add Contact" onclick="validateContactForm('add');"/>
                                                    </apex:outputPanel>
                                                    <apex:outputPanel rendered="{!!isAddContact}" >
                                                        <input type="Button" class="btn" id="btnUpdateContact" value="Update Contact" onclick="validateContactForm('update');"/>
                                                    </apex:outputPanel>
                                                    <!-- <apex:commandButton action="{!AddContact}" onclick="return validateCardForm();" id="btnAddContact" value="Add Contact" rendered="{!isAddContact}" reRender="addConOuterPannel" status="addContactFormStatus"/><apex:commandButton action="{!UpdateContact}" value="Update Contact"  rendered="{!!isAddContact}" reRender="addConOuterPannel"  status="addContactFormStatus"/> -->
                                                </apex:outputPanel>
                                            </apex:facet>
                                            <apex:facet name="start">
                                                <apex:outputPanel >
                                                    <apex:commandButton value="Loading..." disabled="true" status="addContactFormStatus" reRender="addConOuterPannel"/>
                                                </apex:outputPanel>
                                            </apex:facet>
                                        </apex:actionstatus>
                                    </apex:pageBlockButtons>
                                </apex:pageblock>
                            </apex:outputPanel>
                            <apex:outputPanel id="addConListContPannel"  rendered="{!isShowListCon}">
                                <apex:pageblock title="List Contact" id="contactListPb">
                                    <div style="height:auto;min-height:50px;height:auto !important;height:30px;max-height: 230px;overflow:auto;">
                                        <apex:pageBlockTable value="{!listOfAllContacts}" var="l" id="contactListPbTbl">
                                            <apex:column headerValue="First Name">
                                                <apex:outputText value="{!l.forename}" />
                                            </apex:column>
                                            <apex:column headerValue="Last Name">
                                                <apex:outputText value="{!l.surname}" />
                                            </apex:column>
                                            <!-- <apex:column headerValue="Email"><apex:outputText value="{!l.Email}" /></apex:column><apex:column headerValue="Phone"><apex:outputText value="{!l.Phone}" /></apex:column><apex:column headerValue="Is Active"><apex:outputText value="{!l.isActive}" /></apex:column><apex:column headerValue="Is Primary"><apex:outputText value="{!l.isPrimary}" /></apex:column> -->
                                            <apex:column headerValue="Edit">
                                                <apex:actionstatus id="EditContactFormStatus">
                                                    <apex:facet name="stop">
                                                        <apex:commandLink action="{!EditContact}" value="Edit Contact" id="EditContactLnkId" status="EditContactFormStatus" reRender="addConOuterPannel">
                                                            <apex:param name="cId" value="{!l.contactId}"/>
                                                        </apex:commandLink>
                                                    </apex:facet>
                                                    <apex:facet name="start">
                                                        <apex:commandLink value="Loading..." style="text-decoration:none;" status="EditContactFormStatus" reRender="addConOuterPannel"/>
                                                    </apex:facet>
                                                </apex:actionstatus>
                                            </apex:column>
                                            <apex:column headerValue="Add Card" rendered="{!IF(contains(fullQWrapper.AccountId,'P') || contains(fullQWrapper.AccountId,'G'),false,true)}">
                                                <apex:actionstatus id="addCardStatus">
                                                    <apex:facet name="stop">
                                                        <apex:commandLink action="{!showAddCardTab}" value="Add / View Card" id="AddCardLnkId" status="addCardStatus" reRender="addConOuterPannel">
                                                            <apex:param name="contId" value="{!l.contactId}"/>
                                                        </apex:commandLink>
                                                    </apex:facet>
                                                    <apex:facet name="start">
                                                        <apex:commandLink value="Loading..." style="text-decoration:none;" status="addCardStatus" reRender="addConOuterPannel"/>
                                                    </apex:facet>
                                                </apex:actionstatus>
                                            </apex:column>
                                            <apex:column headerValue="Add ACH" rendered="{!IF(contains(fullQWrapper.AccountId,'P') || contains(fullQWrapper.AccountId,'G'),false,true)}">
                                                <apex:actionstatus id="addAchStatus">
                                                    <apex:facet name="stop">
                                                        <apex:commandLink action="{!showAddAchTab}" value="Add / View ACH" id="AddAchLnkId" status="addAchStatus" reRender="addConOuterPannel">
                                                            <apex:param name="contAchId" value="{!l.contactId}"/>
                                                        </apex:commandLink>
                                                    </apex:facet>
                                                    <apex:facet name="start">
                                                        <apex:commandLink value="Loading..." style="text-decoration:none;" status="addAchStatus" reRender="addConOuterPannel"/>
                                                    </apex:facet>
                                                </apex:actionstatus>
                                            </apex:column>
                                            <apex:column headerValue="Use As">
                                                <!-- <apex:actionstatus id="selectContactId">
                                                    <apex:facet name="stop"> -->
                                                        <apex:outputPanel >
                                                            <apex:commandLink action="{!UseAsBillingContactId}" value="Billing Contact"  onclick="hideAddCancelContactPopUp();" rendered="{!isAddContactFromBillingTab}" id="asBillingContactId" status="onloadStatus" reRender="addConOuterPannel,cc2Id,cc1Id,toAddressId,errorMessageTop,billingCantdId,billingContactId,billingContactLnId,telephoneId,billingEmailId,billingFaxId,billingMobileNo">
                                                                <apex:param name="selectedContactBilling" value="{!l.contactId}"/>
                                                            </apex:commandLink>
                                                            <apex:commandLink action="{!UseAsShippingContactId}" value="Shipping Contact"  onclick="hideAddCancelContactPopUp();" rendered="{!isAddContactFromShippingTab}" id="asShippingContactId" status="onloadStatus" reRender="addConOuterPannel,deliveryContactId,deliveryConatId,shippingContactPanel,delTelId, delFaxId, delEmailId">
                                                                <apex:param name="selectedContactShipping" value="{!l.contactId}"/>
                                                            </apex:commandLink>
                                                        </apex:outputPanel>
                                                    <!-- </apex:facet>
                                                    <apex:facet name="start">
                                                        <apex:commandLink value="Loading..." style="text-decoration:none;" status="selectContactId" reRender="addConOuterPannel"/>
                                                    </apex:facet>
                                                </apex:actionstatus> -->
                                            </apex:column>
                                        </apex:pageBlockTable>
                                    </div>
                                </apex:pageblock>
                            </apex:outputPanel>
                            <apex:outputPanel id="addConAddCardPannel" rendered="{!isShowAddCard}">
                                <apex:pageblock title="Add Card" id="addCcardPbId">
                                    <apex:pageBlockSection title="" collapsible="true" id="addCcardForm">
                                        
                                        <apex:pageBlockSectionItem id="CardDefaultAddressCode">
                                            <apex:outputLabel value="Default Address Code" />
                                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                                <apex:selectList id="DefAddrList" value="{!fullQWrapper.cardDefaultAddressCode}" size="1">
                                                    <apex:selectOptions value="{!lstDefaultAddress}"/>
                                                </apex:selectList>
                                                <br/>
                                                <div id="ValCardDefaultAddressCodeId" style="color:#F00;" ></div>
                                            </apex:outputPanel>
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem ></apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem id="CardFirstName">
                                            <apex:outputLabel value="First Name" />
                                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                                <apex:inputText value="{!fullQWrapper.cardFirstName}"  maxlength="20" id="CardFnId"/>
                                                <br/>
                                                <div id="ValCardFnId" style="color:#F00;" ></div>
                                            </apex:outputPanel>
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem id="CardType">
                                            <apex:outputLabel value="Card Type" />
                                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                                <apex:selectList id="CardTypeList" disabled="{!!isAddCard}" value="{!fullQWrapper.cardType}" size="1">
                                                    <apex:selectOptions value="{!lstCardType}" />
                                                </apex:selectList>
                                                <br/>
                                                <div id="ValCardTypeId" style="color:#F00;" ></div>
                                            </apex:outputPanel>
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem id="CardLastName">
                                            <apex:outputLabel value="Last Name" />
                                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                                <apex:inputText value="{!fullQWrapper.cardLastName}"  maxlength="20" id="CardLnId" />
                                                <br/>
                                                <div id="ValCardLnId" style="color:#F00;" ></div>
                                            </apex:outputPanel>
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem id="CardPaymentType">
                                            <apex:outputLabel value="Payment Type" />
                                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                                <apex:selectList id="PaymentTypeList" disabled="{!!isAddCard}" value="{!fullQWrapper.cardPaymentType}" size="1">
                                                    <apex:selectOptions value="{!lstPaymentType}"/>
                                                </apex:selectList>
                                                <br/>
                                                <div id="ValCardPaymentTypeId" style="color:#F00;" ></div>
                                            </apex:outputPanel>
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem id="CardEmail">
                                            <apex:outputLabel value="Email" />
                                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                                <apex:inputText value="{!fullQWrapper.cardEmail}"  maxlength="40" id="CardEmailId" />
                                                <br/>
                                                <div id="ValCardEmailId" style="color:#F00;" ></div>
                                            </apex:outputPanel>
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem id="CardNumber">
                                            <apex:outputLabel value="Card Number" />
                                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                                <apex:inputText value="{!fullQWrapper.cardNumber}" onchange="DisableCardNoRelatedField();" maxlength="16" id="CardNumberId"/>
                                                <br/>
                                                <div id="ValCardNumberId" style="color:#F00;" ></div>
                                            </apex:outputPanel>
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem id="CardStreet">
                                            <apex:outputLabel value="Street" />
                                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                                <apex:inputText value="{!fullQWrapper.cardStreetAddress}"  maxlength="40" id="CardStreetId" />
                                                <br/>
                                                <div id="ValCardStreetId" style="color:#F00;" ></div>
                                            </apex:outputPanel>
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem id="CardExpiryMonth">
                                            <apex:outputLabel value="Expiry Month" />
                                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                                <apex:selectList id="ExpiryMonthList" value="{!fullQWrapper.cardExpiryMonth}" size="1">
                                                    <apex:selectOptions value="{!lstExpiryMonth}"/>
                                                </apex:selectList>
                                                <br/>
                                                <div id="ValCardExpiryMonthId" style="color:#F00;" ></div>
                                            </apex:outputPanel>
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem id="CardCity">
                                            <apex:outputLabel value="City" />
                                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                                <apex:inputText value="{!fullQWrapper.cardCity}"  maxlength="20" id="CardCityId"/>
                                                <br/>
                                                <div id="ValCardCityId" style="color:#F00;" ></div>
                                            </apex:outputPanel>
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem id="CardExpiryYear">
                                            <apex:outputLabel value="Expiry Year" />
                                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                                <apex:selectList id="ExpiryYearList" value="{!fullQWrapper.cardExpiryYear}" size="1">
                                                    <apex:selectOptions value="{!lstExpiryYear}"/>
                                                </apex:selectList>
                                                <br/>
                                                <div id="ValCardExpiryYearId" style="color:#F00;" ></div>
                                            </apex:outputPanel>
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem id="CardCountry">
                                            <apex:outputLabel value="Country" />
                                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                                <apex:selectList id="CardCountryListId" value="{!fullQWrapper.cardCountry}" size="1">
                                                    <apex:selectOptions value="{!CountryOptions}"/>
                                                    <apex:actionsupport event="onchange" status="cardCountryStatusId" action="{!PopulateCardStatesList}" rerender="addConOuterPannel,CardState,CardStateListId,CardStateOptionId" />
                                                </apex:selectList>
                                                <apex:actionStatus id="cardCountryStatusId" >
                                                    <apex:facet name="start">
                                                        <apex:image value="{!$Resource.Loading}" width="20" height="20"/>
                                                    </apex:facet>
                                                    <apex:facet name="stop"></apex:facet>
                                                </apex:actionStatus>
                                                <br/>
                                                <div id="ValCardCountryId" style="color:#F00;" ></div>
                                            </apex:outputPanel>
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem id="CardAdditionalSecurityData">
                                            <apex:outputLabel value="Additional Security Data" />
                                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                                <apex:inputText value="{!fullQWrapper.cardAdditionalSecurityData}"  maxlength="20" id="CardAdditionalSecurityDataId"/>
                                                <br/>
                                                <div id="ValCardAdditionalSecurityDataId" style="color:#F00;" ></div>
                                            </apex:outputPanel>
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem id="CardState">
                                            <apex:outputLabel value="State" />
                                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                                <apex:selectList id="CardStateListId" value="{!fullQWrapper.cardState}" size="1">
                                                    <apex:selectOptions id="CardStateOptionId" value="{!cardStateOptions}"/>
                                                </apex:selectList>
                                                <br/>
                                                <div id="ValCardStateId" style="color:#F00;" ></div>
                                            </apex:outputPanel>
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem id="CardUserPassword">
                                            <apex:outputLabel value="Rental Result User Password" />
                                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                                <apex:inputSecret value="{!fullQWrapper.cardUserPassword}"  maxlength="20" id="CardUserPasswordId"/>
                                                <br/>
                                                <div id="ValCardUserPasswordId" style="color:#F00;" ></div>
                                            </apex:outputPanel>
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem id="CardZip">
                                            <apex:outputLabel value="Zip" />
                                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                                <apex:inputText value="{!fullQWrapper.cardZip}"  maxlength="20" id="cardZipId"/>
                                                <br/>
                                                <div id="ValCardZipId" style="color:#F00;" ></div>
                                            </apex:outputPanel>
                                        </apex:pageBlockSectionItem>
                                    </apex:pageBlockSection>
                                    <apex:pageBlockButtons >
                                        <apex:actionstatus id="addCardFormStatus">
                                            <apex:facet name="stop">
                                                <apex:outputPanel >
                                                    <apex:outputPanel rendered="{!isAddCard}" >
                                                        <input type="Button" class="btn" id="btnAddCard" value="Add Card" onclick="validateCardForm('add', this);"/>
                                                    </apex:outputPanel>
                                                    <apex:outputPanel rendered="{!!isAddCard}" >
                                                        <input type="Button" class="btn" id="btnUpdateCard" value="Update Card" onclick="validateCardForm('update', this);"/>
                                                    </apex:outputPanel>
                                                    <apex:commandButton action="{!BackToContact}" value="Back to Contact" status="addCardFormStatus" reRender="addConOuterPannel"/>
                                                </apex:outputPanel>
                                            </apex:facet>
                                            <apex:facet name="start">
                                                <apex:outputPanel >
                                                    <apex:commandButton value="Loading..." disabled="true" status="addCardFormStatus" reRender="addConOuterPannel"/>
                                                    <apex:commandButton value="Loading..." disabled="true" status="addCardFormStatus" reRender="addConOuterPannel"/>
                                                </apex:outputPanel>
                                            </apex:facet>
                                        </apex:actionstatus>
                                    </apex:pageBlockButtons>
                                </apex:pageblock>
                            </apex:outputPanel>
                            <apex:outputPanel id="addConListCardPannel"  rendered="{!isShowListCard}">
                                <apex:pageblock title="List Card">
                                    <div style="height:auto;min-height:50px;height:auto !important;height:30px;max-height: 230px;overflow:auto;">
                                        <apex:pageBlockTable value="{!listOfAllCards}" var="l">
                                            <apex:column headerValue="Card Type">
                                                <apex:outputText value="{!l.cardTypeDescription}" />
                                            </apex:column>
                                            <apex:column headerValue="Last 4 Digit">
                                                <apex:outputText value="{!l.cardNumberLast4}" />
                                            </apex:column>
                                            <apex:column headerValue="Expiry Date">
                                                <apex:outputText value="{!l.cardExpiryDate}" />
                                            </apex:column>
                                            <apex:column headerValue="Card Name">
                                                <apex:outputText value="{!l.cardName}" />
                                            </apex:column>
                                            <apex:column headerValue="Auto Pay" rendered="{!IF(docId != null && cloneIsTrue = '',true,false)}">
                                                <apex:actionstatus id="autoPayCardStatus">
                                                    <apex:facet name="stop">
                                                        <apex:commandLink action="{!AutoCard}" value="Auto Pay" status="autoPayCardStatus" id="AutoPayLnkId" reRender="addConOuterPannel">
                                                            <apex:param name="cardKey1" value="{!l.cardKey1}"/>
                                                            <apex:param name="cardKey2" value="{!l.cardKey2}"/>
                                                            <apex:param name="cardKey3" value="{!l.cardKey3}"/>
                                                            <apex:param name="cardContId" value="{!l.contactId}"/>
                                                            <apex:param name="Operation" value="ADD"/>
                                                        </apex:commandLink>
                                                    </apex:facet>
                                                    <apex:facet name="start">
                                                        <apex:commandLink value="Loading..." style="text-decoration:none;" status="autoPayCardStatus" reRender="addConOuterPannel" />
                                                    </apex:facet>
                                                </apex:actionstatus>
                                                &nbsp;&nbsp;<apex:outputText value="[Default]" rendered="{!l.defaultCard}" />&nbsp;&nbsp;
                                                <apex:outputPanel rendered="{!l.defaultCard}" >
	                                                <apex:actionstatus id="autoPayRemoveCardStatus">
	                                                    <apex:facet name="stop">
	                                                        <apex:commandLink action="{!AutoCard}" value="[Remove]" status="autoPayRemoveCardStatus" id="AutoPayRemoveLnkId" reRender="addConOuterPannel">
	                                                            <apex:param name="cardKey1" value="{!l.cardKey1}"/>
	                                                            <apex:param name="cardKey2" value="{!l.cardKey2}"/>
	                                                            <apex:param name="cardKey3" value="{!l.cardKey3}"/>
	                                                            <apex:param name="cardContId" value="{!l.contactId}"/>
	                                                            <apex:param name="Operation" value="REMOVE"/>
	                                                        </apex:commandLink>
	                                                    </apex:facet>
	                                                    <apex:facet name="start">
	                                                        <apex:commandLink value="Loading..." style="text-decoration:none;" status="autoPayRemoveCardStatus" reRender="addConOuterPannel" />
	                                                    </apex:facet>
	                                                </apex:actionstatus>
                                                </apex:outputPanel>
                                            </apex:column>
                                            <apex:column headerValue="Edit">
                                                <apex:actionstatus id="editCardStatus">
                                                    <apex:facet name="stop">
                                                        <apex:commandLink action="{!EditCard}" value="Edit Card" status="editCardStatus" id="EditCardLnkId" reRender="addConOuterPannel">
                                                            <apex:param name="cardKey1" value="{!l.cardKey1}"/>
                                                            <apex:param name="cardKey2" value="{!l.cardKey2}"/>
                                                            <apex:param name="cardKey3" value="{!l.cardKey3}"/>
                                                            <apex:param name="cardContId" value="{!l.contactId}"/>
                                                        </apex:commandLink>
                                                    </apex:facet>
                                                    <apex:facet name="start">
                                                        <apex:commandLink value="Loading..." style="text-decoration:none;" status="editCardStatus" reRender="addConOuterPannel" />
                                                    </apex:facet>
                                                </apex:actionstatus>
                                            </apex:column>
                                        </apex:pageBlockTable>
                                    </div>
                                </apex:pageblock>
                            </apex:outputPanel>
                            <apex:outputPanel id="addConAddAchPannel" rendered="{!isShowAddAch}">
                                <apex:pageblock title="Add ACH" id="addAchPbId">
                                    <apex:pageBlockSection title="" collapsible="true" id="addAchForm">
                                        <apex:pageBlockSectionItem id="AchFirstName">
                                            <apex:outputLabel value="First Name" />
                                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                                <apex:inputText value="{!fullQWrapper.achFirstName}"  maxlength="20" id="achFnId"/>
                                                <br/>
                                                <div id="ValAchFnId" style="color:#F00;" ></div>
                                            </apex:outputPanel>
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem id="BankName">
                                            <apex:outputLabel value="Bank Name" />
                                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                                <apex:inputText value="{!fullQWrapper.achBankName}"  maxlength="40" id="achBankNameId"/>
                                                <br/>
                                                <div id="ValAchBankNameId" style="color:#F00;" ></div>
                                            </apex:outputPanel>
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem id="AchLastName">
                                            <apex:outputLabel value="Last Name" />
                                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                                <apex:inputText value="{!fullQWrapper.achLastName}"  maxlength="20" id="achLastNameId" />
                                                <br/>
                                                <div id="ValAchLastNameId" style="color:#F00;" ></div>
                                            </apex:outputPanel>
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem id="AchBankAccNo">
                                            <apex:outputLabel value="Bank Account No." />
                                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                                <apex:inputText value="{!fullQWrapper.achBankAccNo}" onchange="EnableRelatedFields();" maxlength="19" id="achBankAccNoId" />
                                                <br/>
                                                <div id="ValAchBankAccNoId" style="color:#F00;" ></div>
                                            </apex:outputPanel>
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem id="AchEmail">
                                            <apex:outputLabel value="Email" />
                                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                                <apex:inputText value="{!fullQWrapper.achEmail}"  maxlength="40" id="achEmailId" />
                                                <br/>
                                                <div id="ValAchEmailId" style="color:#F00;" ></div>
                                            </apex:outputPanel>
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem id="AchBankSortCode">
                                            <apex:outputLabel value="Bank Routing No" />
                                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                                <apex:inputText value="{!fullQWrapper.achBankSortCode}" disabled="{!!isAddAch}" maxlength="20" id="achBankSortCodeId"/>
                                                <br/>
                                                <div id="ValAchBankSortCodeId" style="color:#F00;" ></div>
                                            </apex:outputPanel>
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem id="AchPhone">
                                            <apex:outputLabel value="Phone" />
                                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                                <apex:inputText value="{!fullQWrapper.achPhone}"  maxlength="20" id="achPhoneId" />
                                                <br/>
                                                <div id="ValAchPhoneId" style="color:#F00;" ></div>
                                            </apex:outputPanel>
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem id="AchBankAccType">
                                            <apex:outputLabel value="Bank Account Type" />
                                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                                <apex:selectList id="achBankAccTypeId" disabled="{!!isAddAch}" value="{!fullQWrapper.achBankAccType}" size="1">
                                                    <apex:selectOptions value="{!lstAchBankAccType}"/>
                                                </apex:selectList>
                                                <br/>
                                                <div id="ValAchBankAccTypeId" style="color:#F00;" ></div>
                                            </apex:outputPanel>
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem id="AchStreet">
                                            <apex:outputLabel value="Street" />
                                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                                <apex:inputText value="{!fullQWrapper.achStreet}"  maxlength="40" id="achStreetId"/>
                                                <br/>
                                                <div id="ValAchStreetId" style="color:#F00;" ></div>
                                            </apex:outputPanel>
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem id="AchCheckType">
                                            <apex:outputLabel value="Check Type" />
                                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                                <apex:selectList id="achCheckTypeId" disabled="{!!isAddAch}" value="{!fullQWrapper.achCheckType}" size="1">
                                                    <apex:selectOptions value="{!lstCheckType}"/>
                                                </apex:selectList>
                                                <br/>
                                                <div id="ValAchCheckTypeId" style="color:#F00;" ></div>
                                            </apex:outputPanel>
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem id="AchCity">
                                            <apex:outputLabel value="City" />
                                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                                <apex:inputText value="{!fullQWrapper.achCity}"  maxlength="20" id="achCityId"/>
                                                <br/>
                                                <div id="ValachCityId" style="color:#F00;" ></div>
                                            </apex:outputPanel>
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem id="AchBankCity">
                                            <apex:outputLabel value="Bank City" />
                                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                                <apex:inputText value="{!fullQWrapper.achBankCity}"  maxlength="20" id="achBankCityId"/>
                                                <br/>
                                                <div id="ValAchBankCityId" style="color:#F00;" ></div>
                                            </apex:outputPanel>
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem id="AchCountry">
                                            <apex:outputLabel value="Country" />
                                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                                <apex:selectList id="achCountryId" value="{!fullQWrapper.achCountry}" size="1">
                                                    <apex:selectOptions value="{!CountryOptions}"/>
                                                    <apex:actionsupport event="onchange" status="achCountryStatusId" action="{!PopulateAchStatesList}" rerender="addConOuterPannel,CardState,CardStateListId,CardStateOptionId" />
                                                </apex:selectList>
                                                <apex:actionStatus id="achCountryStatusId" >
                                                    <apex:facet name="start">
                                                        <apex:image value="{!$Resource.Loading}" width="20" height="20"/>
                                                    </apex:facet>
                                                    <apex:facet name="stop"></apex:facet>
                                                </apex:actionStatus>
                                                <br/>
                                                <div id="ValAchCountryId" style="color:#F00;" ></div>
                                            </apex:outputPanel>
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem id="AchBankState">
                                            <apex:outputLabel value="Bank State" />
                                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                                <apex:selectList id="achBankStateId" value="{!fullQWrapper.achBankState}" size="1">
                                                    <apex:selectOptions id="achBankStateOptionId" value="{!achStateOptions}"/>
                                                </apex:selectList>
                                                <br/>
                                                <div id="ValAchBankStateOptionId" style="color:#F00;" ></div>
                                            </apex:outputPanel>
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem id="AchState">
                                            <apex:outputLabel value="State" />
                                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                                <apex:selectList id="CardStateListId" value="{!fullQWrapper.achState}" size="1">
                                                    <apex:selectOptions id="achStateOptionId" value="{!achStateOptions}"/>
                                                </apex:selectList>
                                                <br/>
                                                <div id="ValAchStateOptionId" style="color:#F00;" ></div>
                                            </apex:outputPanel>
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem id="AchDefaultAddressCode">
                                            <apex:outputLabel value="Default Address Code" />
                                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                                <apex:selectList id="achDefaultAddressCodeId" value="{!fullQWrapper.achDefaultAddressCode}" size="1">
                                                    <apex:selectOptions value="{!lstDefaultAddress}"/>
                                                </apex:selectList>
                                                <br/>
                                                <div id="ValAchDefaultAddressCodeId" style="color:#F00;" ></div>
                                            </apex:outputPanel>
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem id="AchZip">
                                            <apex:outputLabel value="Zip" />
                                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                                <apex:inputText value="{!fullQWrapper.achZip}"  maxlength="15" id="achZipId"/>
                                                <br/>
                                                <div id="ValAchZipId" style="color:#F00;" ></div>
                                            </apex:outputPanel>
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem id="AchUserPassword">
                                            <apex:outputLabel value="Rental Result User Password" />
                                            <apex:outputPanel styleClass="requiredInput" layout="block" style="position:relative;left:2px;">
                                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                                <apex:inputSecret value="{!fullQWrapper.achUserPassword}"  maxlength="20" id="achUserPasswordId"/>
                                                <br/>
                                                <div id="ValAchUserPasswordId" style="color:#F00;" ></div>
                                            </apex:outputPanel>
                                        </apex:pageBlockSectionItem>
                                    </apex:pageBlockSection>
                                    <apex:pageBlockButtons >
                                        <apex:actionstatus id="addAchFormStatus">
                                            <apex:facet name="stop">
                                                <apex:outputPanel >
                                                    <apex:outputPanel rendered="{!isAddAch}" >
                                                        <input type="Button" class="btn" id="btnAddAch" value="Add ACH" onclick="validateAchForm('add', this);"/>
                                                    </apex:outputPanel>
                                                    <apex:outputPanel rendered="{!!isAddAch}" >
                                                        <input type="Button" class="btn" id="btnUpdateAch" value="Update ACH" onclick="validateAchForm('update', this);"/>
                                                    </apex:outputPanel>
                                                    <!-- <apex:commandButton action="{!BackToCard}" value="Back to Card" status="addAchFormStatus" reRender="addConOuterPannel"/> -->
                                                    <apex:commandButton action="{!BackToContact}" value="Back to Contact" status="addAchFormStatus" reRender="addConOuterPannel"/>
                                                </apex:outputPanel>
                                            </apex:facet>
                                            <apex:facet name="start">
                                                <apex:outputPanel >
                                                    <!-- <apex:commandButton value="Loading..." disabled="true" status="addAchFormStatus" reRender="addConOuterPannel"/> -->
                                                    <apex:commandButton value="Loading..." disabled="true" status="addAchFormStatus" reRender="addConOuterPannel"/>
                                                    <apex:commandButton value="Loading..." disabled="true" status="addAchFormStatus" reRender="addConOuterPannel"/>
                                                </apex:outputPanel>
                                            </apex:facet>
                                        </apex:actionstatus>
                                    </apex:pageBlockButtons>
                                </apex:pageblock>
                            </apex:outputPanel>
                            <apex:outputPanel id="addConListAchPannel"  rendered="{!isShowListAch}">
                                <apex:pageblock title="List ACH">
                                    <div style="height:auto;min-height:50px;height:auto !important;height:30px;max-height: 230px;overflow:auto;">
                                        <apex:pageBlockTable value="{!listOfAllAch}" var="l">
                                            <apex:column headerValue="Bank Name">
                                                <apex:outputText value="{!l.bankName}" />
                                            </apex:column>
                                            <apex:column headerValue="Account Type">
                                                <apex:outputText value="{!l.bankAccountTypeDescription}" />
                                            </apex:column>
                                            <apex:column headerValue="Bank City">
                                                <apex:outputText value="{!l.bankCity}" />
                                            </apex:column>
                                            <apex:column headerValue="Bank State">
                                                <apex:outputText value="{!l.bankState}" />
                                            </apex:column>
                                             <apex:column headerValue="Auto Pay" rendered="{!IF(docId != null && cloneIsTrue = '',true,false)}">
                                                <apex:actionstatus id="autoPayCardStatus">
                                                    <apex:facet name="stop">
                                                        <apex:commandLink action="{!AutoCard}" value="Auto Pay" status="autoPayCardStatus" id="AutoPayLnkId" reRender="addConOuterPannel">
                                                            <apex:param name="cardKey1" value="{!l.cardKey1}"/>
                                                            <apex:param name="cardKey2" value="{!l.cardKey2}"/>
                                                            <apex:param name="cardKey3" value="{!l.cardKey3}"/>
                                                            <apex:param name="cardContId" value="{!l.contactId}"/>
                                                            <apex:param name="Operation" value="ADD"/>
                                                        </apex:commandLink>
                                                    </apex:facet>
                                                    <apex:facet name="start">
                                                        <apex:commandLink value="Loading..." style="text-decoration:none;" status="autoPayCardStatus" reRender="addConOuterPannel" />
                                                    </apex:facet>
                                                </apex:actionstatus>
                                                &nbsp;&nbsp;<apex:outputText value="[Default]" rendered="{!l.defaultCard}" />&nbsp;&nbsp;
                                                <apex:outputPanel rendered="{!l.defaultCard}" >
	                                                <apex:actionstatus id="autoPayRemoveCardStatus">
	                                                    <apex:facet name="stop">
	                                                        <apex:commandLink action="{!AutoCard}" value="[Remove]" status="autoPayRemoveCardStatus" id="AutoPayRemoveLnkId" reRender="addConOuterPannel">
	                                                            <apex:param name="cardKey1" value="{!l.cardKey1}"/>
	                                                            <apex:param name="cardKey2" value="{!l.cardKey2}"/>
	                                                            <apex:param name="cardKey3" value="{!l.cardKey3}"/>
	                                                            <apex:param name="cardContId" value="{!l.contactId}"/>
	                                                            <apex:param name="Operation" value="REMOVE"/>
	                                                        </apex:commandLink>
	                                                    </apex:facet>
	                                                    <apex:facet name="start">
	                                                        <apex:commandLink value="Loading..." style="text-decoration:none;" status="autoPayRemoveCardStatus" reRender="addConOuterPannel" />
	                                                    </apex:facet>
	                                                </apex:actionstatus>
                                                </apex:outputPanel>
                                            </apex:column>
                                            <apex:column headerValue="Edit">
                                                <apex:actionstatus id="editAchStatus">
                                                    <apex:facet name="stop">
                                                        <apex:commandLink action="{!EditAch}" value="Edit ACH" status="editAchStatus" id="EditCardLnkId" reRender="addConOuterPannel">
                                                            <apex:param name="cardKey1" value="{!l.cardKey1}"/>
                                                            <apex:param name="cardKey2" value="{!l.cardKey2}"/>
                                                            <apex:param name="cardKey3" value="{!l.cardKey3}"/>
                                                            <apex:param name="achContId" value="{!l.contactId}"/>
                                                        </apex:commandLink>
                                                    </apex:facet>
                                                    <apex:facet name="start">
                                                        <apex:commandLink value="Loading..." style="text-decoration:none;" status="editAchStatus" reRender="addConOuterPannel" />
                                                    </apex:facet>
                                                </apex:actionstatus>
                                            </apex:column>
                                        </apex:pageBlockTable>
                                    </div>
                                </apex:pageblock>
                            </apex:outputPanel>
                        </apex:outputPanel>
                    </apex:outputPanel>
                </apex:outputPanel>
            </apex:outputpanel>
        </div>
    </apex:form>
</apex:page>